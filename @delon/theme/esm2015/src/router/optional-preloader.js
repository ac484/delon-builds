import { of } from 'rxjs';
import { catchError } from 'rxjs/operators';
/**
 * 可选预加载模块，当需要对某些懒路由在第一次页面加载时也一并加载该资源时，可以在路由中配置：
 *
 * @example
 */
export class PreloadOptionalModules {
    preload(route, fn) {
        var _a;
        return ((_a = route.data) === null || _a === void 0 ? void 0 : _a.preload) === true ? fn().pipe(catchError(() => of(null))) : of(null);
    }
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoib3B0aW9uYWwtcHJlbG9hZGVyLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vLi4vLi4vLi4vLi4vcGFja2FnZXMvdGhlbWUvc3JjL3JvdXRlci9vcHRpb25hbC1wcmVsb2FkZXIudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQ0EsT0FBTyxFQUFjLEVBQUUsRUFBRSxNQUFNLE1BQU0sQ0FBQztBQUN0QyxPQUFPLEVBQUUsVUFBVSxFQUFFLE1BQU0sZ0JBQWdCLENBQUM7QUFJNUM7Ozs7R0FJRztBQUNILE1BQU0sT0FBTyxzQkFBc0I7SUFDakMsT0FBTyxDQUFDLEtBQVksRUFBRSxFQUErQjs7UUFDbkQsT0FBTyxDQUFBLE1BQUEsS0FBSyxDQUFDLElBQUksMENBQUUsT0FBTyxNQUFLLElBQUksQ0FBQyxDQUFDLENBQUMsRUFBRSxFQUFFLENBQUMsSUFBSSxDQUFDLFVBQVUsQ0FBQyxHQUFHLEVBQUUsQ0FBQyxFQUFFLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxFQUFFLENBQUMsSUFBSSxDQUFDLENBQUM7SUFDekYsQ0FBQztDQUNGIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgUHJlbG9hZGluZ1N0cmF0ZWd5LCBSb3V0ZSB9IGZyb20gJ0Bhbmd1bGFyL3JvdXRlcic7XG5pbXBvcnQgeyBPYnNlcnZhYmxlLCBvZiB9IGZyb20gJ3J4anMnO1xuaW1wb3J0IHsgY2F0Y2hFcnJvciB9IGZyb20gJ3J4anMvb3BlcmF0b3JzJztcblxuaW1wb3J0IHR5cGUgeyBOelNhZmVBbnkgfSBmcm9tICduZy16b3Jyby1hbnRkL2NvcmUvdHlwZXMnO1xuXG4vKipcbiAqIOWPr+mAiemihOWKoOi9veaooeWdl++8jOW9k+mcgOimgeWvueafkOS6m+aHkui3r+eUseWcqOesrOS4gOasoemhtemdouWKoOi9veaXtuS5n+S4gOW5tuWKoOi9veivpei1hOa6kOaXtu+8jOWPr+S7peWcqOi3r+eUseS4remFjee9ru+8mlxuICpcbiAqIEBleGFtcGxlXG4gKi9cbmV4cG9ydCBjbGFzcyBQcmVsb2FkT3B0aW9uYWxNb2R1bGVzIGltcGxlbWVudHMgUHJlbG9hZGluZ1N0cmF0ZWd5IHtcbiAgcHJlbG9hZChyb3V0ZTogUm91dGUsIGZuOiAoKSA9PiBPYnNlcnZhYmxlPE56U2FmZUFueT4pOiBPYnNlcnZhYmxlPE56U2FmZUFueT4ge1xuICAgIHJldHVybiByb3V0ZS5kYXRhPy5wcmVsb2FkID09PSB0cnVlID8gZm4oKS5waXBlKGNhdGNoRXJyb3IoKCkgPT4gb2YobnVsbCkpKSA6IG9mKG51bGwpO1xuICB9XG59XG4iXX0=