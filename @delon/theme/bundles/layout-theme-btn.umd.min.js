/**
 * @license ng-alain(cipchk@qq.com) v11.1.0
 * (c) 2020 cipchk https://ng-alain.com/
 * License: MIT
 */
!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("@angular/cdk/bidi"),require("@angular/cdk/platform"),require("@angular/common"),require("@angular/core"),require("@delon/util"),require("rxjs"),require("rxjs/operators"),require("ng-zorro-antd/dropdown"),require("ng-zorro-antd/tooltip")):"function"==typeof define&&define.amd?define("@delon/theme/theme-btn",["exports","@angular/cdk/bidi","@angular/cdk/platform","@angular/common","@angular/core","@delon/util","rxjs","rxjs/operators","ng-zorro-antd/dropdown","ng-zorro-antd/tooltip"],t):t(((e="undefined"!=typeof globalThis?globalThis:e||self).delon=e.delon||{},e.delon.theme=e.delon.theme||{},e.delon.theme["theme-btn"]={}),e.ng.cdk.bidi,e.ng.cdk.platform,e.ng.common,e.ng.core,e.delon.util,e.rxjs,e.rxjs.operators,e.dropdown,e.tooltip)}(this,(function(e,t,o,n,r,i,a,l,s,d){"use strict";var h="site-theme";var c=function(){function e(e,t,o,n,i){this.renderer=e,this.configSrv=t,this.platform=o,this.doc=n,this.directionality=i,this.theme="default",this.isDev=r.isDevMode(),this.types=[{key:"default",text:"Default Theme"},{key:"dark",text:"Dark Theme"},{key:"compact",text:"Compact Theme"}],this.devTips="When the dark.css file can't be found, you need to run it once: npm run theme",this.destroy$=new a.Subject,this.dir="ltr"}return e.prototype.ngOnInit=function(){var e,t=this;this.dir=this.directionality.value,null===(e=this.directionality.change)||void 0===e||e.pipe(l.takeUntil(this.destroy$)).subscribe((function(e){t.dir=e})),this.initTheme()},e.prototype.initTheme=function(){this.platform.isBrowser&&(this.theme=localStorage.getItem(h)||"default",this.updateChartTheme(),this.onThemeChange(this.theme))},e.prototype.updateChartTheme=function(){this.configSrv.set("chart",{theme:"dark"===this.theme?"dark":""})},e.prototype.onThemeChange=function(e){if(this.platform.isBrowser){this.theme=e,this.renderer.setAttribute(this.doc.body,"data-theme",e);var t=this.doc.getElementById(h);if(t&&t.remove(),localStorage.removeItem(h),"default"!==e){var o=this.el=this.doc.createElement("link");o.type="text/css",o.rel="stylesheet",o.id=h,o.href="assets/style."+e+".css",localStorage.setItem(h,e),this.doc.body.append(o)}this.updateChartTheme()}},e.prototype.ngOnDestroy=function(){this.el&&this.doc.body.removeChild(this.el),this.destroy$.next(),this.destroy$.complete()},e}();c.decorators=[{type:r.Component,args:[{selector:"theme-btn",template:'<div class="ant-avatar ant-avatar-circle ant-avatar-icon" nz-dropdown nzPlacement="topCenter" [nzDropdownMenu]="types.length > 0 ? menu : null">\n  <svg nz-tooltip [nzTooltipTitle]="isDev ? devTips : null" class="anticon" role="img" width="21" height="21" viewBox="0 0 21 21" fill="currentColor">\n    <g fill-rule="evenodd">\n      <g fill-rule="nonzero">\n        <path\n          d="M7.02 3.635l12.518 12.518a1.863 1.863 0 010 2.635l-1.317 1.318a1.863 1.863 0 01-2.635 0L3.068 7.588A2.795 2.795 0 117.02 3.635zm2.09 14.428a.932.932 0 110 1.864.932.932 0 010-1.864zm-.043-9.747L7.75 9.635l9.154 9.153 1.318-1.317-9.154-9.155zM3.52 12.473c.514 0 .931.417.931.931v.932h.932a.932.932 0 110 1.864h-.932v.931a.932.932 0 01-1.863 0l-.001-.931h-.93a.932.932 0 010-1.864h.93v-.932c0-.514.418-.931.933-.931zm15.374-3.727a1.398 1.398 0 110 2.795 1.398 1.398 0 010-2.795zM4.385 4.953a.932.932 0 000 1.317l2.046 2.047L7.75 7 5.703 4.953a.932.932 0 00-1.318 0zM14.701.36a.932.932 0 01.931.932v.931h.932a.932.932 0 010 1.864h-.933l.001.932a.932.932 0 11-1.863 0l-.001-.932h-.93a.932.932 0 110-1.864h.93v-.931a.932.932 0 01.933-.932z"\n        ></path>\n      </g>\n    </g>\n  </svg>\n  <nz-dropdown-menu #menu="nzDropdownMenu">\n    <ul nz-menu nzSelectable>\n      <li nz-menu-item *ngFor="let i of types" (click)="onThemeChange(i.key)">{{ i.text }}</li>\n    </ul>\n  </nz-dropdown-menu>\n</div>\n',host:{"[class.theme-btn]":"true","[class.theme-btn-rtl]":"dir === 'rtl'"},changeDetection:r.ChangeDetectionStrategy.OnPush}]}],c.ctorParameters=function(){return[{type:r.Renderer2},{type:i.AlainConfigService},{type:o.Platform},{type:void 0,decorators:[{type:r.Inject,args:[n.DOCUMENT]}]},{type:t.Directionality,decorators:[{type:r.Optional}]}]},c.propDecorators={types:[{type:r.Input}],devTips:[{type:r.Input}]};Object.create;function u(e,t){var o="function"==typeof Symbol&&e[Symbol.iterator];if(!o)return e;var n,r,i=o.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(n=i.next()).done;)a.push(n.value)}catch(e){r={error:e}}finally{try{n&&!n.done&&(o=i.return)&&o.call(i)}finally{if(r)throw r.error}}return a}function p(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(u(arguments[t]));return e}Object.create;var m=[c],f=function(){};f.decorators=[{type:r.NgModule,args:[{imports:[n.CommonModule,i.DelonUtilModule,s.NzDropDownModule,d.NzToolTipModule],declarations:p(m),exports:p(m)}]}],e.ThemeBtnComponent=c,e.ThemeBtnModule=f,e.ThemeBtnStorageKey=h,Object.defineProperty(e,"__esModule",{value:!0})}));
//# sourceMappingURL=layout-theme-btn.umd.min.js.map