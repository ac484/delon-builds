/**
 * @license ng-alain(cipchk@qq.com) v11.0.0-rc.0
 * (c) 2020 cipchk https://ng-alain.com/
 * License: MIT
 */
!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("@angular/cdk/platform"),require("@angular/common"),require("@angular/core"),require("@delon/util"),require("ng-zorro-antd/dropdown"),require("ng-zorro-antd/tooltip")):"function"==typeof define&&define.amd?define("@delon/theme/theme-btn",["exports","@angular/cdk/platform","@angular/common","@angular/core","@delon/util","ng-zorro-antd/dropdown","ng-zorro-antd/tooltip"],t):t(((e="undefined"!=typeof globalThis?globalThis:e||self).delon=e.delon||{},e.delon.theme=e.delon.theme||{},e.delon.theme["theme-btn"]={}),e.ng.cdk.platform,e.ng.common,e.ng.core,e.delon.util,e.dropdown,e.tooltip)}(this,(function(e,t,n,o,r,a,i){"use strict";var l="site-theme";var h=function(){function e(e,t,n,r){this.renderer=e,this.configSrv=t,this.platform=n,this.doc=r,this.theme="default",this.isDev=o.isDevMode(),this.types=[{key:"default",text:"Default Theme"},{key:"dark",text:"Dark Theme"},{key:"compact",text:"Compact Theme"}],this.devTips="When the dark.css file can't be found, you need to run it once: npm run theme"}return e.prototype.ngOnInit=function(){this.initTheme()},e.prototype.initTheme=function(){this.platform.isBrowser&&(this.theme=localStorage.getItem(l)||"default",this.updateChartTheme(),this.onThemeChange(this.theme))},e.prototype.updateChartTheme=function(){this.configSrv.set("chart",{theme:"dark"===this.theme?"dark":""})},e.prototype.onThemeChange=function(e){if(this.platform.isBrowser){this.theme=e,this.renderer.setAttribute(this.doc.body,"data-theme",e);var t=this.doc.getElementById(l);if(t&&t.remove(),localStorage.removeItem(l),"default"!==e){var n=this.el=this.doc.createElement("link");n.type="text/css",n.rel="stylesheet",n.id=l,n.href="assets/style."+e+".css",localStorage.setItem(l,e),this.doc.body.append(n)}this.updateChartTheme()}},e.prototype.ngOnDestroy=function(){this.el&&this.doc.body.removeChild(this.el)},e}();h.decorators=[{type:o.Component,args:[{selector:"theme-btn",template:'<div class="ant-avatar ant-avatar-circle ant-avatar-icon" nz-dropdown nzPlacement="topCenter" [nzDropdownMenu]="types.length > 0 ? menu : null">\n  <svg nz-tooltip [nzTooltipTitle]="isDev ? devTips : null" class="anticon" role="img" width="21" height="21" viewBox="0 0 21 21" fill="currentColor">\n    <g fill-rule="evenodd">\n      <g fill-rule="nonzero">\n        <path\n          d="M7.02 3.635l12.518 12.518a1.863 1.863 0 010 2.635l-1.317 1.318a1.863 1.863 0 01-2.635 0L3.068 7.588A2.795 2.795 0 117.02 3.635zm2.09 14.428a.932.932 0 110 1.864.932.932 0 010-1.864zm-.043-9.747L7.75 9.635l9.154 9.153 1.318-1.317-9.154-9.155zM3.52 12.473c.514 0 .931.417.931.931v.932h.932a.932.932 0 110 1.864h-.932v.931a.932.932 0 01-1.863 0l-.001-.931h-.93a.932.932 0 010-1.864h.93v-.932c0-.514.418-.931.933-.931zm15.374-3.727a1.398 1.398 0 110 2.795 1.398 1.398 0 010-2.795zM4.385 4.953a.932.932 0 000 1.317l2.046 2.047L7.75 7 5.703 4.953a.932.932 0 00-1.318 0zM14.701.36a.932.932 0 01.931.932v.931h.932a.932.932 0 010 1.864h-.933l.001.932a.932.932 0 11-1.863 0l-.001-.932h-.93a.932.932 0 110-1.864h.93v-.931a.932.932 0 01.933-.932z"\n        ></path>\n      </g>\n    </g>\n  </svg>\n  <nz-dropdown-menu #menu="nzDropdownMenu">\n    <ul nz-menu nzSelectable>\n      <li nz-menu-item *ngFor="let i of types" (click)="onThemeChange(i.key)">{{ i.text }}</li>\n    </ul>\n  </nz-dropdown-menu>\n</div>\n',host:{"[class.theme-btn]":"true"},changeDetection:o.ChangeDetectionStrategy.OnPush}]}],h.ctorParameters=function(){return[{type:o.Renderer2},{type:r.AlainConfigService},{type:t.Platform},{type:void 0,decorators:[{type:o.Inject,args:[n.DOCUMENT]}]}]},h.propDecorators={types:[{type:o.Input}],devTips:[{type:o.Input}]};Object.create;function d(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var o,r,a=n.call(e),i=[];try{for(;(void 0===t||t-- >0)&&!(o=a.next()).done;)i.push(o.value)}catch(e){r={error:e}}finally{try{o&&!o.done&&(n=a.return)&&n.call(a)}finally{if(r)throw r.error}}return i}function s(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(d(arguments[t]));return e}Object.create;var c=[h],u=function(){};u.decorators=[{type:o.NgModule,args:[{imports:[n.CommonModule,r.DelonUtilModule,a.NzDropDownModule,i.NzToolTipModule],declarations:s(c),exports:s(c)}]}],e.ThemeBtnComponent=h,e.ThemeBtnModule=u,e.ThemeBtnStorageKey=l,Object.defineProperty(e,"__esModule",{value:!0})}));
//# sourceMappingURL=layout-theme-btn.umd.min.js.map