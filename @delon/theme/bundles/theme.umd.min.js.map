{"version":3,"sources":["ng://@delon/theme/src/win_tokens.ts","node_modules/tslib/tslib.es6.js","ng://@delon/theme/src/services/i18n/i18n.ts","ng://@delon/theme/src/services/menu/menu.service.ts","ng://@delon/theme/src/services/context-menu/context-menu.service.ts","ng://@delon/theme/src/services/scroll/scroll.service.ts","ng://@delon/theme/src/services/settings/settings.service.ts","ng://@delon/theme/src/theme.config.ts","ng://@delon/theme/src/services/responsive/responsive.ts","ng://@delon/theme/src/services/title/title.service.ts","ng://@delon/theme/src/locale/locale.tokens.ts","ng://@delon/theme/src/locale/languages/zh-CN.ts","ng://@delon/theme/src/locale/locale.service.ts","ng://@delon/theme/src/locale/locale.module.ts","ng://@delon/theme/src/services/modal/modal.helper.ts","ng://@delon/theme/src/services/drawer/drawer.helper.ts","ng://@delon/theme/src/services/http/http.client.ts","ng://@delon/theme/src/pipes/date/date.pipe.ts","ng://@delon/theme/src/pipes/currency/cn-currency.pipe.ts","ng://@delon/theme/src/pipes/keys/keys.pipe.ts","ng://@delon/theme/src/pipes/yn/yn.pipe.ts","ng://@delon/theme/src/theme.module.ts","ng://@delon/theme/src/version.ts","ng://@delon/theme/src/services/preloader/preloader.ts","ng://@delon/theme/src/locale/languages/en-US.ts","ng://@delon/theme/src/locale/languages/zh-TW.ts"],"names":["WINDOW","InjectionToken","extendStatics","d","b","Object","setPrototypeOf","__proto__","Array","p","hasOwnProperty","__read","o","n","m","Symbol","iterator","r","e","i","call","ar","next","done","push","value","error","__spread","arguments","length","concat","ALAIN_I18N_TOKEN","BehaviorSubject","defineProperty","AlainI18NServiceFake","prototype","this","change$","asObservable","pipe","filter","w","use","lang","getLangs","fanyi","key","Injectable","args","providedIn","MenuService","i18nSrv","aclService","_this","i18n$","change","subscribe","resume","_change$","share","visit","callback","inFn","list","parentMenu","depth","list_1","__values","tslib_1.__values","list_1_1","item","children","data","add","items","shortcuts","parent","link","linkExact","externalLink","badge","badgeDot","badgeStatus","shortcut","shortcutRoot","text","i18n","group","hide","acl","can","loadShortcut","ls","pos","findIndex","includes","splice","icon","_data","assign","_type","__id","_depth","map","clear","openedByUrl","url","findItem","startsWith","getPathByUrl","ret","ngOnDestroy","unsubscribe","Optional","type","Inject","ACLService","decorators","ContextMenuService","overlay","create","event","options","fakeElement","ElementRef","getBoundingClientRect","bottom","clientY","height","left","clientX","right","top","width","positions","ConnectionPositionPair","originX","originY","overlayX","overlayY","positionStrategy","position","flexibleConnectedTo","withPositions","ref","hasBackdrop","scrollStrategy","scrollStrategies","close","TemplateRef","attach","TemplatePortal","containerRef","ComponentPortal","backdropClick","open","preventDefault","stopPropagation","detach","dispose","Overlay","ScrollService","win","doc","scrollToElement","element","topOffset","body","scrollIntoView","scrollBy","pageYOffset","scrollToTop","DOCUMENT","LAYOUT_KEY","USER_KEY","APP_KEY","Subject","SettingsService","get","JSON","parse","localStorage","getItem","set","setItem","stringify","_layout","fixed","collapsed","boxed","_app","year","Date","getFullYear","_user","notify$","setLayout","name","layout","setApp","setUser","AlainThemeConfig","ResponsiveService","cog","rules","1","xs","2","sm","3","md","4","lg","5","xl","6","xxl","responsive","keys","some","Error","genCls","count","rule","Math","max","antColClass","clsMap","TitleService","injector","title","menuSrv","setTitle","_separator","_prefix","_suffix","_reverse","_default","getByElement","el","querySelector","firstChild","textContent","trim","getByRoute","ActivatedRoute","snapshot","getByMenu","menus","Router","isArray","newTitles","apply","reverse","join","Injector","Title","DELON_LOCALE","zhCN","abbr","exception","403","404","500","backToHome","noticeIcon","emptyText","clearText","reuseTab","closeOther","closeRight","tagSelect","expand","collapse","miniProgress","target","sf","submit","reset","search","edit","DelonLocaleService","locale","_locale","setLocale","getData","path","DELON_LOCALE_SERVICE_PROVIDER_FACTORY","exist","DELON_LOCALE_SERVICE_PROVIDER","provide","useFactory","deps","SkipSelf","Éµ0","NgModule","providers","useValue","ModalHelper","srv","comp","params","size","exact","includeTabs","Observable","observer","cls","defaultOptions","nzWrapClassName","nzContent","nzWidth","undefined","nzFooter","nzComponentParams","nzZIndex","zIndex","afterClose$","modalOptions","afterClose","res","complete","createStatic","nzMaskClosable","static","NzModalService","DrawerHelper","footer","footerHeight","drawerOptions","nzPlacement","nzContentParams","nzTitle","nzBodyStyle","overflow","padding-bottom","NzDrawerService","_HttpClient","http","nullValueHandling","dateValueHandling","_loading","parseParams","newParams","forEach","valueOf","HttpParams","fromObject","appliedUrl","indexOf","arr","begin","setTimeout","end","request","post","delete","jsonp","callbackParam","tap","catchError","throwError","patch","put","method","HttpClient","DatePipe","transform","formatString","distanceInWordsToNow","__locale__","format","Pipe","__extends","__","constructor","tslib_1.__extends","CNCurrencyPipe","currencyCode","display","digits","_super","CurrencyPipe","KeysPipe","keyIsNumber","YNPipe","yes","no","HELPERS","COMPONENTS","PIPES","AlainThemeModule","forRoot","ngModule","window","useClass","forChild","imports","CommonModule","RouterModule","OverlayModule","declarations","exports","DelonLocaleModule","VERSION","Version","preloaderFinished","document","preloader","style","appBootstrap","remove","addEventListener","className"],"mappings":"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","sourcesContent":["import { InjectionToken } from '@angular/core';\r\n\r\nexport const WINDOW = new InjectionToken('Window');\r\n","/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation. All rights reserved.\r\nLicensed under the Apache License, Version 2.0 (the \"License\"); you may not use\r\nthis file except in compliance with the License. You may obtain a copy of the\r\nLicense at http://www.apache.org/licenses/LICENSE-2.0\r\n\r\nTHIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\nKIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED\r\nWARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,\r\nMERCHANTABLITY OR NON-INFRINGEMENT.\r\n\r\nSee the Apache Version 2.0 License for specific language governing permissions\r\nand limitations under the License.\r\n***************************************************************************** */\r\n/* global Reflect, Promise */\r\n\r\nvar extendStatics = function(d, b) {\r\n    extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return extendStatics(d, b);\r\n};\r\n\r\nexport function __extends(d, b) {\r\n    extendStatics(d, b);\r\n    function __() { this.constructor = d; }\r\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n}\r\n\r\nexport var __assign = function() {\r\n    __assign = Object.assign || function __assign(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n        }\r\n        return t;\r\n    }\r\n    return __assign.apply(this, arguments);\r\n}\r\n\r\nexport function __rest(s, e) {\r\n    var t = {};\r\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\r\n        t[p] = s[p];\r\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\r\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) if (e.indexOf(p[i]) < 0)\r\n            t[p[i]] = s[p[i]];\r\n    return t;\r\n}\r\n\r\nexport function __decorate(decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n}\r\n\r\nexport function __param(paramIndex, decorator) {\r\n    return function (target, key) { decorator(target, key, paramIndex); }\r\n}\r\n\r\nexport function __metadata(metadataKey, metadataValue) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(metadataKey, metadataValue);\r\n}\r\n\r\nexport function __awaiter(thisArg, _arguments, P, generator) {\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n}\r\n\r\nexport function __generator(thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n}\r\n\r\nexport function __exportStar(m, exports) {\r\n    for (var p in m) if (!exports.hasOwnProperty(p)) exports[p] = m[p];\r\n}\r\n\r\nexport function __values(o) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator], i = 0;\r\n    if (m) return m.call(o);\r\n    return {\r\n        next: function () {\r\n            if (o && i >= o.length) o = void 0;\r\n            return { value: o && o[i++], done: !o };\r\n        }\r\n    };\r\n}\r\n\r\nexport function __read(o, n) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\r\n    if (!m) return o;\r\n    var i = m.call(o), r, ar = [], e;\r\n    try {\r\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\r\n    }\r\n    catch (error) { e = { error: error }; }\r\n    finally {\r\n        try {\r\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\r\n        }\r\n        finally { if (e) throw e.error; }\r\n    }\r\n    return ar;\r\n}\r\n\r\nexport function __spread() {\r\n    for (var ar = [], i = 0; i < arguments.length; i++)\r\n        ar = ar.concat(__read(arguments[i]));\r\n    return ar;\r\n}\r\n\r\nexport function __await(v) {\r\n    return this instanceof __await ? (this.v = v, this) : new __await(v);\r\n}\r\n\r\nexport function __asyncGenerator(thisArg, _arguments, generator) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var g = generator.apply(thisArg, _arguments || []), i, q = [];\r\n    return i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i;\r\n    function verb(n) { if (g[n]) i[n] = function (v) { return new Promise(function (a, b) { q.push([n, v, a, b]) > 1 || resume(n, v); }); }; }\r\n    function resume(n, v) { try { step(g[n](v)); } catch (e) { settle(q[0][3], e); } }\r\n    function step(r) { r.value instanceof __await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r); }\r\n    function fulfill(value) { resume(\"next\", value); }\r\n    function reject(value) { resume(\"throw\", value); }\r\n    function settle(f, v) { if (f(v), q.shift(), q.length) resume(q[0][0], q[0][1]); }\r\n}\r\n\r\nexport function __asyncDelegator(o) {\r\n    var i, p;\r\n    return i = {}, verb(\"next\"), verb(\"throw\", function (e) { throw e; }), verb(\"return\"), i[Symbol.iterator] = function () { return this; }, i;\r\n    function verb(n, f) { i[n] = o[n] ? function (v) { return (p = !p) ? { value: __await(o[n](v)), done: n === \"return\" } : f ? f(v) : v; } : f; }\r\n}\r\n\r\nexport function __asyncValues(o) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var m = o[Symbol.asyncIterator], i;\r\n    return m ? m.call(o) : (o = typeof __values === \"function\" ? __values(o) : o[Symbol.iterator](), i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i);\r\n    function verb(n) { i[n] = o[n] && function (v) { return new Promise(function (resolve, reject) { v = o[n](v), settle(resolve, reject, v.done, v.value); }); }; }\r\n    function settle(resolve, reject, d, v) { Promise.resolve(v).then(function(v) { resolve({ value: v, done: d }); }, reject); }\r\n}\r\n\r\nexport function __makeTemplateObject(cooked, raw) {\r\n    if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\r\n    return cooked;\r\n};\r\n\r\nexport function __importStar(mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k in mod) if (Object.hasOwnProperty.call(mod, k)) result[k] = mod[k];\r\n    result.default = mod;\r\n    return result;\r\n}\r\n\r\nexport function __importDefault(mod) {\r\n    return (mod && mod.__esModule) ? mod : { default: mod };\r\n}\r\n","import { InjectionToken, Injectable } from '@angular/core';\r\nimport { Observable, BehaviorSubject } from 'rxjs';\r\nimport { filter } from 'rxjs/operators';\r\n\r\nexport interface AlainI18NService {\r\n  [key: string]: any;\r\n\r\n  use(lang: string): void;\r\n\r\n  getLangs(): any[];\r\n\r\n  fanyi(key: string): any;\r\n\r\n  readonly change: Observable<string>;\r\n}\r\n\r\nexport const ALAIN_I18N_TOKEN = new InjectionToken<AlainI18NService>(\r\n  'alainTranslatorToken',\r\n);\r\n\r\n@Injectable({ providedIn: 'root' })\r\nexport class AlainI18NServiceFake implements AlainI18NService {\r\n  private change$ = new BehaviorSubject<string>(null);\r\n\r\n  get change(): Observable<string> {\r\n    return this.change$.asObservable().pipe(filter(w => w != null));\r\n  }\r\n\r\n  use(lang: string): void {\r\n    this.change$.next(lang);\r\n  }\r\n\r\n  getLangs(): any[] {\r\n    return [];\r\n  }\r\n\r\n  fanyi(key: string) {\r\n    return key;\r\n  }\r\n}\r\n","import { Injectable, Inject, Optional, OnDestroy } from '@angular/core';\r\nimport { Observable, Subscription, BehaviorSubject } from 'rxjs';\r\nimport { share } from 'rxjs/operators';\r\n\r\nimport { ACLService } from '@delon/acl';\r\n\r\nimport { ALAIN_I18N_TOKEN, AlainI18NService } from '../i18n/i18n';\r\nimport { Menu } from './interface';\r\n\r\n@Injectable({ providedIn: 'root' })\r\nexport class MenuService implements OnDestroy {\r\n  private _change$: BehaviorSubject<Menu[]> = new BehaviorSubject<Menu[]>([]);\r\n  private i18n$: Subscription;\r\n\r\n  private data: Menu[] = [];\r\n\r\n  constructor(\r\n    @Optional()\r\n    @Inject(ALAIN_I18N_TOKEN)\r\n    private i18nSrv: AlainI18NService,\r\n    @Optional() private aclService: ACLService,\r\n  ) {\r\n    if (this.i18nSrv)\r\n      this.i18n$ = this.i18nSrv.change.subscribe(() => this.resume());\r\n  }\r\n\r\n  get change(): Observable<Menu[]> {\r\n    return this._change$.pipe(share());\r\n  }\r\n\r\n  visit(callback: (item: Menu, parentMenum: Menu, depth?: number) => void) {\r\n    const inFn = (list: Menu[], parentMenu: Menu, depth: number) => {\r\n      for (const item of list) {\r\n        callback(item, parentMenu, depth);\r\n        if (item.children && item.children.length > 0) {\r\n          inFn(item.children, item, depth + 1);\r\n        } else {\r\n          item.children = [];\r\n        }\r\n      }\r\n    };\r\n\r\n    inFn(this.data, null, 0);\r\n  }\r\n\r\n  add(items: Menu[]) {\r\n    this.data = items;\r\n    this.resume();\r\n  }\r\n\r\n  /**\r\n   * Ã©ÂÂÃ§Â½Â®Ã¨ÂÂÃ¥ÂÂÃ¯Â¼ÂÃ¥ÂÂ¯Ã¨ÂÂ½I18NÃ£ÂÂÃ§ÂÂ¨Ã¦ÂÂ·Ã¦ÂÂÃ©ÂÂÃ¥ÂÂÃ¥ÂÂ¨Ã¦ÂÂ¶Ã©ÂÂÃ¨Â¦ÂÃ¨Â°ÂÃ§ÂÂ¨Ã¥ÂÂ·Ã¦ÂÂ°\r\n   */\r\n  resume(callback?: (item: Menu, parentMenum: Menu, depth?: number) => void) {\r\n    let i = 1;\r\n    const shortcuts: Menu[] = [];\r\n    this.visit((item, parent, depth) => {\r\n      item.__id = i++;\r\n      item.__parent = parent;\r\n      item._depth = depth;\r\n\r\n      if (!item.link) item.link = '';\r\n      if (typeof item.linkExact === 'undefined') item.linkExact = false;\r\n      if (!item.externalLink) item.externalLink = '';\r\n\r\n      // badge\r\n      if (item.badge) {\r\n        if (item.badgeDot !== true) {\r\n          item.badgeDot = false;\r\n        }\r\n        if (!item.badgeStatus) {\r\n          item.badgeStatus = 'error';\r\n        }\r\n      }\r\n\r\n      item._type = item.externalLink ? 2 : 1;\r\n      if (item.children && item.children.length > 0) {\r\n        item._type = 3;\r\n      }\r\n\r\n      // shortcut\r\n      if (parent && item.shortcut === true && parent.shortcutRoot !== true)\r\n        shortcuts.push(item);\r\n\r\n      item.text =\r\n        item.i18n && this.i18nSrv ? this.i18nSrv.fanyi(item.i18n) : item.text;\r\n\r\n      // group\r\n      item.group = typeof item.group !== 'boolean' ? true : item.group;\r\n\r\n      // hidden\r\n      item._hidden = typeof item.hide === 'undefined' ? false : item.hide;\r\n\r\n      // acl\r\n      if (item.acl && this.aclService) {\r\n        item._hidden = !this.aclService.can(item.acl);\r\n      }\r\n\r\n      if (callback) callback(item, parent, depth);\r\n    });\r\n\r\n    this.loadShortcut(shortcuts);\r\n    this._change$.next(this.data);\r\n  }\r\n\r\n  /**\r\n   * Ã¥ÂÂ Ã¨Â½Â½Ã¥Â¿Â«Ã¦ÂÂ·Ã¨ÂÂÃ¥ÂÂÃ¯Â¼ÂÃ¥ÂÂ Ã¨Â½Â½Ã¤Â½ÂÃ§Â½Â®Ã¨Â§ÂÃ¥ÂÂÃ¥Â¦ÂÃ¤Â¸ÂÃ¯Â¼Â\r\n   * 1Ã£ÂÂÃ§Â»ÂÃ¤Â¸ÂÃ¥ÂÂ¨Ã¤Â¸ÂÃ¦Â Â0Ã§ÂÂÃ¨ÂÂÃ§ÂÂ¹Ã¤Â¸ÂÃ¯Â¼ÂÃ¥ÂÂ³Ã£ÂÂÃ¤Â¸Â»Ã¥Â¯Â¼Ã¨ÂÂªÃ£ÂÂÃ¨ÂÂÃ§ÂÂ¹Ã¤Â¸ÂÃ¦ÂÂ¹Ã¯Â¼Â\r\n   *      1Ã£ÂÂÃ¨ÂÂ¥ children Ã¥Â­ÂÃ¥ÂÂ¨ Ã£ÂÂshortcutRoot: trueÃ£ÂÂÃ¥ÂÂÃ¦ÂÂÃ¤Â¼ÂÃ¥ÂÂÃ£ÂÂÃ¦ÂÂ¨Ã¨ÂÂÃ£ÂÂÃ¨Â¿ÂÃ§Â§ÂÃ¦ÂÂ¹Ã¥Â¼Â\r\n   *      2Ã£ÂÂÃ¥ÂÂ¦Ã¥ÂÂÃ¦ÂÂ¥Ã¦ÂÂ¾Ã¥Â¸Â¦Ã¦ÂÂÃ£ÂÂdashboardÃ£ÂÂÃ¥Â­ÂÃ¦Â Â·Ã©ÂÂ¾Ã¦ÂÂ¥Ã¯Â¼ÂÃ¨ÂÂ¥Ã¥Â­ÂÃ¥ÂÂ¨Ã¥ÂÂÃ¥ÂÂ¨Ã¦Â­Â¤Ã¨ÂÂÃ¥ÂÂÃ§ÂÂÃ¤Â¸ÂÃ¦ÂÂ¹Ã¥ÂÂÃ¥Â»ÂºÃ¥Â¿Â«Ã¦ÂÂ·Ã¥ÂÂ¥Ã¥ÂÂ£\r\n   *      3Ã£ÂÂÃ¥ÂÂ¦Ã¥ÂÂÃ¦ÂÂ¾Ã¥ÂÂ¨0Ã¨ÂÂÃ§ÂÂ¹Ã¤Â½ÂÃ§Â½Â®\r\n   */\r\n  private loadShortcut(shortcuts: Menu[]) {\r\n    if (shortcuts.length === 0 || this.data.length === 0) {\r\n      return;\r\n    }\r\n\r\n    const ls = this.data[0].children;\r\n    let pos = ls.findIndex(w => w.shortcutRoot === true);\r\n    if (pos === -1) {\r\n      pos = ls.findIndex(w => w.link.includes('dashboard'));\r\n      pos = (pos !== -1 ? pos : -1) + 1;\r\n      const shortcutMenu = <Menu>{\r\n        text: 'Ã¥Â¿Â«Ã¦ÂÂ·Ã¨ÂÂÃ¥ÂÂ',\r\n        i18n: 'shortcut',\r\n        icon: 'icon-rocket',\r\n        children: [],\r\n      };\r\n      this.data[0].children.splice(pos, 0, shortcutMenu);\r\n    }\r\n    let _data = this.data[0].children[pos];\r\n    if (_data.i18n && this.i18nSrv) _data.text = this.i18nSrv.fanyi(_data.i18n);\r\n    _data = Object.assign(_data, {\r\n      shortcutRoot: true,\r\n      _type: 3,\r\n      __id: -1,\r\n      _depth: 1,\r\n    });\r\n    _data.children = shortcuts.map(i => {\r\n      i._depth = 2;\r\n      return i;\r\n    });\r\n  }\r\n\r\n  get menus() {\r\n    return this.data;\r\n  }\r\n\r\n  /**\r\n   * Ã¦Â¸ÂÃ§Â©ÂºÃ¨ÂÂÃ¥ÂÂ\r\n   */\r\n  clear() {\r\n    this.data = [];\r\n    this._change$.next(this.data);\r\n  }\r\n\r\n  /**\r\n   * Ã¦Â Â¹Ã¦ÂÂ®URLÃ¨Â®Â¾Ã§Â½Â®Ã¨ÂÂÃ¥ÂÂ `_open` Ã¥Â±ÂÃ¦ÂÂ§\r\n   * @param url URLÃ¥ÂÂ°Ã¥ÂÂ\r\n   */\r\n  openedByUrl(url: string) {\r\n    if (!url) return;\r\n\r\n    let findItem: Menu = null;\r\n    this.visit(item => {\r\n      item._open = false;\r\n      if (!item.link) {\r\n        return;\r\n      }\r\n      if (!findItem && url.startsWith(item.link)) {\r\n        findItem = item;\r\n      }\r\n    });\r\n    if (!findItem) return;\r\n\r\n    do {\r\n      findItem._open = true;\r\n      findItem = findItem.__parent;\r\n    } while (findItem);\r\n  }\r\n\r\n  /**\r\n   * Ã¦Â Â¹Ã¦ÂÂ®urlÃ¨ÂÂ·Ã¥ÂÂÃ¨ÂÂÃ¥ÂÂÃ¥ÂÂÃ¨Â¡Â¨\r\n   * @param url\r\n   */\r\n  getPathByUrl(url: string): Menu[] {\r\n    let item: Menu = null;\r\n    this.visit((i, parent, depth) => {\r\n      if (i.link === url) {\r\n        item = i;\r\n      }\r\n    });\r\n\r\n    const ret: Menu[] = [];\r\n    if (!item) return ret;\r\n\r\n    do {\r\n      ret.splice(0, 0, item);\r\n      item = item.__parent;\r\n    } while (item);\r\n\r\n    return ret;\r\n  }\r\n\r\n  ngOnDestroy(): void {\r\n    this._change$.unsubscribe();\r\n    if (this.i18n$) this.i18n$.unsubscribe();\r\n  }\r\n}\r\n","import {\r\n  Injectable,\r\n  ViewContainerRef,\r\n  TemplateRef,\r\n  ElementRef,\r\n} from '@angular/core';\r\nimport {\r\n  Overlay,\r\n  OverlayRef,\r\n  ConnectionPositionPair,\r\n  OverlayConfig,\r\n} from '@angular/cdk/overlay';\r\nimport {\r\n  TemplatePortal,\r\n  ComponentPortal,\r\n  ComponentType,\r\n} from '@angular/cdk/portal';\r\n\r\nexport type ContextMenuType = TemplateRef<{}> | ComponentType<{}>;\r\n\r\n@Injectable({\r\n  providedIn: 'root',\r\n})\r\nexport class ContextMenuService {\r\n  private ref: OverlayRef;\r\n  private type: ContextMenuType;\r\n  private containerRef: ViewContainerRef;\r\n\r\n  constructor(private overlay: Overlay) {}\r\n\r\n  private create(event: MouseEvent, options?: OverlayConfig) {\r\n    const fakeElement = new ElementRef({\r\n      getBoundingClientRect: (): ClientRect => ({\r\n        bottom: event.clientY,\r\n        height: 0,\r\n        left: event.clientX,\r\n        right: event.clientX,\r\n        top: event.clientY,\r\n        width: 0,\r\n      }),\r\n    });\r\n    const positions = [\r\n      new ConnectionPositionPair(\r\n        { originX: 'start', originY: 'bottom' },\r\n        { overlayX: 'start', overlayY: 'top' },\r\n      ),\r\n      new ConnectionPositionPair(\r\n        { originX: 'start', originY: 'top' },\r\n        { overlayX: 'start', overlayY: 'bottom' },\r\n      ),\r\n    ];\r\n    const positionStrategy = this.overlay\r\n      .position()\r\n      .flexibleConnectedTo(fakeElement)\r\n      .withPositions(positions);\r\n    this.ref = this.overlay.create(\r\n      Object.assign(\r\n        {\r\n          positionStrategy,\r\n          hasBackdrop: true,\r\n          scrollStrategy: this.overlay.scrollStrategies.close(),\r\n        },\r\n        options,\r\n      ),\r\n    );\r\n    if (this.type instanceof TemplateRef) {\r\n      this.ref.attach(new TemplatePortal(this.type, this.containerRef));\r\n    } else {\r\n      this.ref.attach(new ComponentPortal(this.type, this.containerRef));\r\n    }\r\n    this.ref.backdropClick().subscribe(() => this.close());\r\n  }\r\n\r\n  open(\r\n    event: MouseEvent,\r\n    ref: ContextMenuType,\r\n    containerRef: ViewContainerRef,\r\n    options?: OverlayConfig,\r\n  ): false {\r\n    this.close();\r\n    this.type = ref;\r\n    this.containerRef = containerRef;\r\n    this.create(event, options);\r\n    event.preventDefault();\r\n    event.stopPropagation();\r\n    return false;\r\n  }\r\n\r\n  close() {\r\n    if (!this.ref) return;\r\n    this.ref.detach();\r\n    this.ref.dispose();\r\n    this.ref = null;\r\n  }\r\n}\r\n","import { Injectable, Inject } from '@angular/core';\r\nimport { DOCUMENT } from '@angular/common';\r\nimport { WINDOW } from '../../win_tokens';\r\n\r\n@Injectable({ providedIn: 'root' })\r\nexport class ScrollService {\r\n  constructor(\r\n    @Inject(WINDOW) private win: any,\r\n    @Inject(DOCUMENT) private doc: any,\r\n  ) {}\r\n\r\n  /**\r\n   * Ã¨Â®Â¾Ã§Â½Â®Ã¦Â»ÂÃ¥ÂÂ¨Ã¦ÂÂ¡Ã¨ÂÂ³Ã¦ÂÂÃ¥Â®ÂÃ¥ÂÂÃ§Â´Â \r\n   * @param element Ã¦ÂÂÃ¥Â®ÂÃ¥ÂÂÃ§Â´Â Ã¯Â¼ÂÃ©Â»ÂÃ¨Â®Â¤ `document.body`\r\n   * @param topOffset Ã¥ÂÂÃ§Â§Â»Ã¥ÂÂ¼Ã¯Â¼ÂÃ©Â»ÂÃ¨Â®Â¤ `0`\r\n   */\r\n  scrollToElement(element?: Element, topOffset = 0) {\r\n    if (!element) element = this.doc.body;\r\n\r\n    element.scrollIntoView();\r\n\r\n    const w = this.win;\r\n    if (w && w.scrollBy) {\r\n      w.scrollBy(0, element.getBoundingClientRect().top - topOffset);\r\n\r\n      if (w.pageYOffset < 20) {\r\n        w.scrollBy(0, -w.pageYOffset);\r\n      }\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Ã¦Â»ÂÃ¥ÂÂ¨Ã¨ÂÂ³Ã©Â¡Â¶Ã©ÂÂ¨\r\n   * @param topOffset Ã¥ÂÂÃ§Â§Â»Ã¥ÂÂ¼Ã¯Â¼ÂÃ©Â»ÂÃ¨Â®Â¤ `0`\r\n   */\r\n  scrollToTop(topOffset = 0) {\r\n    this.scrollToElement(this.doc.body, topOffset);\r\n  }\r\n}\r\n","import { Injectable } from '@angular/core';\r\nimport { Subject, Observable } from 'rxjs';\r\nimport { App, Layout, User, SettingsNotify } from './interface';\r\n\r\nconst LAYOUT_KEY = 'layout';\r\nconst USER_KEY = 'user';\r\nconst APP_KEY = 'app';\r\n\r\n@Injectable({ providedIn: 'root' })\r\nexport class SettingsService {\r\n  private notify$ = new Subject<SettingsNotify>();\r\n  private _app: App = null;\r\n  private _user: User = null;\r\n  private _layout: Layout = null;\r\n\r\n  private get(key: string) {\r\n    return JSON.parse(localStorage.getItem(key) || 'null') || null;\r\n  }\r\n\r\n  private set(key: string, value: any) {\r\n    localStorage.setItem(key, JSON.stringify(value));\r\n  }\r\n\r\n  get layout(): Layout {\r\n    if (!this._layout) {\r\n      this._layout = Object.assign(\r\n        <Layout>{\r\n          fixed: true,\r\n          collapsed: false,\r\n          boxed: false,\r\n          lang: null,\r\n        },\r\n        this.get(LAYOUT_KEY),\r\n      );\r\n      this.set(LAYOUT_KEY, this._layout);\r\n    }\r\n    return this._layout;\r\n  }\r\n\r\n  get app(): App {\r\n    if (!this._app) {\r\n      this._app = Object.assign(\r\n        <App>{\r\n          year: new Date().getFullYear(),\r\n        },\r\n        this.get(APP_KEY),\r\n      );\r\n      this.set(APP_KEY, this._app);\r\n    }\r\n    return this._app;\r\n  }\r\n\r\n  get user(): User {\r\n    if (!this._user) {\r\n      this._user = Object.assign(<User>{}, this.get(USER_KEY));\r\n      this.set(USER_KEY, this._user);\r\n    }\r\n    return this._user;\r\n  }\r\n\r\n  get notify(): Observable<SettingsNotify> {\r\n    return this.notify$.asObservable();\r\n  }\r\n\r\n  setLayout(name: string | Layout, value?: any): boolean {\r\n    if (typeof name === 'string') {\r\n      this.layout[name] = value;\r\n    } else {\r\n      this._layout = name;\r\n    }\r\n    this.set(LAYOUT_KEY, this._layout);\r\n    this.notify$.next({ type: 'layout', name, value } as any);\r\n    return true;\r\n  }\r\n\r\n  setApp(value: App) {\r\n    this._app = value;\r\n    this.set(APP_KEY, value);\r\n    this.notify$.next({ type: 'app', value });\r\n    return true;\r\n  }\r\n\r\n  setUser(value: User) {\r\n    this._user = value;\r\n    this.set(USER_KEY, value);\r\n    this.notify$.next({ type: 'user', value });\r\n    return true;\r\n  }\r\n}\r\n","import { Injectable } from '@angular/core';\r\nimport { HttpClientConfig } from './services/http/http.config';\r\nimport { ResponsiveConfig } from './services/responsive/responsive.config';\r\n\r\n@Injectable({ providedIn: 'root' })\r\nexport class AlainThemeConfig {\r\n  http?: HttpClientConfig;\r\n  responsive?: ResponsiveConfig;\r\n}\r\n","import { Injectable } from '@angular/core';\r\nimport { AlainThemeConfig } from '../../theme.config';\r\nimport { ResponsiveConfig } from './responsive.config';\r\n\r\nexport const REP_MAX = 6;\r\n\r\n@Injectable({ providedIn: 'root' })\r\nexport class ResponsiveService {\r\n  private cog: ResponsiveConfig;\r\n  constructor(cog: AlainThemeConfig) {\r\n    this.cog = Object.assign(\r\n      <ResponsiveConfig>{\r\n        rules: {\r\n          1: { xs: 24 },\r\n          2: { xs: 24, sm: 12 },\r\n          3: { xs: 24, sm: 12, md: 8 },\r\n          4: { xs: 24, sm: 12, md: 8, lg: 6 },\r\n          5: { xs: 24, sm: 12, md: 8, lg: 6, xl: 4 },\r\n          6: { xs: 24, sm: 12, md: 8, lg: 6, xl: 4, xxl: 2 },\r\n        },\r\n      },\r\n      cog!.responsive,\r\n    );\r\n    if (\r\n      Object.keys(this.cog.rules)\r\n        .map(i => +i)\r\n        .some((i: number) => i < 1 || i > REP_MAX)\r\n    ) {\r\n      throw new Error(\r\n        `[theme] the responseive rule index value range must be 1-${REP_MAX}`,\r\n      );\r\n    }\r\n  }\r\n\r\n  genCls(count: number): string[] {\r\n    const rule = this.cog.rules[count > REP_MAX ? REP_MAX : Math.max(count, 1)];\r\n    const antColClass = 'ant-col';\r\n    const clsMap = [`${antColClass}-xs-${rule.xs}`];\r\n    if (rule.sm) clsMap.push(`${antColClass}-sm-${rule.sm}`);\r\n    if (rule.md) clsMap.push(`${antColClass}-md-${rule.md}`);\r\n    if (rule.lg) clsMap.push(`${antColClass}-lg-${rule.lg}`);\r\n    if (rule.xl) clsMap.push(`${antColClass}-xl-${rule.xl}`);\r\n    if (rule.xxl) clsMap.push(`${antColClass}-xxl-${rule.xxl}`);\r\n    return clsMap;\r\n  }\r\n}\r\n","import {\r\n  Injectable,\r\n  Inject,\r\n  Optional,\r\n  Injector,\r\n  OnDestroy,\r\n} from '@angular/core';\r\nimport { ActivatedRoute, Router } from '@angular/router';\r\nimport { Title } from '@angular/platform-browser';\r\nimport { DOCUMENT } from '@angular/common';\r\nimport { Subscription } from 'rxjs';\r\n\r\nimport { MenuService } from '../menu/menu.service';\r\nimport { ALAIN_I18N_TOKEN, AlainI18NService } from '../i18n/i18n';\r\n\r\n/**\r\n * Ã¨Â®Â¾Ã§Â½Â®Ã¦Â ÂÃ©Â¢Â\r\n * @see https://ng-alain.com/docs/service#TitleService\r\n */\r\n@Injectable({ providedIn: 'root' })\r\nexport class TitleService implements OnDestroy {\r\n  private _prefix = '';\r\n  private _suffix = '';\r\n  private _separator = ' - ';\r\n  private _reverse = false;\r\n  private _default = 'Not Page Name';\r\n  private i18n$: Subscription;\r\n\r\n  constructor(\r\n    private injector: Injector,\r\n    private title: Title,\r\n    private menuSrv: MenuService,\r\n    @Optional()\r\n    @Inject(ALAIN_I18N_TOKEN)\r\n    private i18nSrv: AlainI18NService,\r\n    @Inject(DOCUMENT) private doc: any,\r\n  ) {\r\n    if (this.i18nSrv)\r\n      this.i18n$ = this.i18nSrv.change.subscribe(() => this.setTitle());\r\n  }\r\n\r\n  /** Ã¨Â®Â¾Ã§Â½Â®Ã¥ÂÂÃ©ÂÂÃ§Â¬Â¦ */\r\n  set separator(value: string) {\r\n    this._separator = value;\r\n  }\r\n\r\n  /** Ã¨Â®Â¾Ã§Â½Â®Ã¥ÂÂÃ§Â¼Â */\r\n  set prefix(value: string) {\r\n    this._prefix = value;\r\n  }\r\n\r\n  /** Ã¨Â®Â¾Ã§Â½Â®Ã¥ÂÂÃ§Â¼Â */\r\n  set suffix(value: string) {\r\n    this._suffix = value;\r\n  }\r\n\r\n  /** Ã¨Â®Â¾Ã§Â½Â®Ã¦ÂÂ¯Ã¥ÂÂ¦Ã¥ÂÂÃ¨Â½Â¬ */\r\n  set reverse(value: boolean) {\r\n    this._reverse = value;\r\n  }\r\n\r\n  /** Ã¨Â®Â¾Ã§Â½Â®Ã©Â»ÂÃ¨Â®Â¤Ã¦Â ÂÃ©Â¢ÂÃ¥ÂÂ */\r\n  set default(value: string) {\r\n    this._default = value;\r\n  }\r\n\r\n  private getByElement(): string {\r\n    const el =\r\n      this.doc.querySelector('.alain-default__content-title h1') ||\r\n      this.doc.querySelector('.page-header__title');\r\n    if (el) {\r\n      return el.firstChild.textContent.trim();\r\n    }\r\n    return '';\r\n  }\r\n\r\n  private getByRoute(): string {\r\n    let next = this.injector.get(ActivatedRoute);\r\n    while (next.firstChild) next = next.firstChild;\r\n    const data = (next.snapshot && next.snapshot.data) || {};\r\n    if (data.titleI18n && this.i18nSrv)\r\n      data.title = this.i18nSrv.fanyi(data.titleI18n);\r\n    return data.title;\r\n  }\r\n\r\n  private getByMenu(): string {\r\n    const menus = this.menuSrv.getPathByUrl(this.injector.get(Router).url);\r\n    if (!menus || menus.length <= 0) return '';\r\n\r\n    const item = menus[menus.length - 1];\r\n    let title;\r\n    if (item.i18n && this.i18nSrv) title = this.i18nSrv.fanyi(item.i18n);\r\n    return title || item.text;\r\n  }\r\n\r\n  /**\r\n   * Ã¨Â®Â¾Ã§Â½Â®Ã¦Â ÂÃ©Â¢Â\r\n   */\r\n  setTitle(title?: string | string[]) {\r\n    if (!title) {\r\n      title =\r\n        this.getByRoute() ||\r\n        this.getByMenu() ||\r\n        this.getByElement() ||\r\n        this._default;\r\n    }\r\n    if (title && !Array.isArray(title)) {\r\n      title = [title];\r\n    }\r\n\r\n    let newTitles = [];\r\n    if (this._prefix) {\r\n      newTitles.push(this._prefix);\r\n    }\r\n    newTitles.push(...(title as string[]));\r\n    if (this._suffix) {\r\n      newTitles.push(this._suffix);\r\n    }\r\n    if (this._reverse) {\r\n      newTitles = newTitles.reverse();\r\n    }\r\n    this.title.setTitle(newTitles.join(this._separator));\r\n  }\r\n\r\n  ngOnDestroy(): void {\r\n    if (this.i18n$) this.i18n$.unsubscribe();\r\n  }\r\n}\r\n","import { InjectionToken } from '@angular/core';\r\n\r\nexport const DELON_LOCALE = new InjectionToken<string>('delon-locale');\r\n","import { LocaleData } from '../locale.types';\r\n\r\nexport default <LocaleData>{\r\n  abbr: 'zh-CN',\r\n  exception: {\r\n    403: 'Ã¦ÂÂ±Ã¦Â­ÂÃ¯Â¼ÂÃ¤Â½Â Ã¦ÂÂ Ã¦ÂÂÃ¨Â®Â¿Ã©ÂÂ®Ã¨Â¯Â¥Ã©Â¡ÂµÃ©ÂÂ¢',\r\n    404: 'Ã¦ÂÂ±Ã¦Â­ÂÃ¯Â¼ÂÃ¤Â½Â Ã¨Â®Â¿Ã©ÂÂ®Ã§ÂÂÃ©Â¡ÂµÃ©ÂÂ¢Ã¤Â¸ÂÃ¥Â­ÂÃ¥ÂÂ¨',\r\n    500: 'Ã¦ÂÂ±Ã¦Â­ÂÃ¯Â¼ÂÃ¦ÂÂÃ¥ÂÂ¡Ã¥ÂÂ¨Ã¥ÂÂºÃ©ÂÂÃ¤ÂºÂ',\r\n    backToHome: 'Ã¨Â¿ÂÃ¥ÂÂÃ©Â¦ÂÃ©Â¡Âµ',\r\n  },\r\n  noticeIcon: {\r\n    emptyText: 'Ã¦ÂÂÃ¦ÂÂ Ã¦ÂÂ°Ã¦ÂÂ®',\r\n    clearText: 'Ã¦Â¸ÂÃ§Â©Âº',\r\n  },\r\n  reuseTab: {\r\n    close: 'Ã¥ÂÂ³Ã©ÂÂ­Ã¦Â ÂÃ§Â­Â¾',\r\n    closeOther: 'Ã¥ÂÂ³Ã©ÂÂ­Ã¥ÂÂ¶Ã¥Â®ÂÃ¦Â ÂÃ§Â­Â¾',\r\n    closeRight: 'Ã¥ÂÂ³Ã©ÂÂ­Ã¥ÂÂ³Ã¤Â¾Â§Ã¦Â ÂÃ§Â­Â¾',\r\n    clear: 'Ã¦Â¸ÂÃ§Â©Âº',\r\n  },\r\n  tagSelect: {\r\n    expand: 'Ã¥Â±ÂÃ¥Â¼Â',\r\n    collapse: 'Ã¦ÂÂ¶Ã¨ÂµÂ·',\r\n  },\r\n  miniProgress: {\r\n    target: 'Ã§ÂÂ®Ã¦Â ÂÃ¥ÂÂ¼Ã¯Â¼Â'\r\n  },\r\n  sf: {\r\n    submit: 'Ã¦ÂÂÃ¤ÂºÂ¤',\r\n    reset: 'Ã©ÂÂÃ§Â½Â®',\r\n    search: 'Ã¦ÂÂÃ§Â´Â¢',\r\n    edit: 'Ã¤Â¿ÂÃ¥Â­Â',\r\n  },\r\n};\r\n","import { Injectable, Inject, Provider, Optional, SkipSelf } from '@angular/core';\r\nimport { Observable, BehaviorSubject } from 'rxjs';\r\n\r\nimport { LocaleData } from './locale.types';\r\nimport { DELON_LOCALE } from './locale.tokens';\r\nimport zhCN from './languages/zh-CN';\r\n\r\n@Injectable()\r\nexport class DelonLocaleService {\r\n  private _locale: LocaleData;\r\n  private change$ = new BehaviorSubject<LocaleData>(this._locale);\r\n\r\n  constructor(@Inject(DELON_LOCALE) locale: LocaleData) {\r\n    this.setLocale(locale || zhCN);\r\n  }\r\n\r\n  get change(): Observable<LocaleData> {\r\n    return this.change$.asObservable();\r\n  }\r\n\r\n  setLocale(locale: LocaleData): void {\r\n    if (this._locale && this._locale.abbr === locale.abbr) {\r\n      return;\r\n    }\r\n    this._locale = locale;\r\n    this.change$.next(locale);\r\n  }\r\n\r\n  get locale(): LocaleData {\r\n    return this._locale;\r\n  }\r\n\r\n  getData(path: string) {\r\n    return this._locale[path] || {};\r\n  }\r\n}\r\n\r\nexport function DELON_LOCALE_SERVICE_PROVIDER_FACTORY(exist: DelonLocaleService, locale: LocaleData): DelonLocaleService {\r\n  return exist || new DelonLocaleService(locale);\r\n}\r\n\r\nexport const DELON_LOCALE_SERVICE_PROVIDER: Provider = {\r\n  provide   : DelonLocaleService,\r\n  useFactory: DELON_LOCALE_SERVICE_PROVIDER_FACTORY,\r\n  deps      : [ [ new Optional(), new SkipSelf(), DelonLocaleService ], DELON_LOCALE ]\r\n};\r\n","import { NgModule } from '@angular/core';\r\n\r\nimport zhCN from './languages/zh-CN';\r\n\r\nimport { DELON_LOCALE } from './locale.tokens';\r\nimport { DELON_LOCALE_SERVICE_PROVIDER } from './locale.service';\r\n\r\n@NgModule({\r\n  providers: [\r\n    { provide: DELON_LOCALE, useValue: zhCN },\r\n    DELON_LOCALE_SERVICE_PROVIDER,\r\n  ],\r\n})\r\nexport class DelonLocaleModule {}\r\n","import { Injectable } from '@angular/core';\r\nimport { Observable, Observer } from 'rxjs';\r\nimport { NzModalService, ModalOptionsForService } from 'ng-zorro-antd';\r\n\r\nexport interface ModalHelperOptions {\r\n  /** Ã¥Â¤Â§Ã¥Â°ÂÃ¯Â¼ÂÃ¤Â¾ÂÃ¥Â¦ÂÃ¯Â¼ÂlgÃ£ÂÂ600Ã¯Â¼ÂÃ©Â»ÂÃ¨Â®Â¤Ã¯Â¼Â`lg` */\r\n  size?: 'sm' | 'md' | 'lg' | 'xl' | '' | number;\r\n  /** Ã¥Â¯Â¹Ã¨Â¯ÂÃ¦Â¡Â [ModalOptionsForService](https://github.com/NG-ZORRO/ng-zorro-antd/blob/master/components/modal/nz-modal.type.ts) Ã¥ÂÂÃ¦ÂÂ° */\r\n  modalOptions?: ModalOptionsForService;\r\n  /** Ã¦ÂÂ¯Ã¥ÂÂ¦Ã§Â²Â¾Ã¥ÂÂÃ¯Â¼ÂÃ©Â»ÂÃ¨Â®Â¤Ã¯Â¼Â`true`Ã¯Â¼ÂÃ¯Â¼ÂÃ¨ÂÂ¥Ã¨Â¿ÂÃ¥ÂÂÃ¥ÂÂ¼Ã©ÂÂÃ§Â©ÂºÃ¥ÂÂ¼Ã¯Â¼Â`null`Ã¦ÂÂ`undefined`Ã¯Â¼ÂÃ¨Â§ÂÃ¤Â¸ÂºÃ¦ÂÂÃ¥ÂÂÃ¯Â¼ÂÃ¥ÂÂ¦Ã¥ÂÂÃ¨Â§ÂÃ¤Â¸ÂºÃ©ÂÂÃ¨Â¯Â¯ */\r\n  exact?: boolean;\r\n  /** Ã¦ÂÂ¯Ã¥ÂÂ¦Ã¥ÂÂÃ¨Â£Â¹Ã¦Â ÂÃ§Â­Â¾Ã©Â¡ÂµÃ¯Â¼ÂÃ¤Â¿Â®Ã¥Â¤ÂÃ¦Â¨Â¡Ã¦ÂÂÃ¥ÂÂÃ¥ÂÂ«Ã¦Â ÂÃ§Â­Â¾Ã©ÂÂ´Ã¨Â·ÂÃ©ÂÂ®Ã©Â¢Â */\r\n  includeTabs?: boolean;\r\n}\r\n\r\n/**\r\n * Ã¥Â¯Â¹Ã¨Â¯ÂÃ¦Â¡ÂÃ¨Â¾ÂÃ¥ÂÂ©Ã§Â±Â»\r\n */\r\n@Injectable({ providedIn: 'root' })\r\nexport class ModalHelper {\r\n  private zIndex = 500;\r\n\r\n  constructor(private srv: NzModalService) {}\r\n\r\n  /**\r\n   * Ã¦ÂÂÃ¥Â»ÂºÃ¤Â¸ÂÃ¤Â¸ÂªÃ¥Â¯Â¹Ã¨Â¯ÂÃ¦Â¡Â\r\n   *\r\n   * @param comp Ã§Â»ÂÃ¤Â»Â¶\r\n   * @param params Ã§Â»ÂÃ¤Â»Â¶Ã¥ÂÂÃ¦ÂÂ°\r\n   * @param options Ã©Â¢ÂÃ¥Â¤ÂÃ¥ÂÂÃ¦ÂÂ°\r\n   *\r\n   * Ã§Â¤ÂºÃ¤Â¾ÂÃ¯Â¼Â\r\n  ```ts\r\nthis.modalHelper.create(FormEditComponent, { i }).subscribe(res => this.load());\r\n// Ã¥Â¯Â¹Ã¤ÂºÂÃ§Â»ÂÃ¤Â»Â¶Ã§ÂÂÃ¦ÂÂÃ¥ÂÂ&Ã¥ÂÂ³Ã©ÂÂ­Ã§ÂÂÃ¥Â¤ÂÃ§ÂÂÃ¨Â¯Â´Ã¦ÂÂ\r\n// Ã¦ÂÂÃ¥ÂÂ\r\nthis.NzModalRef.close(data);\r\nthis.NzModalRef.close();\r\n// Ã¥ÂÂ³Ã©ÂÂ­\r\nthis.NzModalRef.destroy();\r\n```\r\n   */\r\n  create(\r\n    comp: any,\r\n    params?: any,\r\n    options?: ModalHelperOptions\r\n  ): Observable<any> {\r\n    options = Object.assign({\r\n      size: 'lg',\r\n      exact: true,\r\n      includeTabs: false,\r\n    }, options);\r\n    return new Observable((observer: Observer<any>) => {\r\n      let cls = '',\r\n        width = '';\r\n      if (options.size) {\r\n        if (typeof options.size === 'number') {\r\n          width = `${options.size}px`;\r\n        } else {\r\n          cls = `modal-${options.size}`;\r\n        }\r\n      }\r\n      if (options.includeTabs) {\r\n        cls += ' modal-include-tabs';\r\n      }\r\n      const defaultOptions: ModalOptionsForService = {\r\n        nzWrapClassName: cls,\r\n        nzContent: comp,\r\n        nzWidth: width ? width : undefined,\r\n        nzFooter: null,\r\n        nzComponentParams: params,\r\n        nzZIndex: ++this.zIndex,\r\n      };\r\n      const subject = this.srv.create(\r\n        Object.assign(defaultOptions, options.modalOptions),\r\n      );\r\n      const afterClose$ = subject.afterClose.subscribe((res: any) => {\r\n        if (options.exact === true) {\r\n          if (res != null) {\r\n            observer.next(res);\r\n          }\r\n        } else {\r\n          observer.next(res);\r\n        }\r\n        observer.complete();\r\n        afterClose$.unsubscribe();\r\n      });\r\n    });\r\n  }\r\n\r\n  /**\r\n   * Ã¦ÂÂÃ¥Â»ÂºÃ©ÂÂÃ¦ÂÂÃ¦Â¡ÂÃ¯Â¼ÂÃ§ÂÂ¹Ã¥ÂÂ»Ã¨ÂÂÃ¥Â±ÂÃ¤Â¸ÂÃ¥ÂÂÃ¨Â®Â¸Ã¥ÂÂ³Ã©ÂÂ­\r\n   *\r\n   * @param comp Ã§Â»ÂÃ¤Â»Â¶\r\n   * @param params Ã§Â»ÂÃ¤Â»Â¶Ã¥ÂÂÃ¦ÂÂ°\r\n   * @param options Ã©Â¢ÂÃ¥Â¤ÂÃ¥ÂÂÃ¦ÂÂ°\r\n   *\r\n   * Ã§Â¤ÂºÃ¤Â¾ÂÃ¯Â¼Â\r\n  ```ts\r\nthis.modalHelper.open(FormEditComponent, { i }).subscribe(res => this.load());\r\n// Ã¥Â¯Â¹Ã¤ÂºÂÃ§Â»ÂÃ¤Â»Â¶Ã§ÂÂÃ¦ÂÂÃ¥ÂÂ&Ã¥ÂÂ³Ã©ÂÂ­Ã§ÂÂÃ¥Â¤ÂÃ§ÂÂÃ¨Â¯Â´Ã¦ÂÂ\r\n// Ã¦ÂÂÃ¥ÂÂ\r\nthis.NzModalRef.close(data);\r\nthis.NzModalRef.close();\r\n// Ã¥ÂÂ³Ã©ÂÂ­\r\nthis.NzModalRef.destroy();\r\n```\r\n   */\r\n  createStatic(\r\n    comp: any,\r\n    params?: any,\r\n    options?: ModalHelperOptions\r\n  ): Observable<any> {\r\n    const modalOptions = Object.assign(\r\n      { nzMaskClosable: false },\r\n      options && options.modalOptions,\r\n    );\r\n    return this.create(comp, params, Object.assign({}, options, { modalOptions }));\r\n  }\r\n\r\n  /**\r\n   * Ã¦ÂÂÃ¥Â¼ÂÃ¥Â¯Â¹Ã¨Â¯ÂÃ¦Â¡Â\r\n   * @param comp Ã§Â»ÂÃ¤Â»Â¶\r\n   * @param params Ã§Â»ÂÃ¤Â»Â¶Ã¥ÂÂÃ¦ÂÂ°\r\n   * @param size Ã¥Â¤Â§Ã¥Â°ÂÃ¯Â¼ÂÃ¤Â¾ÂÃ¥Â¦ÂÃ¯Â¼ÂlgÃ£ÂÂ600Ã¯Â¼ÂÃ©Â»ÂÃ¨Â®Â¤Ã¯Â¼Âlg\r\n   * @param options Ã¥Â¯Â¹Ã¨Â¯ÂÃ¦Â¡Â `ModalOptionsForService` Ã¥ÂÂÃ¦ÂÂ°\r\n   *\r\n   * Ã§Â¤ÂºÃ¤Â¾ÂÃ¯Â¼Â\r\n  ```ts\r\nthis.modalHelper.open(FormEditComponent, { i }).subscribe(res => this.load());\r\n// Ã¥Â¯Â¹Ã¤ÂºÂÃ§Â»ÂÃ¤Â»Â¶Ã§ÂÂÃ¦ÂÂÃ¥ÂÂ&Ã¥ÂÂ³Ã©ÂÂ­Ã§ÂÂÃ¥Â¤ÂÃ§ÂÂÃ¨Â¯Â´Ã¦ÂÂ\r\n// Ã¦ÂÂÃ¥ÂÂ\r\nthis.NzModalRef.close(data);\r\nthis.NzModalRef.close();\r\n// Ã¥ÂÂ³Ã©ÂÂ­\r\nthis.NzModalRef.destroy();\r\n```\r\n   */\r\n  open(\r\n    comp: any,\r\n    params?: any,\r\n    size: 'sm' | 'md' | 'lg' | 'xl' | '' | number = 'lg',\r\n    options?: ModalOptionsForService,\r\n  ): Observable<any> {\r\n    return this.create(comp, params, {\r\n      size,\r\n      modalOptions: options,\r\n      exact: false,\r\n    });\r\n  }\r\n\r\n  /**\r\n   * Ã©ÂÂÃ¦ÂÂÃ¦Â¡ÂÃ¯Â¼ÂÃ§ÂÂ¹Ã¥ÂÂ»Ã¨ÂÂÃ¥Â±ÂÃ¤Â¸ÂÃ¥ÂÂÃ¨Â®Â¸Ã¥ÂÂ³Ã©ÂÂ­\r\n   * @param comp Ã§Â»ÂÃ¤Â»Â¶\r\n   * @param params Ã§Â»ÂÃ¤Â»Â¶Ã¥ÂÂÃ¦ÂÂ°\r\n   * @param size Ã¥Â¤Â§Ã¥Â°ÂÃ¯Â¼ÂÃ¤Â¾ÂÃ¥Â¦ÂÃ¯Â¼ÂlgÃ£ÂÂ600Ã¯Â¼ÂÃ©Â»ÂÃ¨Â®Â¤Ã¯Â¼Âlg\r\n   * @param options Ã¥Â¯Â¹Ã¨Â¯ÂÃ¦Â¡Â `ModalOptionsForService` Ã¥ÂÂÃ¦ÂÂ°\r\n   *\r\n   * Ã§Â¤ÂºÃ¤Â¾ÂÃ¯Â¼Â\r\n  ```ts\r\nthis.modalHelper.open(FormEditComponent, { i }).subscribe(res => this.load());\r\n// Ã¥Â¯Â¹Ã¤ÂºÂÃ§Â»ÂÃ¤Â»Â¶Ã§ÂÂÃ¦ÂÂÃ¥ÂÂ&Ã¥ÂÂ³Ã©ÂÂ­Ã§ÂÂÃ¥Â¤ÂÃ§ÂÂÃ¨Â¯Â´Ã¦ÂÂ\r\n// Ã¦ÂÂÃ¥ÂÂ\r\nthis.NzModalRef.close(data);\r\nthis.NzModalRef.close();\r\n// Ã¥ÂÂ³Ã©ÂÂ­\r\nthis.NzModalRef.destroy();\r\n```\r\n   */\r\n  static(\r\n    comp: any,\r\n    params?: any,\r\n    size: 'sm' | 'md' | 'lg' | 'xl' | '' | number = 'lg',\r\n    options?: any,\r\n  ): Observable<any> {\r\n    return this.open(\r\n      comp,\r\n      params,\r\n      size,\r\n      Object.assign(\r\n        {\r\n          nzMaskClosable: false,\r\n        },\r\n        options,\r\n      ),\r\n    );\r\n  }\r\n}\r\n","import { Injectable } from '@angular/core';\r\nimport { Observable, Observer } from 'rxjs';\r\nimport { NzDrawerService, NzDrawerPlacement, NzDrawerOptions } from 'ng-zorro-antd';\r\n\r\nexport interface DrawerHelperOptions {\r\n  /**\r\n   * Ã¥Â¤Â§Ã¥Â°ÂÃ¯Â¼ÂÃ¤Â¾ÂÃ¥Â¦ÂÃ¯Â¼ÂlgÃ£ÂÂ600Ã¯Â¼ÂÃ©Â»ÂÃ¨Â®Â¤Ã¯Â¼Â`md`\r\n   * \r\n   * | Ã§Â±Â»Ã¥ÂÂ | Ã©Â»ÂÃ¨Â®Â¤Ã¥Â¤Â§Ã¥Â°Â |\r\n   * | --- | ------ |\r\n   * | `sm` | `300` |\r\n   * | `md` | `600` |\r\n   * | `lg` | `900` |\r\n   * | `xl` | `1200` |\r\n   * \r\n   * > Ã¤Â»Â¥Ã¤Â¸ÂÃ¥ÂÂ¼Ã¯Â¼ÂÃ¥ÂÂ¯Ã©ÂÂÃ¨Â¿ÂÃ¨Â¦ÂÃ§ÂÂÃ§ÂÂ¸Ã¥ÂºÂÃ§ÂÂLESSÃ¥ÂÂÃ¦ÂÂ°Ã¨ÂÂªÃ¨Â¡ÂÃ¨Â°ÂÃ¦ÂÂ´\r\n   */\r\n  size?: 'sm' | 'md' | 'lg' | 'xl' | number;\r\n  /**\r\n   * Ã¦ÂÂ¯Ã¥ÂÂ¦Ã¥ÂÂÃ¥ÂÂ«Ã¥ÂºÂÃ©ÂÂ¨Ã¥Â·Â¥Ã¥ÂÂ·Ã¦ÂÂ¡Ã¯Â¼ÂÃ©Â»ÂÃ¨Â®Â¤Ã¯Â¼Â`true`\r\n   */\r\n  footer?: boolean;\r\n  /**\r\n   * Ã¥ÂºÂÃ©ÂÂ¨Ã¥Â·Â¥Ã¥ÂÂ·Ã¦ÂÂ¡Ã©Â«ÂÃ¥ÂºÂ¦Ã¯Â¼ÂÃ©Â»ÂÃ¨Â®Â¤Ã¯Â¼Â`55`\r\n   */\r\n  footerHeight?: number;\r\n  /** Ã¦ÂÂ½Ã¥Â±Â [NzDrawerOptions](https://ng.ant.design/components/drawer/zh#nzdraweroptions) Ã¥ÂÂÃ¦ÂÂ° */\r\n  drawerOptions?: NzDrawerOptions;\r\n}\r\n\r\n/**\r\n * Ã¦ÂÂ½Ã¥Â±ÂÃ¨Â¾ÂÃ¥ÂÂ©Ã§Â±Â»\r\n * \r\n * **Ã¦Â³Â¨Ã¦ÂÂÃ¯Â¼Â** Ã¦ÂÂÃ¥Â»ÂºÃ§Â»ÂÃ¦ÂÂÃ©ÂÂ½Ã¥ÂÂ¯Ã¨Â¢Â«Ã¨Â®Â¢Ã©ÂÂÃ¯Â¼ÂÃ¤Â½ÂÃ¦Â°Â¸Ã¨Â¿ÂÃ©ÂÂ½Ã¤Â¸ÂÃ¤Â¼ÂÃ¨Â§Â¦Ã¥ÂÂ `observer.error`\r\n * \r\n * Ã§Â¤ÂºÃ¤Â¾ÂÃ¯Â¼Â\r\n```ts\r\nthis.drawerHelper.create('Edit', FormEditComponent, { i }).subscribe(res => this.load());\r\n// Ã¥Â¯Â¹Ã¤ÂºÂÃ§Â»ÂÃ¤Â»Â¶Ã§ÂÂÃ¦ÂÂÃ¥ÂÂ&Ã¥ÂÂ³Ã©ÂÂ­Ã§ÂÂÃ¥Â¤ÂÃ§ÂÂÃ¨Â¯Â´Ã¦ÂÂ\r\n// Ã¦ÂÂÃ¥ÂÂ\r\nthis.NzDrawerRef.close(data);\r\nthis.NzDrawerRef.close(true);\r\n// Ã¥ÂÂ³Ã©ÂÂ­\r\nthis.NzDrawerRef.close();\r\nthis.NzDrawerRef.close(false);\r\n```\r\n */\r\n@Injectable({ providedIn: 'root' })\r\nexport class DrawerHelper {\r\n  // Ã¥Â¤Â§Ã©ÂÂ¨Ã¥ÂÂÃ¦ÂÂÃ¥ÂÂµÃ¤Â¸ÂÃ¦ÂÂ½Ã¥Â±ÂÃ§ÂÂÃ¥Â±ÂÃ§ÂºÂ§Ã¦Â¯Â Modal Ã¤Â¼ÂÃ¦ÂÂ´Ã¤Â½ÂÃ¤Â¸ÂÃ¤ÂºÂ\r\n  private zIndex = 400;\r\n\r\n  constructor(private srv: NzDrawerService) { }\r\n\r\n  /**\r\n   * Ã¦ÂÂÃ¥Â»ÂºÃ¤Â¸ÂÃ¤Â¸ÂªÃ¦ÂÂ½Ã¥Â±Â\r\n   */\r\n  create(\r\n    title: string,\r\n    comp: any,\r\n    params?: any,\r\n    options?: DrawerHelperOptions\r\n  ): Observable<any> {\r\n    options = Object.assign(<DrawerHelperOptions>{\r\n      size: 'md',\r\n      footer: true,\r\n      footerHeight: 55,\r\n      drawerOptions: {\r\n        nzPlacement: 'right',\r\n        nzWrapClassName: ''\r\n      }\r\n    }, options);\r\n    return new Observable((observer: Observer<any>) => {\r\n      const { size, footer, footerHeight, drawerOptions } = options;\r\n      const defaultOptions: NzDrawerOptions = {\r\n        nzContent: comp,\r\n        nzContentParams: params,\r\n        nzZIndex: ++this.zIndex,\r\n        nzTitle: title\r\n      };\r\n\r\n      if (footer) {\r\n        defaultOptions.nzBodyStyle = {\r\n          height: `calc(100% - ${footerHeight}px)`,\r\n          overflow: 'auto',\r\n          'padding-bottom': `${footerHeight - 2}px`\r\n        };\r\n      }\r\n\r\n      if (typeof size === 'number') {\r\n        defaultOptions[drawerOptions.nzPlacement === 'top' || drawerOptions.nzPlacement === 'bottom' ? 'nzHeight' : 'nzWidth'] = options.size;\r\n      } else {\r\n        defaultOptions.nzWrapClassName = (drawerOptions.nzWrapClassName + ` drawer-${options.size}`).trim();\r\n        delete drawerOptions.nzWrapClassName;\r\n      }\r\n\r\n      const subject = this.srv.create(\r\n        Object.assign(defaultOptions, drawerOptions),\r\n      );\r\n      const afterClose$ = subject.afterClose.subscribe((res: any) => {\r\n        if (res != null && res !== false) {\r\n          observer.next(res);\r\n        }\r\n        observer.complete();\r\n        afterClose$.unsubscribe();\r\n      });\r\n    });\r\n  }\r\n\r\n  /**\r\n   * Ã¦ÂÂÃ¥Â»ÂºÃ¤Â¸ÂÃ¤Â¸ÂªÃ¦ÂÂ½Ã¥Â±ÂÃ¯Â¼ÂÃ§ÂÂ¹Ã¥ÂÂ»Ã¨ÂÂÃ¥Â±ÂÃ¤Â¸ÂÃ¥ÂÂÃ¨Â®Â¸Ã¥ÂÂ³Ã©ÂÂ­\r\n   */\r\n  static(\r\n    title: string,\r\n    comp: any,\r\n    params?: any,\r\n    options?: DrawerHelperOptions\r\n  ): Observable<any> {\r\n    const drawerOptions = Object.assign(\r\n      { nzMaskClosable: false },\r\n      options && options.drawerOptions,\r\n    );\r\n    return this.create(title, comp, params, Object.assign({}, options, { drawerOptions }));\r\n  }\r\n}\r\n","import { Injectable } from '@angular/core';\r\nimport {\r\n  HttpClient,\r\n  HttpHeaders,\r\n  HttpParams,\r\n  HttpResponse,\r\n} from '@angular/common/http';\r\nimport { Observable, throwError } from 'rxjs';\r\nimport { tap, catchError } from 'rxjs/operators';\r\nimport { AlainThemeConfig } from '../../theme.config';\r\nimport { HttpClientConfig } from './http.config';\r\n\r\n/**\r\n * Ã¥Â°ÂÃ¨Â£ÂHttpClientÃ¯Â¼ÂÃ¤Â¸Â»Ã¨Â¦ÂÃ¨Â§Â£Ã¥ÂÂ³Ã¯Â¼Â\r\n * + Ã¤Â¼ÂÃ¥ÂÂHttpClientÃ¥ÂÂ¨Ã¥ÂÂÃ¦ÂÂ°Ã¤Â¸ÂÃ¤Â¾Â¿Ã¥ÂÂ©Ã¦ÂÂ§\r\n * + Ã§Â»ÂÃ¤Â¸ÂÃ¥Â®ÂÃ§ÂÂ° loading\r\n * + Ã§Â»ÂÃ¤Â¸ÂÃ¥Â¤ÂÃ§ÂÂÃ¦ÂÂ¶Ã©ÂÂ´Ã¦Â Â¼Ã¥Â¼ÂÃ©ÂÂ®Ã©Â¢Â\r\n */\r\n@Injectable({ providedIn: 'root' })\r\n// tslint:disable-next-line:class-name\r\nexport class _HttpClient {\r\n  private cog: HttpClientConfig;\r\n  constructor(private http: HttpClient, cog: AlainThemeConfig) {\r\n    this.cog = Object.assign(\r\n      <HttpClientConfig>{\r\n        nullValueHandling: 'include',\r\n        dateValueHandling: 'timestamp',\r\n      },\r\n      cog!.http,\r\n    );\r\n  }\r\n\r\n  private _loading = false;\r\n\r\n  /** Ã¦ÂÂ¯Ã¥ÂÂ¦Ã¦Â­Â£Ã¥ÂÂ¨Ã¥ÂÂ Ã¨Â½Â½Ã¤Â¸Â­ */\r\n  get loading(): boolean {\r\n    return this._loading;\r\n  }\r\n\r\n  parseParams(params: any): HttpParams {\r\n    const newParams = {};\r\n    Object.keys(params).forEach(key => {\r\n      let _data = params[key];\r\n      // Ã¥Â¿Â½Ã§ÂÂ¥Ã§Â©ÂºÃ¥ÂÂ¼\r\n      if (this.cog.nullValueHandling === 'ignore' && _data == null) return;\r\n      // Ã¥Â°ÂÃ¦ÂÂ¶Ã©ÂÂ´Ã¨Â½Â¬Ã¥ÂÂÃ¤Â¸ÂºÃ¯Â¼ÂÃ¦ÂÂ¶Ã©ÂÂ´Ã¦ÂÂ³ (Ã§Â§Â)\r\n      if (this.cog.dateValueHandling === 'timestamp' && _data instanceof Date) {\r\n        _data = _data.valueOf();\r\n      }\r\n      newParams[key] = _data;\r\n    });\r\n    return new HttpParams({ fromObject: newParams });\r\n  }\r\n\r\n  appliedUrl(url: string, params?: any) {\r\n    if (!params) return url;\r\n    url += ~url.indexOf('?') ? '' : '?';\r\n    const arr: string[] = [];\r\n    // tslint:disable-next-line:forin\r\n    for (const key in params) {\r\n      arr.push(`${key}=${params[key]}`);\r\n    }\r\n    return url + arr.join('&');\r\n  }\r\n\r\n  begin() {\r\n    // console.time('http');\r\n    setTimeout(() => (this._loading = true));\r\n  }\r\n\r\n  end() {\r\n    // console.timeEnd('http');\r\n    setTimeout(() => (this._loading = false));\r\n  }\r\n\r\n  // region: get\r\n\r\n  /**\r\n   * GETÃ¯Â¼ÂÃ¨Â¿ÂÃ¥ÂÂÃ¤Â¸ÂÃ¤Â¸Âª `T` Ã§Â±Â»Ã¥ÂÂ\r\n   */\r\n  get<T>(\r\n    url: string,\r\n    params?: any,\r\n    options?: {\r\n      headers?: HttpHeaders | { [header: string]: string | string[] };\r\n      observe?: 'body';\r\n      reportProgress?: boolean;\r\n      responseType: 'json';\r\n      withCredentials?: boolean;\r\n    },\r\n  ): Observable<T>;\r\n\r\n  /**\r\n   * GETÃ¯Â¼ÂÃ¨Â¿ÂÃ¥ÂÂÃ¤Â¸ÂÃ¤Â¸Âª `string` Ã§Â±Â»Ã¥ÂÂ\r\n   */\r\n  get(\r\n    url: string,\r\n    params: any,\r\n    options: {\r\n      headers?: HttpHeaders | { [header: string]: string | string[] };\r\n      observe?: 'body';\r\n      reportProgress?: boolean;\r\n      responseType: 'text';\r\n      withCredentials?: boolean;\r\n    },\r\n  ): Observable<string>;\r\n\r\n  /**\r\n   * GETÃ¯Â¼ÂÃ¨Â¿ÂÃ¥ÂÂÃ¤Â¸ÂÃ¤Â¸Âª `JSON` Ã§Â±Â»Ã¥ÂÂ\r\n   */\r\n  get(\r\n    url: string,\r\n    params: any,\r\n    options: {\r\n      headers?: HttpHeaders | { [header: string]: string | string[] };\r\n      observe: 'response';\r\n      reportProgress?: boolean;\r\n      responseType?: 'json';\r\n      withCredentials?: boolean;\r\n    },\r\n  ): Observable<HttpResponse<Object>>;\r\n\r\n  /**\r\n   * GETÃ¯Â¼ÂÃ¨Â¿ÂÃ¥ÂÂÃ¤Â¸ÂÃ¤Â¸Âª `JSON` Ã§Â±Â»Ã¥ÂÂ\r\n   */\r\n  get<T>(\r\n    url: string,\r\n    params: any,\r\n    options: {\r\n      headers?: HttpHeaders | { [header: string]: string | string[] };\r\n      observe: 'response';\r\n      reportProgress?: boolean;\r\n      responseType?: 'json';\r\n      withCredentials?: boolean;\r\n    },\r\n  ): Observable<HttpResponse<T>>;\r\n\r\n  /**\r\n   * GETÃ¯Â¼ÂÃ¨Â¿ÂÃ¥ÂÂÃ¤Â¸ÂÃ¤Â¸Âª `any` Ã§Â±Â»Ã¥ÂÂ\r\n   */\r\n  get(\r\n    url: string,\r\n    params?: any,\r\n    options?: {\r\n      headers?: HttpHeaders | { [header: string]: string | string[] };\r\n      observe?: 'body' | 'events' | 'response';\r\n      reportProgress?: boolean;\r\n      responseType?: 'arraybuffer' | 'blob' | 'json' | 'text';\r\n      withCredentials?: boolean;\r\n    },\r\n  ): Observable<any>;\r\n\r\n  /**\r\n   * GET Ã¨Â¯Â·Ã¦Â±Â\r\n   */\r\n  get(\r\n    url: string,\r\n    params: any,\r\n    options: {\r\n      headers?: HttpHeaders | { [header: string]: string | string[] };\r\n      observe?: 'body' | 'events' | 'response';\r\n      reportProgress?: boolean;\r\n      responseType?: 'arraybuffer' | 'blob' | 'json' | 'text';\r\n      withCredentials?: boolean;\r\n    },\r\n  ): Observable<any> {\r\n    return this.request(\r\n      'GET',\r\n      url,\r\n      Object.assign(\r\n        {\r\n          params,\r\n        },\r\n        options,\r\n      ),\r\n    );\r\n  }\r\n\r\n  // endregion\r\n\r\n  // region: post\r\n\r\n  /**\r\n   * POSTÃ¯Â¼ÂÃ¨Â¿ÂÃ¥ÂÂÃ¤Â¸ÂÃ¤Â¸Âª `string` Ã§Â±Â»Ã¥ÂÂ\r\n   */\r\n  post(\r\n    url: string,\r\n    body: any,\r\n    params: any,\r\n    options: {\r\n      headers?: HttpHeaders | { [header: string]: string | string[] };\r\n      observe?: 'body';\r\n      reportProgress?: boolean;\r\n      responseType: 'text';\r\n      withCredentials?: boolean;\r\n    },\r\n  ): Observable<string>;\r\n\r\n  /**\r\n   * POSTÃ¯Â¼ÂÃ¨Â¿ÂÃ¥ÂÂÃ¤Â¸ÂÃ¤Â¸Âª `HttpResponse<JSON>` Ã§Â±Â»Ã¥ÂÂ\r\n   */\r\n  post(\r\n    url: string,\r\n    body: any,\r\n    params: any,\r\n    options: {\r\n      headers?: HttpHeaders | { [header: string]: string | string[] };\r\n      observe: 'response';\r\n      reportProgress?: boolean;\r\n      responseType?: 'json';\r\n      withCredentials?: boolean;\r\n    },\r\n  ): Observable<HttpResponse<Object>>;\r\n\r\n  /**\r\n   * POSTÃ¯Â¼ÂÃ¨Â¿ÂÃ¥ÂÂÃ¤Â¸ÂÃ¤Â¸Âª `JSON` Ã§Â±Â»Ã¥ÂÂ\r\n   */\r\n  post<T>(\r\n    url: string,\r\n    body?: any,\r\n    params?: any,\r\n    options?: {\r\n      headers?: HttpHeaders | { [header: string]: string | string[] };\r\n      observe: 'response';\r\n      reportProgress?: boolean;\r\n      responseType?: 'json';\r\n      withCredentials?: boolean;\r\n    },\r\n  ): Observable<T>;\r\n\r\n  /**\r\n   * POSTÃ¯Â¼ÂÃ¨Â¿ÂÃ¥ÂÂÃ¤Â¸ÂÃ¤Â¸Âª `any` Ã§Â±Â»Ã¥ÂÂ\r\n   */\r\n  post(\r\n    url: string,\r\n    body?: any,\r\n    params?: any,\r\n    options?: {\r\n      headers?: HttpHeaders | { [header: string]: string | string[] };\r\n      observe?: 'body' | 'events' | 'response';\r\n      reportProgress?: boolean;\r\n      responseType?: 'arraybuffer' | 'blob' | 'json' | 'text';\r\n      withCredentials?: boolean;\r\n    },\r\n  ): Observable<any>;\r\n\r\n  /**\r\n   * POST Ã¨Â¯Â·Ã¦Â±Â\r\n   */\r\n  post(\r\n    url: string,\r\n    body: any,\r\n    params: any,\r\n    options: {\r\n      headers?: HttpHeaders | { [header: string]: string | string[] };\r\n      observe?: 'body' | 'events' | 'response';\r\n      reportProgress?: boolean;\r\n      responseType?: 'arraybuffer' | 'blob' | 'json' | 'text';\r\n      withCredentials?: boolean;\r\n    },\r\n  ): Observable<any> {\r\n    return this.request(\r\n      'POST',\r\n      url,\r\n      Object.assign(\r\n        {\r\n          body,\r\n          params,\r\n        },\r\n        options,\r\n      ),\r\n    );\r\n  }\r\n\r\n  // endregion\r\n\r\n  // region: delete\r\n\r\n  /**\r\n   * DELETEÃ¯Â¼ÂÃ¨Â¿ÂÃ¥ÂÂÃ¤Â¸ÂÃ¤Â¸Âª `string` Ã§Â±Â»Ã¥ÂÂ\r\n   */\r\n  delete(\r\n    url: string,\r\n    params: any,\r\n    options: {\r\n      headers?: HttpHeaders | { [header: string]: string | string[] };\r\n      observe?: 'body';\r\n      reportProgress?: boolean;\r\n      responseType: 'text';\r\n      withCredentials?: boolean;\r\n    },\r\n  ): Observable<string>;\r\n\r\n  /**\r\n   * DELETEÃ¯Â¼ÂÃ¨Â¿ÂÃ¥ÂÂÃ¤Â¸ÂÃ¤Â¸Âª `JSON` Ã§Â±Â»Ã¥ÂÂ\r\n   */\r\n  delete(\r\n    url: string,\r\n    params: any,\r\n    options: {\r\n      headers?: HttpHeaders | { [header: string]: string | string[] };\r\n      observe: 'response';\r\n      reportProgress?: boolean;\r\n      responseType?: 'json';\r\n      withCredentials?: boolean;\r\n    },\r\n  ): Observable<HttpResponse<Object>>;\r\n\r\n  /**\r\n   * DELETEÃ¯Â¼ÂÃ¨Â¿ÂÃ¥ÂÂÃ¤Â¸ÂÃ¤Â¸Âª `any` Ã§Â±Â»Ã¥ÂÂ\r\n   */\r\n  delete(\r\n    url: string,\r\n    params?: any,\r\n    options?: {\r\n      headers?: HttpHeaders | { [header: string]: string | string[] };\r\n      observe?: 'body' | 'events' | 'response';\r\n      reportProgress?: boolean;\r\n      responseType?: 'arraybuffer' | 'blob' | 'json' | 'text';\r\n      withCredentials?: boolean;\r\n    },\r\n  ): Observable<any>;\r\n\r\n  /**\r\n   * DELETE Ã¨Â¯Â·Ã¦Â±Â\r\n   */\r\n  delete(\r\n    url: string,\r\n    params: any,\r\n    options: {\r\n      headers?: HttpHeaders | { [header: string]: string | string[] };\r\n      observe?: 'body' | 'events' | 'response';\r\n      reportProgress?: boolean;\r\n      responseType?: 'arraybuffer' | 'blob' | 'json' | 'text';\r\n      withCredentials?: boolean;\r\n    },\r\n  ): Observable<any> {\r\n    return this.request(\r\n      'DELETE',\r\n      url,\r\n      Object.assign(\r\n        {\r\n          params,\r\n        },\r\n        options,\r\n      ),\r\n    );\r\n  }\r\n\r\n  // endregion\r\n\r\n  /**\r\n   * `jsonp` Ã¨Â¯Â·Ã¦Â±Â\r\n   *\r\n   * @param url URLÃ¥ÂÂ°Ã¥ÂÂ\r\n   * @param params Ã¨Â¯Â·Ã¦Â±ÂÃ¥ÂÂÃ¦ÂÂ°\r\n   * @param callbackParam CALLBACKÃ¥ÂÂ¼Ã¯Â¼ÂÃ©Â»ÂÃ¨Â®Â¤Ã¯Â¼ÂJSONP_CALLBACK\r\n   */\r\n  jsonp(\r\n    url: string,\r\n    params?: any,\r\n    callbackParam: string = 'JSONP_CALLBACK',\r\n  ): Observable<any> {\r\n    return this.http.jsonp(this.appliedUrl(url, params), callbackParam).pipe(\r\n      tap(() => {\r\n        this.end();\r\n      }),\r\n      catchError(res => {\r\n        this.end();\r\n        return throwError(res);\r\n      }),\r\n    );\r\n  }\r\n\r\n  // #region patch\r\n\r\n  /**\r\n   * PATCHÃ¯Â¼ÂÃ¨Â¿ÂÃ¥ÂÂÃ¤Â¸ÂÃ¤Â¸Âª `string` Ã§Â±Â»Ã¥ÂÂ\r\n   */\r\n  patch(\r\n    url: string,\r\n    body: any,\r\n    params: any,\r\n    options: {\r\n      headers?: HttpHeaders | { [header: string]: string | string[] };\r\n      observe?: 'body';\r\n      reportProgress?: boolean;\r\n      responseType: 'text';\r\n      withCredentials?: boolean;\r\n    },\r\n  ): Observable<string>;\r\n\r\n  /**\r\n   * PATCHÃ¯Â¼ÂÃ¨Â¿ÂÃ¥ÂÂÃ¤Â¸ÂÃ¤Â¸Âª `HttpResponse<JSON>` Ã§Â±Â»Ã¥ÂÂ\r\n   */\r\n  patch(\r\n    url: string,\r\n    body: any,\r\n    params: any,\r\n    options: {\r\n      headers?: HttpHeaders | { [header: string]: string | string[] };\r\n      observe: 'response';\r\n      reportProgress?: boolean;\r\n      responseType?: 'json';\r\n      withCredentials?: boolean;\r\n    },\r\n  ): Observable<HttpResponse<Object>>;\r\n\r\n  /**\r\n   * PATCHÃ¯Â¼ÂÃ¨Â¿ÂÃ¥ÂÂÃ¤Â¸ÂÃ¤Â¸Âª `JSON` Ã§Â±Â»Ã¥ÂÂ\r\n   */\r\n  patch<T>(\r\n    url: string,\r\n    body?: any,\r\n    params?: any,\r\n    options?: {\r\n      headers?: HttpHeaders | { [header: string]: string | string[] };\r\n      observe: 'response';\r\n      reportProgress?: boolean;\r\n      responseType?: 'json';\r\n      withCredentials?: boolean;\r\n    },\r\n  ): Observable<T>;\r\n\r\n  /**\r\n   * PATCHÃ¯Â¼ÂÃ¨Â¿ÂÃ¥ÂÂÃ¤Â¸ÂÃ¤Â¸Âª `any` Ã§Â±Â»Ã¥ÂÂ\r\n   */\r\n  patch(\r\n    url: string,\r\n    body?: any,\r\n    params?: any,\r\n    options?: {\r\n      headers?: HttpHeaders | { [header: string]: string | string[] };\r\n      observe?: 'body' | 'events' | 'response';\r\n      reportProgress?: boolean;\r\n      responseType?: 'arraybuffer' | 'blob' | 'json' | 'text';\r\n      withCredentials?: boolean;\r\n    },\r\n  ): Observable<any>;\r\n\r\n  /**\r\n   * PATCH Ã¨Â¯Â·Ã¦Â±Â\r\n   */\r\n  patch(\r\n    url: string,\r\n    body: any,\r\n    params: any,\r\n    options: {\r\n      headers?: HttpHeaders | { [header: string]: string | string[] };\r\n      observe?: 'body' | 'events' | 'response';\r\n      reportProgress?: boolean;\r\n      responseType?: 'arraybuffer' | 'blob' | 'json' | 'text';\r\n      withCredentials?: boolean;\r\n    },\r\n  ): Observable<any> {\r\n    return this.request(\r\n      'PATCH',\r\n      url,\r\n      Object.assign(\r\n        {\r\n          body,\r\n          params,\r\n        },\r\n        options,\r\n      ),\r\n    );\r\n  }\r\n\r\n  // #endregion\r\n\r\n  // #region put\r\n\r\n  /**\r\n   * PUTÃ¯Â¼ÂÃ¨Â¿ÂÃ¥ÂÂÃ¤Â¸ÂÃ¤Â¸Âª `string` Ã§Â±Â»Ã¥ÂÂ\r\n   */\r\n  put(\r\n    url: string,\r\n    body: any,\r\n    params: any,\r\n    options: {\r\n      headers?: HttpHeaders | { [header: string]: string | string[] };\r\n      observe?: 'body';\r\n      reportProgress?: boolean;\r\n      responseType: 'text';\r\n      withCredentials?: boolean;\r\n    },\r\n  ): Observable<string>;\r\n\r\n  /**\r\n   * PUTÃ¯Â¼ÂÃ¨Â¿ÂÃ¥ÂÂÃ¤Â¸ÂÃ¤Â¸Âª `HttpResponse<JSON>` Ã§Â±Â»Ã¥ÂÂ\r\n   */\r\n  put(\r\n    url: string,\r\n    body: any,\r\n    params: any,\r\n    options: {\r\n      headers?: HttpHeaders | { [header: string]: string | string[] };\r\n      observe: 'response';\r\n      reportProgress?: boolean;\r\n      responseType?: 'json';\r\n      withCredentials?: boolean;\r\n    },\r\n  ): Observable<HttpResponse<Object>>;\r\n\r\n  /**\r\n   * PUTÃ¯Â¼ÂÃ¨Â¿ÂÃ¥ÂÂÃ¤Â¸ÂÃ¤Â¸Âª `JSON` Ã§Â±Â»Ã¥ÂÂ\r\n   */\r\n  put<T>(\r\n    url: string,\r\n    body?: any,\r\n    params?: any,\r\n    options?: {\r\n      headers?: HttpHeaders | { [header: string]: string | string[] };\r\n      observe: 'response';\r\n      reportProgress?: boolean;\r\n      responseType?: 'json';\r\n      withCredentials?: boolean;\r\n    },\r\n  ): Observable<T>;\r\n\r\n  /**\r\n   * PUTÃ¯Â¼ÂÃ¨Â¿ÂÃ¥ÂÂÃ¤Â¸ÂÃ¤Â¸Âª `any` Ã§Â±Â»Ã¥ÂÂ\r\n   */\r\n  put(\r\n    url: string,\r\n    body?: any,\r\n    params?: any,\r\n    options?: {\r\n      headers?: HttpHeaders | { [header: string]: string | string[] };\r\n      observe?: 'body' | 'events' | 'response';\r\n      reportProgress?: boolean;\r\n      responseType?: 'arraybuffer' | 'blob' | 'json' | 'text';\r\n      withCredentials?: boolean;\r\n    },\r\n  ): Observable<any>;\r\n\r\n  /**\r\n   * PUT Ã¨Â¯Â·Ã¦Â±Â\r\n   */\r\n  put(\r\n    url: string,\r\n    body: any,\r\n    params: any,\r\n    options: {\r\n      headers?: HttpHeaders | { [header: string]: string | string[] };\r\n      observe?: 'body' | 'events' | 'response';\r\n      reportProgress?: boolean;\r\n      responseType?: 'arraybuffer' | 'blob' | 'json' | 'text';\r\n      withCredentials?: boolean;\r\n    },\r\n  ): Observable<any> {\r\n    return this.request(\r\n      'PUT',\r\n      url,\r\n      Object.assign(\r\n        {\r\n          body,\r\n          params,\r\n        },\r\n        options,\r\n      ),\r\n    );\r\n  }\r\n\r\n  // #endregion\r\n\r\n  /**\r\n   * `request` Ã¨Â¯Â·Ã¦Â±Â\r\n   *\r\n   * @param method Ã¨Â¯Â·Ã¦Â±ÂÃ¦ÂÂ¹Ã¦Â³ÂÃ§Â±Â»Ã¥ÂÂ\r\n   * @param url URLÃ¥ÂÂ°Ã¥ÂÂ\r\n   * @param options Ã¥ÂÂÃ¦ÂÂ°\r\n   */\r\n  request<R>(\r\n    method: string,\r\n    url: string,\r\n    options?: {\r\n      body?: any;\r\n      headers?:\r\n        | HttpHeaders\r\n        | {\r\n            [header: string]: string | string[];\r\n          };\r\n      observe?: 'body' | 'events' | 'response';\r\n      params?:\r\n        | HttpParams\r\n        | {\r\n            [param: string]: string | string[];\r\n          };\r\n      responseType?: 'arraybuffer' | 'blob' | 'json' | 'text';\r\n      reportProgress?: boolean;\r\n      withCredentials?: boolean;\r\n    },\r\n  ): Observable<R>;\r\n  /**\r\n   * `request` Ã¨Â¯Â·Ã¦Â±Â\r\n   *\r\n   * @param method Ã¨Â¯Â·Ã¦Â±ÂÃ¦ÂÂ¹Ã¦Â³ÂÃ§Â±Â»Ã¥ÂÂ\r\n   * @param url URLÃ¥ÂÂ°Ã¥ÂÂ\r\n   * @param options Ã¥ÂÂÃ¦ÂÂ°\r\n   */\r\n  request(\r\n    method: string,\r\n    url: string,\r\n    options?: {\r\n      body?: any;\r\n      headers?:\r\n        | HttpHeaders\r\n        | {\r\n            [header: string]: string | string[];\r\n          };\r\n      observe?: 'body' | 'events' | 'response';\r\n      params?:\r\n        | HttpParams\r\n        | {\r\n            [param: string]: string | string[];\r\n          };\r\n      responseType?: 'arraybuffer' | 'blob' | 'json' | 'text';\r\n      reportProgress?: boolean;\r\n      withCredentials?: boolean;\r\n    },\r\n  ): Observable<any> {\r\n    this.begin();\r\n    if (options) {\r\n      if (options.params) options.params = this.parseParams(options.params);\r\n    }\r\n    return this.http.request(method, url, options).pipe(\r\n      tap(() => {\r\n        this.end();\r\n      }),\r\n      catchError(res => {\r\n        this.end();\r\n        return throwError(res);\r\n      }),\r\n    );\r\n  }\r\n}\r\n","import { Pipe, PipeTransform } from '@angular/core';\r\nimport format from 'date-fns/format';\r\nimport distanceInWordsToNow from 'date-fns/distance_in_words_to_now';\r\n\r\n/**\r\n * @see https://ng-alain.com/docs/service-pipe#%E6%97%A5%E6%9C%9F-_date\r\n */\r\n@Pipe({ name: '_date' })\r\nexport class DatePipe implements PipeTransform {\r\n  transform(\r\n    value: Date | string | number,\r\n    formatString: string = 'YYYY-MM-DD HH:mm',\r\n  ): string {\r\n    if (value) {\r\n      if (formatString === 'fn') {\r\n        return distanceInWordsToNow(value, {\r\n          locale: (window as any).__locale__,\r\n        });\r\n      }\r\n      return format(value, formatString);\r\n    } else {\r\n      return '';\r\n    }\r\n  }\r\n}\r\n","import { Pipe } from '@angular/core';\r\nimport { CurrencyPipe } from '@angular/common';\r\n\r\n/**\r\n * @see https://ng-alain.com/docs/service-pipe#%E8%B4%A7%E5%B8%81-_currenty\r\n */\r\n// tslint:disable-next-line:use-pipe-transform-interface\r\n@Pipe({ name: '_currency' })\r\nexport class CNCurrencyPipe extends CurrencyPipe {\r\n  transform(\r\n    value: any,\r\n    currencyCode: string = 'Ã¯Â¿Â¥',\r\n    display: 'code' | 'symbol' | 'symbol-narrow' | boolean = 'code',\r\n    digits?: string,\r\n  ): string | null {\r\n    return super.transform(value, currencyCode, <any>display, digits);\r\n  }\r\n}\r\n","import { PipeTransform, Pipe } from '@angular/core';\r\n\r\n/**\r\n * @see https://ng-alain.com/docs/common#%E5%8F%AF%E8%BF%AD%E4%BB%A3-keys\r\n */\r\n@Pipe({ name: 'keys' })\r\nexport class KeysPipe implements PipeTransform {\r\n  transform(value: any, keyIsNumber: boolean = false): any[] {\r\n    const ret = [];\r\n    // tslint:disable-next-line:forin\r\n    for (const key in value) {\r\n      ret.push({ key: keyIsNumber ? +key : key, value: value[key] });\r\n    }\r\n    return ret;\r\n  }\r\n}\r\n","import { PipeTransform, Pipe } from '@angular/core';\r\n\r\n/**\r\n * @see https://ng-alain.com/docs/service-pipe#%E5%BE%BD%E7%AB%A0-yn\r\n */\r\n@Pipe({ name: 'yn' })\r\nexport class YNPipe implements PipeTransform {\r\n  transform(value: boolean, yes: string, no: string): string {\r\n    if (value) {\r\n      return '<span class=\"badge badge-success\">' + (yes || 'Ã¦ÂÂ¯') + '</span>';\r\n    } else {\r\n      return '<span class=\"badge badge-error\">' + (no || 'Ã¥ÂÂ¦') + '</span>';\r\n    }\r\n  }\r\n}\r\n","import { NgModule, ModuleWithProviders } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { RouterModule } from '@angular/router';\r\nimport { OverlayModule } from '@angular/cdk/overlay';\r\n\r\nimport { WINDOW } from './win_tokens';\r\n\r\nimport { DelonLocaleModule } from './locale/locale.module';\r\n\r\n// region: import\r\nimport { ALAIN_I18N_TOKEN, AlainI18NServiceFake } from './services/i18n/i18n';\r\n\r\nimport { ModalHelper } from './services/modal/modal.helper';\r\nconst HELPERS = [ModalHelper];\r\n\r\n// components\r\nconst COMPONENTS = [];\r\n\r\n// pipes\r\nimport { DatePipe } from './pipes/date/date.pipe';\r\nimport { CNCurrencyPipe } from './pipes/currency/cn-currency.pipe';\r\nimport { KeysPipe } from './pipes/keys/keys.pipe';\r\nimport { YNPipe } from './pipes/yn/yn.pipe';\r\nconst PIPES = [DatePipe, CNCurrencyPipe, KeysPipe, YNPipe];\r\n\r\n// endregion\r\n\r\n@NgModule({\r\n  imports: [CommonModule, RouterModule, OverlayModule],\r\n  declarations: [...COMPONENTS, ...PIPES],\r\n  exports: [...COMPONENTS, ...PIPES, DelonLocaleModule],\r\n})\r\nexport class AlainThemeModule {\r\n  static forRoot(): ModuleWithProviders {\r\n    return {\r\n      ngModule: AlainThemeModule,\r\n      providers: [\r\n        { provide: WINDOW, useValue: window },\r\n        { provide: ALAIN_I18N_TOKEN, useClass: AlainI18NServiceFake },\r\n        ...HELPERS,\r\n      ],\r\n    };\r\n  }\r\n\r\n  static forChild(): ModuleWithProviders {\r\n    return {\r\n      ngModule: AlainThemeModule,\r\n      providers: [...HELPERS],\r\n    };\r\n  }\r\n}\r\n","import { Version } from '@angular/core';\n\nexport const VERSION = new Version('2.0.0-beta.3-ed90aa6');\n","export function preloaderFinished() {\r\n  const body = document.querySelector('body');\r\n  const preloader = document.querySelector('.preloader');\r\n\r\n  body.style.overflow = 'hidden';\r\n\r\n  function remove() {\r\n    // preloader value null when running --hmr\r\n    if (!preloader) return;\r\n    preloader.addEventListener('transitionend', function() {\r\n      preloader.className = 'preloader-hidden';\r\n    });\r\n\r\n    preloader.className += ' preloader-hidden-add preloader-hidden-add-active';\r\n  }\r\n\r\n  (<any>window).appBootstrap = () => {\r\n    setTimeout(() => {\r\n      remove();\r\n      body.style.overflow = '';\r\n    }, 100);\r\n  };\r\n}\r\n","import { LocaleData } from '../locale.types';\r\n\r\nexport default <LocaleData>{\r\n  abbr: 'en-US',\r\n  exception: {\r\n    403: `Sorry, you don't have access to this page`,\r\n    404: `Sorry, that page don't exist`,\r\n    500: `Sorry, server error`,\r\n    backToHome: 'Back To Home',\r\n  },\r\n  noticeIcon: {\r\n    emptyText: 'No data',\r\n    clearText: 'Clear',\r\n  },\r\n  reuseTab: {\r\n    close: 'Close tab',\r\n    closeOther: 'Close other tabs',\r\n    closeRight: 'Close tabs to right',\r\n    clear: 'Clear tabs',\r\n  },\r\n  tagSelect: {\r\n    expand: 'Expand',\r\n    collapse: 'Collapse',\r\n  },\r\n  miniProgress: {\r\n    target: 'Target: ',\r\n  },\r\n  sf: {\r\n    submit: 'Submit',\r\n    reset: 'Reset',\r\n    search: 'Search',\r\n    edit: 'Save',\r\n  },\r\n};\r\n","import { LocaleData } from '../locale.types';\r\n\r\nexport default <LocaleData>{\r\n  abbr: 'zh-TW',\r\n  exception: {\r\n    403: 'Ã¦ÂÂ±Ã¦Â­ÂÃ¯Â¼ÂÃ¥Â¦Â³Ã§ÂÂ¡Ã¦Â¬ÂÃ¨Â¨ÂªÃ¥ÂÂÃ¨Â©Â²Ã©Â ÂÃ©ÂÂ¢',\r\n    404: 'Ã¦ÂÂ±Ã¦Â­ÂÃ¯Â¼ÂÃ¥Â¦Â³Ã¨Â¨ÂªÃ¥ÂÂÃ§ÂÂÃ©Â ÂÃ©ÂÂ¢Ã¤Â¸ÂÃ¥Â­ÂÃ¥ÂÂ¨',\r\n    500: 'Ã¦ÂÂ±Ã¦Â­ÂÃ¯Â¼ÂÃ¦ÂÂÃ¥ÂÂÃ¥ÂÂ¨Ã¥ÂÂºÃ©ÂÂ¯Ã¤ÂºÂ',\r\n    backToHome: 'Ã¨Â¿ÂÃ¥ÂÂÃ©Â¦ÂÃ©Â Â',\r\n  },\r\n  noticeIcon: {\r\n    emptyText: 'Ã¦ÂÂ«Ã§ÂÂ¡Ã¦ÂÂ¸Ã¦ÂÂ',\r\n    clearText: 'Ã¦Â¸ÂÃ§Â©Âº',\r\n  },\r\n  reuseTab: {\r\n    close: 'Ã©ÂÂÃ©ÂÂÃ¦Â¨ÂÃ§Â°Â½',\r\n    closeOther: 'Ã©ÂÂÃ©ÂÂÃ¥ÂÂ¶Ã¥Â®ÂÃ¦Â¨ÂÃ§Â°Â½',\r\n    closeRight: 'Ã©ÂÂÃ©ÂÂÃ¥ÂÂ³Ã¥ÂÂ´Ã¦Â¨ÂÃ§Â°Â½',\r\n    clear: 'Ã¦Â¸ÂÃ§Â©Âº',\r\n  },\r\n  tagSelect: {\r\n    expand: 'Ã¥Â±ÂÃ©ÂÂ',\r\n    collapse: 'Ã¦ÂÂ¶Ã¨ÂµÂ·',\r\n  },\r\n  miniProgress: {\r\n    target: 'Ã§ÂÂ®Ã¦Â¨ÂÃ¥ÂÂ¼Ã¯Â¼Â',\r\n  },\r\n  sf: {\r\n    submit: 'Ã¦ÂÂÃ¤ÂºÂ¤',\r\n    reset: 'Ã©ÂÂÃ§Â½Â®',\r\n    search: 'Ã¦ÂÂÃ§Â´Â¢',\r\n    edit: 'Ã¤Â¿ÂÃ¥Â­Â',\r\n  },\r\n};\r\n"]}