/**
 * @license ng-alain(cipchk@qq.com) v10.1.2
 * (c) 2020 cipchk https://ng-alain.com/
 * License: MIT
 */
!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("@angular/core"),require("@angular/common"),require("@delon/theme"),require("@delon/util"),require("ng-zorro-antd/message"),require("@angular/forms"),require("ng-zorro-antd/alert"),require("ng-zorro-antd/button"),require("ng-zorro-antd/divider"),require("ng-zorro-antd/drawer"),require("ng-zorro-antd/icon"),require("ng-zorro-antd/input-number"),require("ng-zorro-antd/switch"),require("ng-zorro-antd/tabs"),require("ng-zorro-antd/tooltip")):"function"==typeof define&&define.amd?define("@delon/theme/setting-drawer",["exports","@angular/core","@angular/common","@delon/theme","@delon/util","ng-zorro-antd/message","@angular/forms","ng-zorro-antd/alert","ng-zorro-antd/button","ng-zorro-antd/divider","ng-zorro-antd/drawer","ng-zorro-antd/icon","ng-zorro-antd/input-number","ng-zorro-antd/switch","ng-zorro-antd/tabs","ng-zorro-antd/tooltip"],t):t(((e="undefined"!=typeof globalThis?globalThis:e||self).delon=e.delon||{},e.delon.theme=e.delon.theme||{},e.delon.theme["setting-drawer"]={}),e.ng.core,e.ng.common,e.delon.theme,e.util,e.message,e.ng.forms,e.alert,e.button,e.divider,e.drawer,e.icon,e.inputNumber,e._switch,e.tabs,e.tooltip)}(this,(function(e,t,n,a,r,i,o,l,d,s,c,u,p,g,f,m){"use strict";var h=function(){function e(){this.i={},this.pxVal=0,this.format=function(e){return e+" px"}}return Object.defineProperty(e.prototype,"data",{set:function(e){this.i=e,"px"===e.type&&(this.pxVal=+e.value.replace("px",""))},enumerable:!1,configurable:!0}),e.prototype.pxChange=function(e){this.i.value=e+"px"},e}();h.decorators=[{type:t.Component,args:[{selector:"setting-drawer-item",template:'<span>\n  {{ i.label }}\n  <span class="pl-sm text-grey">{{ i.tip }}</span>\n</span>\n<div [ngSwitch]="i.type">\n  <ng-container *ngSwitchCase="\'color\'">\n    <input nz-input type="color" style="min-width: 88px" [(ngModel)]="i.value" [ngModelOptions]="{ standalone: true }" />\n  </ng-container>\n  <ng-container *ngSwitchCase="\'input\'">\n    <input nz-input style="min-width: 88px" [(ngModel)]="i.value" [ngModelOptions]="{ standalone: true }" />\n  </ng-container>\n  <ng-container *ngSwitchCase="\'px\'">\n    <nz-input-number\n      [(ngModel)]="pxVal"\n      (ngModelChange)="pxChange($event)"\n      [nzMin]="i.min"\n      [nzMax]="i.max"\n      [nzStep]="i.step || 2"\n      [nzFormatter]="format"\n    ></nz-input-number>\n  </ng-container>\n  <ng-container *ngSwitchCase="\'switch\'">\n    <nz-switch nzSize="small" [(ngModel)]="i.value" [ngModelOptions]="{ standalone: true }"></nz-switch>\n  </ng-container>\n  <ng-container *ngSwitchDefault>\n    <ng-content></ng-content>\n  </ng-container>\n</div>\n',host:{"[class.setting-drawer__body-item]":"true"}}]}],h.propDecorators={data:[{type:t.Input}]};var y="alain-default-vars",b=[{key:"dust",color:"#F5222D"},{key:"volcano",color:"#FA541C"},{key:"sunset",color:"#FAAD14"},{key:"cyan",color:"#13C2C2"},{key:"green",color:"#52C41A"},{key:"daybreak",color:"#1890ff"},{key:"geekblue",color:"#2F54EB"},{key:"purple",color:"#722ED1"},{key:"black",color:"#001529"}],z={"primary-color":{label:"主颜色",type:"color",default:"#1890ff"},"alain-default-header-hg":{label:"高",type:"px",default:"64px",max:300,min:24},"alain-default-header-bg":{label:"背景色",type:"color",default:"@primary-color",tip:"默认同主色系"},"alain-default-header-padding":{label:"顶部左右内边距",type:"px",default:"16px"},"alain-default-aside-wd":{label:"宽度",type:"px",default:"200px"},"alain-default-aside-bg":{label:"背景",type:"color",default:"#ffffff"},"alain-default-aside-collapsed-wd":{label:"收缩宽度",type:"px",default:"64px"},"alain-default-aside-nav-padding-top-bottom":{label:"项上下内边距",type:"px",default:"8px",step:8},"alain-default-aside-nav-fs":{label:"菜单字号",type:"px",default:"14px",min:14,max:30},"alain-default-aside-collapsed-nav-fs":{label:"收缩菜单字号",type:"px",default:"24px",min:24,max:32},"alain-default-aside-nav-item-height":{label:"菜单项高度",type:"px",default:"38px",min:24,max:64},"alain-default-aside-nav-text-color":{label:"菜单文本颜色",type:"color",default:"rgba(0, 0, 0, 0.65)",rgba:!0},"alain-default-aside-nav-text-hover-color":{label:"菜单文本悬停颜色",type:"color",default:"@primary-color",tip:"默认同主色系"},"alain-default-aside-nav-group-text-color":{label:"菜单分组文本颜色",type:"color",default:"rgba(0, 0, 0, 0.43)",rgba:!0},"alain-default-aside-nav-selected-text-color":{label:"菜单激活时文本颜色",type:"color",default:"@primary-color",tip:"默认同主色系"},"alain-default-aside-nav-selected-bg":{label:"菜单激活时背景颜色",type:"color",default:"#fcfcfc"},"alain-default-content-bg":{label:"背景色",type:"color",default:"#f5f7fa"},"alain-default-content-heading-bg":{label:"标题背景色",type:"color",default:"#fafbfc"},"alain-default-content-heading-border":{label:"标题底部边框色",type:"color",default:"#efe3e5"},"alain-default-content-padding":{label:"内边距",type:"px",default:"24px",min:0,max:128,step:8},"form-state-visual-feedback-enabled":{label:"开启表单元素的视觉反馈",type:"switch",default:!0},"preserve-white-spaces-enabled":{label:"开启 preserveWhitespaces",type:"switch",default:!0},"nz-table-img-radius":{label:"表格中：图片圆角",type:"px",default:"4px",min:0,max:128},"nz-table-img-margin-right":{label:"表格中：图片右外边距",type:"px",default:"4px",min:0,max:128},"nz-table-img-max-width":{label:"表格中：图片最大宽度",type:"px",default:"32px",min:8,max:128},"nz-table-img-max-height":{label:"表格中：图片最大高度",type:"px",default:"32px",min:8,max:128}},w=function(){function e(e,n,a,r,i,o){this.cdr=e,this.msg=n,this.settingSrv=a,this.lazy=r,this.zone=i,this.doc=o,this.loadedLess=!1,this.isDev=t.isDevMode(),this.devTips="When the color can't be switched, you need to run it once: npm run color-less",this.collapse=!1,this.data={},this.colors=b,this.color=this.cachedData["@primary-color"]||this.DEFAULT_PRIMARY,this.resetData(this.cachedData,!1)}return Object.defineProperty(e.prototype,"layout",{get:function(){return this.settingSrv.layout},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"cachedData",{get:function(){return this.settingSrv.layout[y]||{}},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"DEFAULT_PRIMARY",{get:function(){return z["primary-color"].default},enumerable:!1,configurable:!0}),e.prototype.loadLess=function(){var e=this;return this.loadedLess?Promise.resolve():this.lazy.loadStyle("./assets/color.less","stylesheet/less").then((function(){var t=e.doc.createElement("script");t.innerHTML="\n          window.less = {\n            async: true,\n            env: 'production',\n            javascriptEnabled: true\n          };\n        ",e.doc.body.appendChild(t)})).then((function(){return e.lazy.loadScript("https://gw.alipayobjects.com/os/lib/less.js/3.8.1/less.min.js")})).then((function(){e.loadedLess=!0}))},e.prototype.genVars=function(){var e,t=this,n=t.data,a=t.color,r=t.validKeys,i=((e={})["@primary-color"]=a,e);return r.filter((function(e){return"primary-color"!==e})).forEach((function(e){return i["@"+e]=n[e].value})),this.setLayout(y,i),i},e.prototype.runLess=function(){var e=this,t=this,n=t.zone,a=t.msg,r=t.cdr,i=a.loading("正在编译主题！",{nzDuration:0}).messageId;setTimeout((function(){n.runOutsideAngular((function(){e.loadLess().then((function(){window.less.modifyVars(e.genVars()).then((function(){a.success("成功"),a.remove(i),n.run((function(){return r.detectChanges()}))}))}))}))}),200)},e.prototype.toggle=function(){this.collapse=!this.collapse},e.prototype.changeColor=function(e){var t=this;this.color=e,Object.keys(z).filter((function(e){return"@primary-color"===z[e].default})).forEach((function(e){return delete t.cachedData["@"+e]})),this.resetData(this.cachedData,!1)},e.prototype.setLayout=function(e,t){this.settingSrv.setLayout(e,t)},e.prototype.resetData=function(e,t){var n=this;void 0===t&&(t=!0),e=e||{};var a=r.deepCopy(z);Object.keys(a).forEach((function(t){var r=e["@"+t]||a[t].default||"";a[t].value="@primary-color"===r?n.color:r})),this.data=a,t&&(this.cdr.detectChanges(),this.runLess())},Object.defineProperty(e.prototype,"validKeys",{get:function(){var e=this;return Object.keys(this.data).filter((function(t){return e.data[t].value!==e.data[t].default}))},enumerable:!1,configurable:!0}),e.prototype.apply=function(){this.runLess()},e.prototype.reset=function(){this.color=this.DEFAULT_PRIMARY,this.settingSrv.setLayout(y,{}),this.resetData({})},e.prototype.copyVar=function(){var e=this.genVars(),t=Object.keys(e).map((function(t){return t+": "+e[t]+";"})).join("\n");r.copy(t),this.msg.success("Copy success")},e}();w.decorators=[{type:t.Component,args:[{selector:"setting-drawer",template:'<nz-drawer [nzVisible]="collapse" [nzWidth]="500" (nzOnClose)="toggle()">\n  <div class="setting-drawer__content">\n    <div class="setting-drawer__body setting-drawer__theme">\n      <h3 class="setting-drawer__title">主题色</h3>\n      <span\n        *ngFor="let c of colors"\n        [style]="{ \'background-color\': c.color }"\n        (click)="changeColor(c.color)"\n        nz-tooltip\n        [nzTooltipTitle]="c.key"\n        class="setting-drawer__theme-tag"\n      >\n        <i *ngIf="color === c.color" nz-icon nzType="check"></i>\n      </span>\n    </div>\n    <nz-divider></nz-divider>\n    <div class="setting-drawer__body">\n      <h3 class="setting-drawer__title">设置</h3>\n      <nz-tabset>\n        <nz-tab nzTitle="顶部">\n          <div class="setting-drawer__body">\n            <setting-drawer-item [data]="data[\'alain-default-header-hg\']"></setting-drawer-item>\n            <setting-drawer-item [data]="data[\'alain-default-header-bg\']"></setting-drawer-item>\n            <setting-drawer-item [data]="data[\'alain-default-header-padding\']"></setting-drawer-item>\n          </div>\n        </nz-tab>\n        <nz-tab nzTitle="侧边栏">\n          <setting-drawer-item [data]="data[\'alain-default-aside-wd\']"></setting-drawer-item>\n          <setting-drawer-item [data]="data[\'alain-default-aside-bg\']"></setting-drawer-item>\n          <setting-drawer-item [data]="data[\'alain-default-aside-collapsed-wd\']"></setting-drawer-item>\n          <setting-drawer-item [data]="data[\'alain-default-aside-nav-padding-top-bottom\']"></setting-drawer-item>\n        </nz-tab>\n        <nz-tab nzTitle="内容">\n          <setting-drawer-item [data]="data[\'alain-default-content-bg\']"></setting-drawer-item>\n          <setting-drawer-item [data]="data[\'alain-default-content-heading-bg\']"></setting-drawer-item>\n          <setting-drawer-item [data]="data[\'alain-default-content-heading-border\']"></setting-drawer-item>\n          <setting-drawer-item [data]="data[\'alain-default-content-padding\']"></setting-drawer-item>\n        </nz-tab>\n        <nz-tab nzTitle="其它">\n          <setting-drawer-item [data]="data[\'form-state-visual-feedback-enabled\']"></setting-drawer-item>\n          <setting-drawer-item [data]="data[\'preserve-white-spaces-enabled\']"></setting-drawer-item>\n          <setting-drawer-item [data]="data[\'nz-table-img-radius\']"></setting-drawer-item>\n          <setting-drawer-item [data]="data[\'nz-table-img-margin-right\']"></setting-drawer-item>\n          <setting-drawer-item [data]="data[\'nz-table-img-max-width\']"></setting-drawer-item>\n          <setting-drawer-item [data]="data[\'nz-table-img-max-height\']"></setting-drawer-item>\n        </nz-tab>\n      </nz-tabset>\n    </div>\n    <nz-divider></nz-divider>\n    <div class="setting-drawer__body">\n      <div class="setting-drawer__body-item">\n        固定头和侧边栏\n        <nz-switch nzSize="small" [(ngModel)]="layout.fixed" (ngModelChange)="setLayout(\'fixed\', layout.fixed)"></nz-switch>\n      </div>\n      <div class="setting-drawer__body-item">\n        色弱模式\n        <nz-switch nzSize="small" [(ngModel)]="layout.colorWeak" (ngModelChange)="setLayout(\'colorWeak\', layout.colorWeak)"></nz-switch>\n      </div>\n    </div>\n    <nz-divider></nz-divider>\n    <button (click)="apply()" type="button" nz-button nzType="primary">预览</button>\n    <button (click)="reset()" type="button" nz-button>重置</button>\n    <button (click)="copyVar()" type="button" nz-button>拷贝</button>\n    <nz-alert\n      class="mt-md"\n      nzType="warning"\n      nzMessage="配置栏只在开发环境用于预览，生产环境不会展现，请拷贝后手动修改参数配置文件 src/styles/theme.less"\n    ></nz-alert>\n  </div>\n</nz-drawer>\n<div\n  class="setting-drawer__handle"\n  [ngClass]="{ \'setting-drawer__handle-opened\': collapse }"\n  (click)="toggle()"\n  nz-tooltip\n  [nzTooltipTitle]="isDev ? devTips : null"\n>\n  <i nz-icon [nzType]="!collapse ? \'setting\' : \'close\'" class="setting-drawer__handle-icon"></i>\n</div>\n',host:{"[class.setting-drawer]":"true"},changeDetection:t.ChangeDetectionStrategy.OnPush}]}],w.ctorParameters=function(){return[{type:t.ChangeDetectorRef},{type:i.NzMessageService},{type:a.SettingsService},{type:r.LazyService},{type:t.NgZone},{type:void 0,decorators:[{type:t.Inject,args:[n.DOCUMENT]}]}]},w.propDecorators={devTips:[{type:t.Input}]};Object.create;function v(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var a,r,i=n.call(e),o=[];try{for(;(void 0===t||t-- >0)&&!(a=i.next()).done;)o.push(a.value)}catch(e){r={error:e}}finally{try{a&&!a.done&&(n=i.return)&&n.call(i)}finally{if(r)throw r.error}}return o}function x(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(v(arguments[t]));return e}Object.create;var M=[h,w],_=function(){};_.decorators=[{type:t.NgModule,args:[{imports:[n.CommonModule,o.FormsModule,r.DelonUtilModule,c.NzDrawerModule,m.NzToolTipModule,s.NzDividerModule,f.NzTabsModule,g.NzSwitchModule,l.NzAlertModule,u.NzIconModule,p.NzInputNumberModule,d.NzButtonModule],declarations:x(M),exports:x(M)}]}],e.SettingDrawerComponent=w,e.SettingDrawerItemComponent=h,e.SettingDrawerModule=_,Object.defineProperty(e,"__esModule",{value:!0})}));
//# sourceMappingURL=setting-drawer.umd.min.js.map