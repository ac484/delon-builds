import { registerLocaleData } from '@angular/common';
import { ENVIRONMENT_INITIALIZER, LOCALE_ID, importProvidersFrom, inject, makeEnvironmentProviders } from '@angular/core';
import { BellOutline, DeleteOutline, InboxOutline, PlusOutline, MenuFoldOutline, MenuUnfoldOutline } from '@ant-design/icons-angular/icons';
import { ALAIN_CONFIG } from '@delon/util/config';
import { NzDrawerModule } from 'ng-zorro-antd/drawer';
import { NZ_DATE_LOCALE, provideNzI18n } from 'ng-zorro-antd/i18n';
import { NzIconService } from 'ng-zorro-antd/icon';
import { NzModalModule } from 'ng-zorro-antd/modal';
import { DELON_LOCALE, DELON_LOCALE_SERVICE_PROVIDER } from './locale';
import zhCN from './locale/languages/zh-CN';
import { ALAIN_I18N_TOKEN } from './services';
import { ALAIN_SETTING_DEFAULT } from './services/settings/settings.service';
export function provideAlain(options) {
    const lang = options?.defaultLang;
    const provides = [
        { provide: ALAIN_CONFIG, useValue: options?.config },
        { provide: DELON_LOCALE, useValue: lang?.delon ?? zhCN },
        DELON_LOCALE_SERVICE_PROVIDER,
        importProvidersFrom([NzDrawerModule, NzModalModule]),
        ALAIN_SETTING_DEFAULT
    ];
    if (lang) {
        registerLocaleData(lang.ng, lang.abbr);
        provides.push({ provide: LOCALE_ID, useValue: lang.abbr }, provideNzI18n(lang.zorro), {
            provide: NZ_DATE_LOCALE,
            useValue: lang.date
        });
    }
    const i18nCls = options?.i18nClass;
    if (i18nCls) {
        provides.push({ provide: ALAIN_I18N_TOKEN, useClass: i18nCls, multi: false });
    }
    const icons = [
        BellOutline,
        DeleteOutline,
        PlusOutline,
        InboxOutline,
        MenuFoldOutline,
        MenuUnfoldOutline,
        ...(options.icons ?? [])
    ];
    provides.push({
        provide: ENVIRONMENT_INITIALIZER,
        multi: true,
        useValue: () => {
            inject(NzIconService, { optional: true })?.addIcon(...icons);
        }
    });
    return makeEnvironmentProviders(provides);
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoicHJvdmlkZS5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uLy4uL3BhY2thZ2VzL3RoZW1lL3NyYy9wcm92aWRlLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLE9BQU8sRUFBRSxrQkFBa0IsRUFBRSxNQUFNLGlCQUFpQixDQUFDO0FBQ3JELE9BQU8sRUFDTCx1QkFBdUIsRUFFdkIsU0FBUyxFQUdULG1CQUFtQixFQUNuQixNQUFNLEVBQ04sd0JBQXdCLEVBQ3pCLE1BQU0sZUFBZSxDQUFDO0FBR3ZCLE9BQU8sRUFDTCxXQUFXLEVBQ1gsYUFBYSxFQUNiLFlBQVksRUFDWixXQUFXLEVBQ1gsZUFBZSxFQUNmLGlCQUFpQixFQUNsQixNQUFNLGlDQUFpQyxDQUFDO0FBRXpDLE9BQU8sRUFBRSxZQUFZLEVBQWUsTUFBTSxvQkFBb0IsQ0FBQztBQUUvRCxPQUFPLEVBQUUsY0FBYyxFQUFFLE1BQU0sc0JBQXNCLENBQUM7QUFDdEQsT0FBTyxFQUFFLGNBQWMsRUFBRSxhQUFhLEVBQUUsTUFBTSxvQkFBb0IsQ0FBQztBQUNuRSxPQUFPLEVBQUUsYUFBYSxFQUFFLE1BQU0sb0JBQW9CLENBQUM7QUFDbkQsT0FBTyxFQUFFLGFBQWEsRUFBRSxNQUFNLHFCQUFxQixDQUFDO0FBRXBELE9BQU8sRUFBRSxZQUFZLEVBQUUsNkJBQTZCLEVBQUUsTUFBTSxVQUFVLENBQUM7QUFDdkUsT0FBTyxJQUFJLE1BQU0sMEJBQTBCLENBQUM7QUFDNUMsT0FBTyxFQUFFLGdCQUFnQixFQUFFLE1BQU0sWUFBWSxDQUFDO0FBQzlDLE9BQU8sRUFBRSxxQkFBcUIsRUFBRSxNQUFNLHNDQUFzQyxDQUFDO0FBc0I3RSxNQUFNLFVBQVUsWUFBWSxDQUFDLE9BQTRCO0lBQ3ZELE1BQU0sSUFBSSxHQUFHLE9BQU8sRUFBRSxXQUFXLENBQUM7SUFDbEMsTUFBTSxRQUFRLEdBQTJDO1FBQ3ZELEVBQUUsT0FBTyxFQUFFLFlBQVksRUFBRSxRQUFRLEVBQUUsT0FBTyxFQUFFLE1BQU0sRUFBRTtRQUNwRCxFQUFFLE9BQU8sRUFBRSxZQUFZLEVBQUUsUUFBUSxFQUFFLElBQUksRUFBRSxLQUFLLElBQUksSUFBSSxFQUFFO1FBQ3hELDZCQUE2QjtRQUM3QixtQkFBbUIsQ0FBQyxDQUFDLGNBQWMsRUFBRSxhQUFhLENBQUMsQ0FBQztRQUNwRCxxQkFBcUI7S0FDdEIsQ0FBQztJQUNGLElBQUksSUFBSSxFQUFFO1FBQ1Isa0JBQWtCLENBQUMsSUFBSSxDQUFDLEVBQUUsRUFBRSxJQUFJLENBQUMsSUFBSSxDQUFDLENBQUM7UUFDdkMsUUFBUSxDQUFDLElBQUksQ0FBQyxFQUFFLE9BQU8sRUFBRSxTQUFTLEVBQUUsUUFBUSxFQUFFLElBQUksQ0FBQyxJQUFJLEVBQUUsRUFBRSxhQUFhLENBQUMsSUFBSSxDQUFDLEtBQUssQ0FBQyxFQUFFO1lBQ3BGLE9BQU8sRUFBRSxjQUFjO1lBQ3ZCLFFBQVEsRUFBRSxJQUFJLENBQUMsSUFBSTtTQUNwQixDQUFDLENBQUM7S0FDSjtJQUVELE1BQU0sT0FBTyxHQUFHLE9BQU8sRUFBRSxTQUFTLENBQUM7SUFDbkMsSUFBSSxPQUFPLEVBQUU7UUFDWCxRQUFRLENBQUMsSUFBSSxDQUFDLEVBQUUsT0FBTyxFQUFFLGdCQUFnQixFQUFFLFFBQVEsRUFBRSxPQUFPLEVBQUUsS0FBSyxFQUFFLEtBQUssRUFBRSxDQUFDLENBQUM7S0FDL0U7SUFFRCxNQUFNLEtBQUssR0FBcUI7UUFDOUIsV0FBVztRQUNYLGFBQWE7UUFDYixXQUFXO1FBQ1gsWUFBWTtRQUNaLGVBQWU7UUFDZixpQkFBaUI7UUFDakIsR0FBRyxDQUFDLE9BQU8sQ0FBQyxLQUFLLElBQUksRUFBRSxDQUFDO0tBQ3pCLENBQUM7SUFDRixRQUFRLENBQUMsSUFBSSxDQUFDO1FBQ1osT0FBTyxFQUFFLHVCQUF1QjtRQUNoQyxLQUFLLEVBQUUsSUFBSTtRQUNYLFFBQVEsRUFBRSxHQUFHLEVBQUU7WUFDYixNQUFNLENBQUMsYUFBYSxFQUFFLEVBQUUsUUFBUSxFQUFFLElBQUksRUFBRSxDQUFDLEVBQUUsT0FBTyxDQUFDLEdBQUcsS0FBSyxDQUFDLENBQUM7UUFDL0QsQ0FBQztLQUNGLENBQUMsQ0FBQztJQUNILE9BQU8sd0JBQXdCLENBQUMsUUFBUSxDQUFDLENBQUM7QUFDNUMsQ0FBQyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IHJlZ2lzdGVyTG9jYWxlRGF0YSB9IGZyb20gJ0Bhbmd1bGFyL2NvbW1vbic7XG5pbXBvcnQge1xuICBFTlZJUk9OTUVOVF9JTklUSUFMSVpFUixcbiAgRW52aXJvbm1lbnRQcm92aWRlcnMsXG4gIExPQ0FMRV9JRCxcbiAgUHJvdmlkZXIsXG4gIFR5cGUsXG4gIGltcG9ydFByb3ZpZGVyc0Zyb20sXG4gIGluamVjdCxcbiAgbWFrZUVudmlyb25tZW50UHJvdmlkZXJzXG59IGZyb20gJ0Bhbmd1bGFyL2NvcmUnO1xuXG5pbXBvcnQgdHlwZSB7IEljb25EZWZpbml0aW9uIH0gZnJvbSAnQGFudC1kZXNpZ24vaWNvbnMtYW5ndWxhcic7XG5pbXBvcnQge1xuICBCZWxsT3V0bGluZSxcbiAgRGVsZXRlT3V0bGluZSxcbiAgSW5ib3hPdXRsaW5lLFxuICBQbHVzT3V0bGluZSxcbiAgTWVudUZvbGRPdXRsaW5lLFxuICBNZW51VW5mb2xkT3V0bGluZVxufSBmcm9tICdAYW50LWRlc2lnbi9pY29ucy1hbmd1bGFyL2ljb25zJztcblxuaW1wb3J0IHsgQUxBSU5fQ09ORklHLCBBbGFpbkNvbmZpZyB9IGZyb20gJ0BkZWxvbi91dGlsL2NvbmZpZyc7XG5pbXBvcnQgdHlwZSB7IE56U2FmZUFueSB9IGZyb20gJ25nLXpvcnJvLWFudGQvY29yZS90eXBlcyc7XG5pbXBvcnQgeyBOekRyYXdlck1vZHVsZSB9IGZyb20gJ25nLXpvcnJvLWFudGQvZHJhd2VyJztcbmltcG9ydCB7IE5aX0RBVEVfTE9DQUxFLCBwcm92aWRlTnpJMThuIH0gZnJvbSAnbmctem9ycm8tYW50ZC9pMThuJztcbmltcG9ydCB7IE56SWNvblNlcnZpY2UgfSBmcm9tICduZy16b3Jyby1hbnRkL2ljb24nO1xuaW1wb3J0IHsgTnpNb2RhbE1vZHVsZSB9IGZyb20gJ25nLXpvcnJvLWFudGQvbW9kYWwnO1xuXG5pbXBvcnQgeyBERUxPTl9MT0NBTEUsIERFTE9OX0xPQ0FMRV9TRVJWSUNFX1BST1ZJREVSIH0gZnJvbSAnLi9sb2NhbGUnO1xuaW1wb3J0IHpoQ04gZnJvbSAnLi9sb2NhbGUvbGFuZ3VhZ2VzL3poLUNOJztcbmltcG9ydCB7IEFMQUlOX0kxOE5fVE9LRU4gfSBmcm9tICcuL3NlcnZpY2VzJztcbmltcG9ydCB7IEFMQUlOX1NFVFRJTkdfREVGQVVMVCB9IGZyb20gJy4vc2VydmljZXMvc2V0dGluZ3Mvc2V0dGluZ3Muc2VydmljZSc7XG5cbmV4cG9ydCBpbnRlcmZhY2UgQWxhaW5Qcm92aWRlT3B0aW9ucyB7XG4gIGNvbmZpZz86IEFsYWluQ29uZmlnO1xuICAvKipcbiAgICogSW5pdGlhbGl6ZSBkZWZhdWx0IGxhbmd1YWdlXG4gICAqXG4gICAqIOWIneWni+WMlum7mOiupOivreiogFxuICAgKi9cbiAgZGVmYXVsdExhbmc/OiBBbGFpblByb3ZpZGVMYW5nO1xuICBpMThuQ2xhc3M/OiBUeXBlPE56U2FmZUFueT47XG4gIGljb25zPzogSWNvbkRlZmluaXRpb25bXTtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBBbGFpblByb3ZpZGVMYW5nIHtcbiAgYWJicjogc3RyaW5nO1xuICBuZzogTnpTYWZlQW55O1xuICB6b3JybzogTnpTYWZlQW55O1xuICBkYXRlOiBOelNhZmVBbnk7XG4gIGRlbG9uOiBOelNhZmVBbnk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBwcm92aWRlQWxhaW4ob3B0aW9uczogQWxhaW5Qcm92aWRlT3B0aW9ucyk6IEVudmlyb25tZW50UHJvdmlkZXJzIHtcbiAgY29uc3QgbGFuZyA9IG9wdGlvbnM/LmRlZmF1bHRMYW5nO1xuICBjb25zdCBwcm92aWRlczogQXJyYXk8UHJvdmlkZXIgfCBFbnZpcm9ubWVudFByb3ZpZGVycz4gPSBbXG4gICAgeyBwcm92aWRlOiBBTEFJTl9DT05GSUcsIHVzZVZhbHVlOiBvcHRpb25zPy5jb25maWcgfSxcbiAgICB7IHByb3ZpZGU6IERFTE9OX0xPQ0FMRSwgdXNlVmFsdWU6IGxhbmc/LmRlbG9uID8/IHpoQ04gfSxcbiAgICBERUxPTl9MT0NBTEVfU0VSVklDRV9QUk9WSURFUixcbiAgICBpbXBvcnRQcm92aWRlcnNGcm9tKFtOekRyYXdlck1vZHVsZSwgTnpNb2RhbE1vZHVsZV0pLFxuICAgIEFMQUlOX1NFVFRJTkdfREVGQVVMVFxuICBdO1xuICBpZiAobGFuZykge1xuICAgIHJlZ2lzdGVyTG9jYWxlRGF0YShsYW5nLm5nLCBsYW5nLmFiYnIpO1xuICAgIHByb3ZpZGVzLnB1c2goeyBwcm92aWRlOiBMT0NBTEVfSUQsIHVzZVZhbHVlOiBsYW5nLmFiYnIgfSwgcHJvdmlkZU56STE4bihsYW5nLnpvcnJvKSwge1xuICAgICAgcHJvdmlkZTogTlpfREFURV9MT0NBTEUsXG4gICAgICB1c2VWYWx1ZTogbGFuZy5kYXRlXG4gICAgfSk7XG4gIH1cblxuICBjb25zdCBpMThuQ2xzID0gb3B0aW9ucz8uaTE4bkNsYXNzO1xuICBpZiAoaTE4bkNscykge1xuICAgIHByb3ZpZGVzLnB1c2goeyBwcm92aWRlOiBBTEFJTl9JMThOX1RPS0VOLCB1c2VDbGFzczogaTE4bkNscywgbXVsdGk6IGZhbHNlIH0pO1xuICB9XG5cbiAgY29uc3QgaWNvbnM6IEljb25EZWZpbml0aW9uW10gPSBbXG4gICAgQmVsbE91dGxpbmUsXG4gICAgRGVsZXRlT3V0bGluZSxcbiAgICBQbHVzT3V0bGluZSxcbiAgICBJbmJveE91dGxpbmUsXG4gICAgTWVudUZvbGRPdXRsaW5lLFxuICAgIE1lbnVVbmZvbGRPdXRsaW5lLFxuICAgIC4uLihvcHRpb25zLmljb25zID8/IFtdKVxuICBdO1xuICBwcm92aWRlcy5wdXNoKHtcbiAgICBwcm92aWRlOiBFTlZJUk9OTUVOVF9JTklUSUFMSVpFUixcbiAgICBtdWx0aTogdHJ1ZSxcbiAgICB1c2VWYWx1ZTogKCkgPT4ge1xuICAgICAgaW5qZWN0KE56SWNvblNlcnZpY2UsIHsgb3B0aW9uYWw6IHRydWUgfSk/LmFkZEljb24oLi4uaWNvbnMpO1xuICAgIH1cbiAgfSk7XG4gIHJldHVybiBtYWtlRW52aXJvbm1lbnRQcm92aWRlcnMocHJvdmlkZXMpO1xufVxuIl19