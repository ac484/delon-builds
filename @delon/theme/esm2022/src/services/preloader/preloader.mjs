import { DOCUMENT } from '@angular/common';
import { inject } from '@angular/core';
export function stepPreloader() {
    const doc = inject(DOCUMENT);
    const body = doc.querySelector('body');
    body.style.overflow = 'hidden';
    let done = false;
    return () => {
        if (done)
            return;
        done = true;
        const preloader = doc.querySelector('.preloader');
        if (preloader == null)
            return;
        const CLS = 'preloader-hidden';
        preloader.addEventListener('transitionend', () => {
            preloader.className = CLS;
        });
        preloader.className += ` ${CLS}-add ${CLS}-add-active`;
        const body = doc.querySelector('body');
        body.style.overflow = '';
    };
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoicHJlbG9hZGVyLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vLi4vLi4vLi4vLi4vLi4vcGFja2FnZXMvdGhlbWUvc3JjL3NlcnZpY2VzL3ByZWxvYWRlci9wcmVsb2FkZXIudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsT0FBTyxFQUFFLFFBQVEsRUFBRSxNQUFNLGlCQUFpQixDQUFDO0FBQzNDLE9BQU8sRUFBRSxNQUFNLEVBQUUsTUFBTSxlQUFlLENBQUM7QUFFdkMsTUFBTSxVQUFVLGFBQWE7SUFDM0IsTUFBTSxHQUFHLEdBQWEsTUFBTSxDQUFDLFFBQVEsQ0FBQyxDQUFDO0lBQ3ZDLE1BQU0sSUFBSSxHQUFHLEdBQUcsQ0FBQyxhQUFhLENBQUMsTUFBTSxDQUFFLENBQUM7SUFDeEMsSUFBSSxDQUFDLEtBQUssQ0FBQyxRQUFRLEdBQUcsUUFBUSxDQUFDO0lBQy9CLElBQUksSUFBSSxHQUFHLEtBQUssQ0FBQztJQUVqQixPQUFPLEdBQUcsRUFBRTtRQUNWLElBQUksSUFBSTtZQUFFLE9BQU87UUFFakIsSUFBSSxHQUFHLElBQUksQ0FBQztRQUNaLE1BQU0sU0FBUyxHQUFHLEdBQUcsQ0FBQyxhQUFhLENBQWMsWUFBWSxDQUFDLENBQUM7UUFDL0QsSUFBSSxTQUFTLElBQUksSUFBSTtZQUFFLE9BQU87UUFFOUIsTUFBTSxHQUFHLEdBQUcsa0JBQWtCLENBQUM7UUFDL0IsU0FBUyxDQUFDLGdCQUFnQixDQUFDLGVBQWUsRUFBRSxHQUFHLEVBQUU7WUFDL0MsU0FBUyxDQUFDLFNBQVMsR0FBRyxHQUFHLENBQUM7UUFDNUIsQ0FBQyxDQUFDLENBQUM7UUFDSCxTQUFTLENBQUMsU0FBUyxJQUFJLElBQUksR0FBRyxRQUFRLEdBQUcsYUFBYSxDQUFDO1FBQ3ZELE1BQU0sSUFBSSxHQUFHLEdBQUcsQ0FBQyxhQUFhLENBQWtCLE1BQU0sQ0FBRSxDQUFDO1FBQ3pELElBQUksQ0FBQyxLQUFLLENBQUMsUUFBUSxHQUFHLEVBQUUsQ0FBQztJQUMzQixDQUFDLENBQUM7QUFDSixDQUFDIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgRE9DVU1FTlQgfSBmcm9tICdAYW5ndWxhci9jb21tb24nO1xuaW1wb3J0IHsgaW5qZWN0IH0gZnJvbSAnQGFuZ3VsYXIvY29yZSc7XG5cbmV4cG9ydCBmdW5jdGlvbiBzdGVwUHJlbG9hZGVyKCk6ICgpID0+IHZvaWQge1xuICBjb25zdCBkb2M6IERvY3VtZW50ID0gaW5qZWN0KERPQ1VNRU5UKTtcbiAgY29uc3QgYm9keSA9IGRvYy5xdWVyeVNlbGVjdG9yKCdib2R5JykhO1xuICBib2R5LnN0eWxlLm92ZXJmbG93ID0gJ2hpZGRlbic7XG4gIGxldCBkb25lID0gZmFsc2U7XG5cbiAgcmV0dXJuICgpID0+IHtcbiAgICBpZiAoZG9uZSkgcmV0dXJuO1xuXG4gICAgZG9uZSA9IHRydWU7XG4gICAgY29uc3QgcHJlbG9hZGVyID0gZG9jLnF1ZXJ5U2VsZWN0b3I8SFRNTEVsZW1lbnQ+KCcucHJlbG9hZGVyJyk7XG4gICAgaWYgKHByZWxvYWRlciA9PSBudWxsKSByZXR1cm47XG5cbiAgICBjb25zdCBDTFMgPSAncHJlbG9hZGVyLWhpZGRlbic7XG4gICAgcHJlbG9hZGVyLmFkZEV2ZW50TGlzdGVuZXIoJ3RyYW5zaXRpb25lbmQnLCAoKSA9PiB7XG4gICAgICBwcmVsb2FkZXIuY2xhc3NOYW1lID0gQ0xTO1xuICAgIH0pO1xuICAgIHByZWxvYWRlci5jbGFzc05hbWUgKz0gYCAke0NMU30tYWRkICR7Q0xTfS1hZGQtYWN0aXZlYDtcbiAgICBjb25zdCBib2R5ID0gZG9jLnF1ZXJ5U2VsZWN0b3I8SFRNTEJvZHlFbGVtZW50PignYm9keScpITtcbiAgICBib2R5LnN0eWxlLm92ZXJmbG93ID0gJyc7XG4gIH07XG59XG4iXX0=