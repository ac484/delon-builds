{"version":3,"file":"acl.js.map","sources":["ng://@delon/acl/src/acl.service.ts","ng://@delon/acl/src/acl.directive.ts","ng://@delon/acl/src/acl.config.ts","ng://@delon/acl/src/acl-guard.ts","ng://@delon/acl/src/acl.module.ts"],"sourcesContent":["import { Injectable } from '@angular/core';\r\nimport { Observable, BehaviorSubject } from 'rxjs';\r\nimport { ACLType, ACLCanType } from './acl.type';\r\n\r\n/**\r\n * è®¿é®æ§å¶æå¡\r\n */\r\n@Injectable()\r\nexport class ACLService {\r\n  private roles: string[] = [];\r\n  private abilities: (number | string)[] = [];\r\n  private full = false;\r\n  private aclChange: BehaviorSubject<ACLType | boolean> = new BehaviorSubject<\r\n    ACLType | boolean\r\n  >(null);\r\n\r\n  /** ACLåæ´éç¥ */\r\n  get change(): Observable<ACLType | boolean> {\r\n    return this.aclChange.asObservable();\r\n  }\r\n\r\n  /** è·åæææ°æ® */\r\n  get data() {\r\n    return {\r\n      full: this.full,\r\n      roles: this.roles,\r\n      abilities: this.abilities,\r\n    };\r\n  }\r\n\r\n  private parseACLType(val: string | string[] | ACLType): ACLType {\r\n    if (typeof val !== 'string' && !Array.isArray(val)) {\r\n      return <ACLType>val;\r\n    }\r\n    if (Array.isArray(val)) {\r\n      return <ACLType>{ role: <string[]>val };\r\n    }\r\n    return <ACLType>{\r\n      role: [val],\r\n    };\r\n  }\r\n\r\n  /**\r\n   * è®¾ç½®å½åç¨æ·è§è²ææéè½åï¼ä¼åæ¸é¤ææï¼\r\n   */\r\n  set(value: ACLType) {\r\n    this.abilities = [];\r\n    this.roles = [];\r\n    this.add(value);\r\n    this.aclChange.next(value);\r\n  }\r\n\r\n  /**\r\n   * æ è¯å½åç¨æ·ä¸ºå¨éï¼å³ä¸åé\r\n   */\r\n  setFull(val: boolean) {\r\n    this.full = val;\r\n    this.aclChange.next(val);\r\n  }\r\n\r\n  /**\r\n   * è®¾ç½®å½åç¨æ·æéè½åï¼ä¼åæ¸é¤ææï¼\r\n   */\r\n  setAbility(abilities: (number | string)[]) {\r\n    this.set(<ACLType>{ ability: abilities });\r\n  }\r\n\r\n  /**\r\n   * è®¾ç½®å½åç¨æ·è§è²ï¼ä¼åæ¸é¤ææï¼\r\n   */\r\n  setRole(roles: string[]) {\r\n    this.set(<ACLType>{ role: roles });\r\n  }\r\n\r\n  /**\r\n   * ä¸ºå½åç¨æ·å¢å è§è²ææéè½å\r\n   */\r\n  add(value: ACLType) {\r\n    if (value.role && value.role.length > 0) {\r\n      this.roles.push(...value.role);\r\n    }\r\n    if (value.ability && value.ability.length > 0) {\r\n      this.abilities.push(...value.ability);\r\n    }\r\n  }\r\n\r\n  /**\r\n   * ä¸ºå½åç¨æ·éå è§è²\r\n   */\r\n  attachRole(roles: string[]) {\r\n    for (const val of roles) {\r\n      if (!this.roles.includes(val)) {\r\n        this.roles.push(val);\r\n      }\r\n    }\r\n    this.aclChange.next(this.data);\r\n  }\r\n\r\n  /**\r\n   * ä¸ºå½åç¨æ·éå æé\r\n   */\r\n  attachAbility(abilities: (number | string)[]) {\r\n    for (const val of abilities) {\r\n      if (!this.abilities.includes(val)) {\r\n        this.abilities.push(val);\r\n      }\r\n    }\r\n    this.aclChange.next(this.data);\r\n  }\r\n\r\n  /**\r\n   * ä¸ºå½åç¨æ·ç§»é¤è§è²\r\n   */\r\n  removeRole(roles: string[]) {\r\n    for (const val of roles) {\r\n      const idx = this.roles.indexOf(val);\r\n      if (idx !== -1) {\r\n        this.roles.splice(idx, 1);\r\n      }\r\n    }\r\n    this.aclChange.next(this.data);\r\n  }\r\n\r\n  /**\r\n   * ä¸ºå½åç¨æ·ç§»é¤æé\r\n   */\r\n  removeAbility(abilities: (number | string)[]) {\r\n    for (const val of abilities) {\r\n      const idx = this.abilities.indexOf(val);\r\n      if (idx !== -1) {\r\n        this.abilities.splice(idx, 1);\r\n      }\r\n    }\r\n    this.aclChange.next(this.data);\r\n  }\r\n\r\n  /**\r\n   * å½åç¨æ·æ¯å¦æå¯¹åºè§è²ï¼å¶å® `number` è¡¨ç¤ºAbility\r\n   *\r\n   * - å½ `full: true` æåæ° `null` æ¶è¿å `true`\r\n   * - è¥ä½¿ç¨ `ACLType` åæ°ï¼å¯ä»¥æå® `mode` æ ¡éªæ¨¡å¼\r\n   */\r\n  can(roleOrAbility: ACLCanType): boolean {\r\n    if (this.full === true || !roleOrAbility) {\r\n      return true;\r\n    }\r\n\r\n    let t: ACLType = {};\r\n    if (typeof roleOrAbility === 'number') {\r\n      t = { ability: [roleOrAbility] };\r\n    } else if (\r\n      Array.isArray(roleOrAbility) &&\r\n      roleOrAbility.length > 0 &&\r\n      typeof roleOrAbility[0] === 'number'\r\n    ) {\r\n      t = { ability: roleOrAbility };\r\n    } else {\r\n      t = this.parseACLType(roleOrAbility);\r\n    }\r\n\r\n    if (t.role) {\r\n      if (t.mode === 'allOf') return t.role.every(v => this.roles.includes(v));\r\n      else return t.role.some(v => this.roles.includes(v));\r\n    }\r\n    if (t.ability) {\r\n      if (t.mode === 'allOf')\r\n        return (t.ability as any[]).every(v => this.abilities.includes(v));\r\n      else return (t.ability as any[]).some(v => this.abilities.includes(v));\r\n    }\r\n    return false;\r\n  }\r\n\r\n  /** @inner */\r\n  parseAbility(value: ACLCanType): ACLCanType {\r\n    if (\r\n      typeof value === 'number' ||\r\n      typeof value === 'string' ||\r\n      Array.isArray(value)\r\n    ) {\r\n      value = <ACLType>{ ability: Array.isArray(value) ? value : [value] };\r\n    }\r\n    delete value.role;\r\n    return value;\r\n  }\r\n\r\n  /**\r\n   * å½åç¨æ·æ¯å¦æå¯¹åºæéç¹\r\n   */\r\n  canAbility(value: ACLCanType): boolean {\r\n    return this.can(this.parseAbility(value));\r\n  }\r\n}\r\n","import {\r\n  Directive,\r\n  Input,\r\n  ElementRef,\r\n  Renderer2,\r\n  OnDestroy,\r\n} from '@angular/core';\r\nimport { Subscription } from 'rxjs';\r\n\r\nimport { ACLService } from './acl.service';\r\nimport { ACLCanType } from './acl.type';\r\n\r\n@Directive({\r\n  selector: '[acl]',\r\n})\r\nexport class ACLDirective implements OnDestroy {\r\n  private _value: any;\r\n  private change$: Subscription;\r\n\r\n  @Input('acl')\r\n  set acl(value: ACLCanType) {\r\n    this.set(value);\r\n  }\r\n\r\n  @Input('acl-ability')\r\n  set ability(value: ACLCanType) {\r\n    this.set(this.srv.parseAbility(value));\r\n  }\r\n\r\n  private set(value: ACLCanType) {\r\n    const CLS = 'acl__hide';\r\n    const el = this.el.nativeElement;\r\n    if (this.srv.can(value)) {\r\n      this.renderer.removeClass(el, CLS);\r\n    } else {\r\n      this.renderer.addClass(el, CLS);\r\n    }\r\n    this._value = value;\r\n  }\r\n\r\n  constructor(\r\n    private el: ElementRef,\r\n    private renderer: Renderer2,\r\n    private srv: ACLService,\r\n  ) {\r\n    this.change$ = <any>this.srv.change.subscribe(() => this.set(this._value));\r\n  }\r\n\r\n  ngOnDestroy(): void {\r\n    this.change$.unsubscribe();\r\n  }\r\n}\r\n","export class DelonACLConfig {\r\n  /**\r\n   * è·¯ç±å®å«å¤±è´¥åè·³è½¬ï¼é»è®¤ï¼`/403`\r\n   */\r\n  guard_url? = '/403';\r\n}\r\n","import {\r\n  CanActivate,\r\n  CanActivateChild,\r\n  CanLoad,\r\n  ActivatedRouteSnapshot,\r\n  Route,\r\n  RouterStateSnapshot,\r\n  Router,\r\n} from '@angular/router';\r\nimport { Injectable } from '@angular/core';\r\nimport { Observable, of } from 'rxjs';\r\nimport { map, tap } from 'rxjs/operators';\r\n\r\nimport { ACLService } from './acl.service';\r\nimport { ACLCanType } from './acl.type';\r\nimport { DelonACLConfig } from './acl.config';\r\n\r\n@Injectable()\r\nexport class ACLGuard implements CanActivate, CanActivateChild, CanLoad {\r\n  constructor(\r\n    private srv: ACLService,\r\n    private router: Router,\r\n    private options: DelonACLConfig,\r\n  ) {}\r\n\r\n  private process(\r\n    guard: ACLCanType | Observable<ACLCanType>,\r\n  ): Observable<boolean> {\r\n    return (guard && guard instanceof Observable\r\n      ? guard\r\n      : of(\r\n          typeof guard !== 'undefined' && guard !== null\r\n            ? (guard as ACLCanType)\r\n            : null,\r\n        )\r\n    ).pipe(\r\n      map(v => this.srv.can(v)),\r\n      tap(v => {\r\n        if (v) return;\r\n        this.router.navigateByUrl(this.options.guard_url);\r\n      }),\r\n    );\r\n  }\r\n\r\n  // lazy loading\r\n  canLoad(route: Route): Observable<boolean> {\r\n    return this.process((route.data && route.data.guard) || null);\r\n  }\r\n  // all children route\r\n  canActivateChild(\r\n    childRoute: ActivatedRouteSnapshot,\r\n    state: RouterStateSnapshot,\r\n  ): Observable<boolean> {\r\n    return this.canActivate(childRoute, state);\r\n  }\r\n  // route\r\n  canActivate(\r\n    route: ActivatedRouteSnapshot,\r\n    state: RouterStateSnapshot,\r\n  ): Observable<boolean> {\r\n    return this.process((route.data && route.data.guard) || null);\r\n  }\r\n}\r\n","import { NgModule, ModuleWithProviders } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\n\r\nimport { DelonACLConfig } from './acl.config';\r\nimport { ACLGuard } from './acl-guard';\r\nimport { ACLService } from './acl.service';\r\nimport { ACLDirective } from './acl.directive';\r\n\r\nconst SERVICES = [ACLService, ACLGuard];\r\nconst COMPONENTS = [ACLDirective];\r\n\r\n@NgModule({\r\n  imports: [CommonModule],\r\n  declarations: [...COMPONENTS],\r\n  exports: [...COMPONENTS],\r\n})\r\nexport class DelonACLModule {\r\n  static forRoot(): ModuleWithProviders {\r\n    return {\r\n      ngModule: DelonACLModule,\r\n      providers: [DelonACLConfig, ...SERVICES],\r\n    };\r\n  }\r\n}\r\n"],"names":["tslib_1.__values"],"mappings":"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"}
