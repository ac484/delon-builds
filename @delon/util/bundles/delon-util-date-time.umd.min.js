/**
 * @license ng-alain(cipchk@qq.com) v11.8.0
 * (c) 2020 cipchk https://ng-alain.com/
 * License: MIT
 */
!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("date-fns")):"function"==typeof define&&define.amd?define("@delon/util/date-time",["exports","date-fns"],t):t(((e="undefined"!=typeof globalThis?globalThis:e||self).delon=e.delon||{},e.delon.util=e.delon.util||{},e.delon.util["date-time"]={}),e.dateFns)}(this,(function(e,t){"use strict";function n(e){return[t.startOfDay(e[0]),t.endOfDay(e[1])]}var r=function(){function e(){}return Object.defineProperty(e.prototype,"now",{get:function(){return new Date},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"date",{get:function(){return this.removeTime(this.now)},enumerable:!1,configurable:!0}),e.prototype.removeTime=function(e){return new Date(e.toDateString())},e.prototype.format=function(e,n){return void 0===n&&(n="yyyy-MM-dd HH:mm:ss"),t.format(e,n)},e.prototype.genTick=function(e){return new Array(e).fill(0).map((function(e,t){return t}))},e.prototype.getDiffDays=function(e,n){return t.differenceInCalendarDays(e,"number"==typeof n?t.addDays(this.date,n):n||this.date)},e.prototype.disabledBeforeDate=function(e){var t=this;return function(n){return t.getDiffDays(n,null==e?void 0:e.offsetDays)<0}},e.prototype.disabledAfterDate=function(e){var t=this;return function(n){return t.getDiffDays(n,null==e?void 0:e.offsetDays)>0}},e.prototype.baseDisabledTime=function(e,n){var r=this,a=this.genTick(24),i=this.genTick(60);return function(o){var s=o;if(null==s)return{};var f=t.addSeconds(r.now,n||0),u=f.getHours(),d=f.getMinutes(),c=s.getHours(),l=0===r.getDiffDays(r.removeTime(s));return{nzDisabledHours:function(){return l?"before"===e?a.slice(0,u):a.slice(u+1):[]},nzDisabledMinutes:function(){return l&&c===u?"before"===e?i.slice(0,d):i.slice(d+1):[]},nzDisabledSeconds:function(){if(l&&c===u&&s.getMinutes()===d){var t=f.getSeconds();return"before"===e?i.slice(0,t):i.slice(t+1)}return[]}}}},e.prototype.disabledBeforeTime=function(e){return this.baseDisabledTime("before",null==e?void 0:e.offsetSeconds)},e.prototype.disabledAfterTime=function(e){return this.baseDisabledTime("after",null==e?void 0:e.offsetSeconds)},e}(),a=new r;e.DateTimePickerUtil=r,e.dateTimePickerUtil=a,e.fixEndTimeOfRange=n,e.getTimeDistance=function(e,r){r=r?"string"==typeof r?t.parse(r,"yyyy-MM-dd HH:mm:ss",new Date):new Date(r):new Date;var a,i={weekStartsOn:1};switch(e){case"today":a=[r,r];break;case"-today":a=[t.addDays(r,-1),r];break;case"yesterday":a=[t.addDays(r,-1),t.addDays(r,-1)];break;case"week":a=[t.startOfWeek(r,i),t.endOfWeek(r,i)];break;case"-week":a=[t.startOfWeek(t.subWeeks(r,1),i),t.endOfWeek(t.subWeeks(r,1),i)];break;case"month":a=[t.startOfMonth(r),t.endOfMonth(r)];break;case"-month":a=[t.startOfMonth(t.subMonths(r,1)),t.endOfMonth(t.subMonths(r,1))];break;case"year":a=[t.startOfYear(r),t.endOfYear(r)];break;case"-year":a=[t.startOfYear(t.subYears(r,1)),t.endOfYear(t.subYears(r,1))];break;default:a=e>0?[r,t.addDays(r,e)]:[t.addDays(r,e),r]}return n(a)},e.toDate=function(e,n){"string"==typeof n&&(n={formatString:n});var r=Object.assign({formatString:"yyyy-MM-dd HH:mm:ss",defaultValue:new Date(NaN)},n),a=r.formatString,i=r.defaultValue;if(null==e)return i;if(e instanceof Date)return e;if("number"==typeof e||"string"==typeof e&&/[0-9]{10,13}/.test(e))return new Date(+e);var o=t.parseISO(e);return isNaN(o)&&(o=t.parse(e,a,new Date)),isNaN(o)?i:o},Object.defineProperty(e,"__esModule",{value:!0})}));
//# sourceMappingURL=delon-util-date-time.umd.min.js.map