{"version":3,"file":"exception.js.map","sources":["ng://@delon/abc/exception/exception.component.ts","ng://@delon/abc/exception/exception.module.ts"],"sourcesContent":["import {\r\n  Component,\r\n  Input,\r\n  ViewChild,\r\n  ElementRef,\r\n  OnInit,\r\n  OnDestroy,\r\n} from '@angular/core';\r\nimport { Subscription } from 'rxjs';\r\n\r\nimport { isEmpty } from '@delon/util';\r\nimport { DelonLocaleService } from '@delon/theme';\r\n\r\n@Component({\r\n  selector: 'exception',\r\n  template: `\r\n  <div class=\"exception__img-block\">\r\n    <div class=\"exception__img\" [ngStyle]=\"{'background-image': 'url(' + _img + ')'}\"></div>\r\n  </div>\r\n  <div class=\"exception__cont\">\r\n    <h1 class=\"exception__cont-title\" [innerHTML]=\"_title\"></h1>\r\n    <div class=\"exception__cont-desc\" [innerHTML]=\"_desc || locale[_type]\"></div>\r\n    <div class=\"exception__cont-actions\">\r\n      <div (cdkObserveContent)=\"checkContent()\" #conTpl><ng-content></ng-content></div>\r\n      <button *ngIf=\"!hasCon\" nz-button [routerLink]=\"['/']\" [nzType]=\"'primary'\">{{locale.backToHome}}</button>\r\n    </div>\r\n  </div>\r\n  `,\r\n  host: { '[class.exception]': 'true' },\r\n  preserveWhitespaces: false,\r\n})\r\nexport class ExceptionComponent implements OnInit, OnDestroy {\r\n  private i18n$: Subscription;\r\n  @ViewChild('conTpl')\r\n  private conTpl: ElementRef;\r\n\r\n  _type: number;\r\n  locale: any = {};\r\n  hasCon = false;\r\n\r\n  _img = '';\r\n  _title = '';\r\n  _desc = '';\r\n\r\n  @Input()\r\n  set type(value: 403 | 404 | 500) {\r\n    const item = {\r\n      403: {\r\n        img:\r\n          'https://gw.alipayobjects.com/zos/rmsportal/wZcnGqRDyhPOEYFcZDnb.svg',\r\n        title: '403',\r\n      },\r\n      404: {\r\n        img:\r\n          'https://gw.alipayobjects.com/zos/rmsportal/KpnpchXsobRgLElEozzI.svg',\r\n        title: '404',\r\n      },\r\n      500: {\r\n        img:\r\n          'https://gw.alipayobjects.com/zos/rmsportal/RVRUAYdCGeYNBWoKiIwB.svg',\r\n        title: '500',\r\n      },\r\n    }[value];\r\n\r\n    if (!item) return;\r\n\r\n    this._type = value;\r\n    this._img = item.img;\r\n    this._title = item.title;\r\n  }\r\n\r\n  @Input()\r\n  set img(value) {\r\n    this._img = value;\r\n  }\r\n  @Input()\r\n  set title(value) {\r\n    this._title = value;\r\n  }\r\n  @Input()\r\n  set desc(value) {\r\n    this._desc = value;\r\n  }\r\n\r\n  checkContent() {\r\n    this.hasCon = !isEmpty(this.conTpl.nativeElement);\r\n  }\r\n\r\n  constructor(private i18n: DelonLocaleService) {}\r\n\r\n  ngOnInit() {\r\n    this.i18n$ = this.i18n.change.subscribe(\r\n      () => (this.locale = this.i18n.getData('exception')),\r\n    );\r\n    this.checkContent();\r\n  }\r\n\r\n  ngOnDestroy() {\r\n    this.i18n$.unsubscribe();\r\n  }\r\n}\r\n","import { NgModule, ModuleWithProviders } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { RouterModule } from '@angular/router';\r\n\r\nimport { NgZorroAntdModule } from 'ng-zorro-antd';\r\nimport { DelonLocaleModule } from '@delon/theme';\r\nimport { DelonUtilModule } from '@delon/util';\r\n\r\nimport { ExceptionComponent } from './exception.component';\r\n\r\nconst COMPONENTS = [ExceptionComponent];\r\n\r\n@NgModule({\r\n  imports: [\r\n    CommonModule,\r\n    RouterModule,\r\n    DelonUtilModule,\r\n    DelonLocaleModule,\r\n    NgZorroAntdModule,\r\n  ],\r\n  declarations: [...COMPONENTS],\r\n  exports: [...COMPONENTS],\r\n})\r\nexport class ExceptionModule {\r\n  static forRoot(): ModuleWithProviders {\r\n    return { ngModule: ExceptionModule, providers: [] };\r\n  }\r\n}\r\n"],"names":[],"mappings":";;;;;;;;;;;AAAA;;;;IAwFE,YAAoB,IAAwB;QAAxB,SAAI,GAAJ,IAAI,CAAoB;sBAnD9B,EAAE;sBACP,KAAK;oBAEP,EAAE;sBACA,EAAE;qBACH,EAAE;KA8CsC;;;;;IA5ChD,IACI,IAAI,CAAC,KAAsB;;QAC7B,MAAM,IAAI,GAAG;YACX,GAAG,EAAE;gBACH,GAAG,EACD,qEAAqE;gBACvE,KAAK,EAAE,KAAK;aACb;YACD,GAAG,EAAE;gBACH,GAAG,EACD,qEAAqE;gBACvE,KAAK,EAAE,KAAK;aACb;YACD,GAAG,EAAE;gBACH,GAAG,EACD,qEAAqE;gBACvE,KAAK,EAAE,KAAK;aACb;SACF,CAAC,KAAK,CAAC,CAAC;QAET,IAAI,CAAC,IAAI;YAAE,OAAO;QAElB,IAAI,CAAC,KAAK,GAAG,KAAK,CAAC;QACnB,IAAI,CAAC,IAAI,GAAG,IAAI,CAAC,GAAG,CAAC;QACrB,IAAI,CAAC,MAAM,GAAG,IAAI,CAAC,KAAK,CAAC;KAC1B;;;;;IAED,IACI,GAAG,CAAC,KAAK;QACX,IAAI,CAAC,IAAI,GAAG,KAAK,CAAC;KACnB;;;;;IACD,IACI,KAAK,CAAC,KAAK;QACb,IAAI,CAAC,MAAM,GAAG,KAAK,CAAC;KACrB;;;;;IACD,IACI,IAAI,CAAC,KAAK;QACZ,IAAI,CAAC,KAAK,GAAG,KAAK,CAAC;KACpB;;;;IAED,YAAY;QACV,IAAI,CAAC,MAAM,GAAG,CAAC,OAAO,CAAC,IAAI,CAAC,MAAM,CAAC,aAAa,CAAC,CAAC;KACnD;;;;IAID,QAAQ;QACN,IAAI,CAAC,KAAK,GAAG,IAAI,CAAC,IAAI,CAAC,MAAM,CAAC,SAAS,CACrC,OAAO,IAAI,CAAC,MAAM,GAAG,IAAI,CAAC,IAAI,CAAC,OAAO,CAAC,WAAW,CAAC,CAAC,CACrD,CAAC;QACF,IAAI,CAAC,YAAY,EAAE,CAAC;KACrB;;;;IAED,WAAW;QACT,IAAI,CAAC,KAAK,CAAC,WAAW,EAAE,CAAC;KAC1B;;;YAtFF,SAAS,SAAC;gBACT,QAAQ,EAAE,WAAW;gBACrB,QAAQ,EAAE;;;;;;;;;;;;GAYT;gBACD,IAAI,EAAE,EAAE,mBAAmB,EAAE,MAAM,EAAE;gBACrC,mBAAmB,EAAE,KAAK;aAC3B;;;;YAnBQ,kBAAkB;;;qBAsBxB,SAAS,SAAC,QAAQ;mBAWlB,KAAK;kBA2BL,KAAK;oBAIL,KAAK;mBAIL,KAAK;;;;;;;AC/ER;AAUA,MAAM,UAAU,GAAG,CAAC,kBAAkB,CAAC,CAAC;AAaxC;;;;IACE,OAAO,OAAO;QACZ,OAAO,EAAE,QAAQ,EAAE,eAAe,EAAE,SAAS,EAAE,EAAE,EAAE,CAAC;KACrD;;;YAdF,QAAQ,SAAC;gBACR,OAAO,EAAE;oBACP,YAAY;oBACZ,YAAY;oBACZ,eAAe;oBACf,iBAAiB;oBACjB,iBAAiB;iBAClB;gBACD,YAAY,EAAE,CAAC,GAAG,UAAU,CAAC;gBAC7B,OAAO,EAAE,CAAC,GAAG,UAAU,CAAC;aACzB;;;;;;;;;;;;;;;"}
