{"version":3,"file":"exception.js.map","sources":["ng://@delon/abc/exception/exception.component.ts","ng://@delon/abc/exception/exception.module.ts"],"sourcesContent":["import {\r\n  Component,\r\n  Input,\r\n  ViewChild,\r\n  ElementRef,\r\n  OnInit,\r\n  OnDestroy,\r\n} from '@angular/core';\r\nimport { Subscription } from 'rxjs';\r\n\r\nimport { isEmpty } from '@delon/util';\r\nimport { DelonLocaleService } from '@delon/theme';\r\n\r\n@Component({\r\n  selector: 'exception',\r\n  template: `\r\n  <div class=\"exception__img-block\">\r\n    <div class=\"exception__img\" [ngStyle]=\"{'background-image': 'url(' + _img + ')'}\"></div>\r\n  </div>\r\n  <div class=\"exception__cont\">\r\n    <h1 class=\"exception__cont-title\" [innerHTML]=\"_title\"></h1>\r\n    <div class=\"exception__cont-desc\" [innerHTML]=\"_desc || locale[_type]\"></div>\r\n    <div class=\"exception__cont-actions\">\r\n      <div (cdkObserveContent)=\"checkContent()\" #conTpl><ng-content></ng-content></div>\r\n      <button *ngIf=\"!hasCon\" nz-button [routerLink]=\"['/']\" [nzType]=\"'primary'\">{{locale.backToHome}}</button>\r\n    </div>\r\n  </div>\r\n  `,\r\n  host: { '[class.exception]': 'true' },\r\n  preserveWhitespaces: false,\r\n})\r\nexport class ExceptionComponent implements OnInit, OnDestroy {\r\n  private i18n$: Subscription;\r\n  @ViewChild('conTpl')\r\n  private conTpl: ElementRef;\r\n\r\n  _type: number;\r\n  locale: any = {};\r\n  hasCon = false;\r\n\r\n  _img = '';\r\n  _title = '';\r\n  _desc = '';\r\n\r\n  @Input()\r\n  set type(value: 403 | 404 | 500) {\r\n    const item = {\r\n      403: {\r\n        img:\r\n          'https://gw.alipayobjects.com/zos/rmsportal/wZcnGqRDyhPOEYFcZDnb.svg',\r\n        title: '403',\r\n      },\r\n      404: {\r\n        img:\r\n          'https://gw.alipayobjects.com/zos/rmsportal/KpnpchXsobRgLElEozzI.svg',\r\n        title: '404',\r\n      },\r\n      500: {\r\n        img:\r\n          'https://gw.alipayobjects.com/zos/rmsportal/RVRUAYdCGeYNBWoKiIwB.svg',\r\n        title: '500',\r\n      },\r\n    }[value];\r\n\r\n    if (!item) return;\r\n\r\n    this._type = value;\r\n    this._img = item.img;\r\n    this._title = item.title;\r\n  }\r\n\r\n  @Input()\r\n  set img(value) {\r\n    this._img = value;\r\n  }\r\n  @Input()\r\n  set title(value) {\r\n    this._title = value;\r\n  }\r\n  @Input()\r\n  set desc(value) {\r\n    this._desc = value;\r\n  }\r\n\r\n  checkContent() {\r\n    this.hasCon = !isEmpty(this.conTpl.nativeElement);\r\n  }\r\n\r\n  constructor(private i18n: DelonLocaleService) {}\r\n\r\n  ngOnInit() {\r\n    this.i18n$ = this.i18n.change.subscribe(\r\n      () => (this.locale = this.i18n.getData('exception')),\r\n    );\r\n    this.checkContent();\r\n  }\r\n\r\n  ngOnDestroy() {\r\n    this.i18n$.unsubscribe();\r\n  }\r\n}\r\n","import { NgModule, ModuleWithProviders } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { RouterModule } from '@angular/router';\r\n\r\nimport { NgZorroAntdModule } from 'ng-zorro-antd';\r\nimport { DelonLocaleModule } from '@delon/theme';\r\nimport { DelonUtilModule } from '@delon/util';\r\n\r\nimport { ExceptionComponent } from './exception.component';\r\n\r\nconst COMPONENTS = [ExceptionComponent];\r\n\r\n@NgModule({\r\n  imports: [\r\n    CommonModule,\r\n    RouterModule,\r\n    DelonUtilModule,\r\n    DelonLocaleModule,\r\n    NgZorroAntdModule,\r\n  ],\r\n  declarations: [...COMPONENTS],\r\n  exports: [...COMPONENTS],\r\n})\r\nexport class ExceptionModule {\r\n  static forRoot(): ModuleWithProviders {\r\n    return { ngModule: ExceptionModule, providers: [] };\r\n  }\r\n}\r\n"],"names":[],"mappings":";;;;;;;;;;;;AAAA;IAwFE,4BAAoB,IAAwB;QAAxB,SAAI,GAAJ,IAAI,CAAoB;sBAnD9B,EAAE;sBACP,KAAK;oBAEP,EAAE;sBACA,EAAE;qBACH,EAAE;KA8CsC;IA5ChD,sBACI,oCAAI;;;;;QADR,UACS,KAAsB;;YAC7B,IAAM,IAAI,GAAG;gBACX,GAAG,EAAE;oBACH,GAAG,EACD,qEAAqE;oBACvE,KAAK,EAAE,KAAK;iBACb;gBACD,GAAG,EAAE;oBACH,GAAG,EACD,qEAAqE;oBACvE,KAAK,EAAE,KAAK;iBACb;gBACD,GAAG,EAAE;oBACH,GAAG,EACD,qEAAqE;oBACvE,KAAK,EAAE,KAAK;iBACb;aACF,CAAC,KAAK,CAAC,CAAC;YAET,IAAI,CAAC,IAAI;gBAAE,OAAO;YAElB,IAAI,CAAC,KAAK,GAAG,KAAK,CAAC;YACnB,IAAI,CAAC,IAAI,GAAG,IAAI,CAAC,GAAG,CAAC;YACrB,IAAI,CAAC,MAAM,GAAG,IAAI,CAAC,KAAK,CAAC;SAC1B;;;OAAA;IAED,sBACI,mCAAG;;;;;QADP,UACQ,KAAK;YACX,IAAI,CAAC,IAAI,GAAG,KAAK,CAAC;SACnB;;;OAAA;IACD,sBACI,qCAAK;;;;;QADT,UACU,KAAK;YACb,IAAI,CAAC,MAAM,GAAG,KAAK,CAAC;SACrB;;;OAAA;IACD,sBACI,oCAAI;;;;;QADR,UACS,KAAK;YACZ,IAAI,CAAC,KAAK,GAAG,KAAK,CAAC;SACpB;;;OAAA;;;;IAED,yCAAY;;;IAAZ;QACE,IAAI,CAAC,MAAM,GAAG,CAAC,OAAO,CAAC,IAAI,CAAC,MAAM,CAAC,aAAa,CAAC,CAAC;KACnD;;;;IAID,qCAAQ;;;IAAR;QAAA,iBAKC;QAJC,IAAI,CAAC,KAAK,GAAG,IAAI,CAAC,IAAI,CAAC,MAAM,CAAC,SAAS,CACrC,cAAM,QAAC,KAAI,CAAC,MAAM,GAAG,KAAI,CAAC,IAAI,CAAC,OAAO,CAAC,WAAW,CAAC,IAAC,CACrD,CAAC;QACF,IAAI,CAAC,YAAY,EAAE,CAAC;KACrB;;;;IAED,wCAAW;;;IAAX;QACE,IAAI,CAAC,KAAK,CAAC,WAAW,EAAE,CAAC;KAC1B;;gBAtFF,SAAS,SAAC;oBACT,QAAQ,EAAE,WAAW;oBACrB,QAAQ,EAAE,gnBAYT;oBACD,IAAI,EAAE,EAAE,mBAAmB,EAAE,MAAM,EAAE;oBACrC,mBAAmB,EAAE,KAAK;iBAC3B;;;;gBAnBQ,kBAAkB;;;yBAsBxB,SAAS,SAAC,QAAQ;uBAWlB,KAAK;sBA2BL,KAAK;wBAIL,KAAK;uBAIL,KAAK;;6BA/ER;;;;;;;;ACUA,IAAM,UAAU,GAAG,CAAC,kBAAkB,CAAC,CAAC;;;;;;;IAc/B,uBAAO;;;IAAd;QACE,OAAO,EAAE,QAAQ,EAAE,eAAe,EAAE,SAAS,EAAE,EAAE,EAAE,CAAC;KACrD;;gBAdF,QAAQ,SAAC;oBACR,OAAO,EAAE;wBACP,YAAY;wBACZ,YAAY;wBACZ,eAAe;wBACf,iBAAiB;wBACjB,iBAAiB;qBAClB;oBACD,YAAY,WAAM,UAAU,CAAC;oBAC7B,OAAO,WAAM,UAAU,CAAC;iBACzB;;0BAtBD;;;;;;;;;;;;;;;"}
