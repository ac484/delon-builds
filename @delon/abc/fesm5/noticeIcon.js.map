{"version":3,"file":"noticeIcon.js","sources":["ng://@delon/abc/notice-icon/notice-icon.types.ts","ng://@delon/abc/notice-icon/notice-icon-tab.component.ts","ng://@delon/abc/notice-icon/notice-icon.component.ts","ng://@delon/abc/notice-icon/notice-icon.module.ts"],"sourcesContent":["export interface NoticeItem {\n  title: string;\n  list: NoticeIconList[];\n  /** 空列表文本，默认：`无通知` */\n  emptyText?: string;\n  /** 空列表图像 */\n  emptyImage?: string;\n  /** 清空文本，默认：`清空` */\n  clearText?: string;\n}\n\nexport interface NoticeIconList {\n  [key: string]: any;\n\n  /** 头像图片链接 */\n  avatar?: string;\n\n  /** 标题 */\n  title?: string;\n\n  /** 描述信息 */\n  description?: string;\n\n  /** 时间戳 */\n  datetime?: string | Date | number;\n\n  /** 额外信息，在列表项右上角 */\n  extra?: string;\n\n  /** 是否已读状态 */\n  read?: boolean;\n}\n\nexport interface NoticeIconSelect {\n  title: string;\n  item: NoticeItem;\n}\n","import { Component, EventEmitter, Input, Output, ViewEncapsulation } from '@angular/core';\nimport { LocaleData } from '@delon/theme';\nimport { NoticeIconSelect, NoticeItem } from './notice-icon.types';\n\n@Component({\n  selector: 'notice-icon-tab',\n  exportAs: 'noticeIconTab',\n  templateUrl: './notice-icon-tab.component.html',\n  preserveWhitespaces: false,\n  encapsulation: ViewEncapsulation.None,\n})\nexport class NoticeIconTabComponent {\n  @Input() locale: LocaleData = {};\n  @Input() data: NoticeItem;\n  // tslint:disable-next-line:no-output-native\n  @Output() readonly select = new EventEmitter<NoticeIconSelect>();\n  @Output() readonly clear = new EventEmitter<string>();\n\n  onClick(item: NoticeItem) {\n    this.select.emit({ title: this.data.title, item });\n  }\n\n  onClear() {\n    this.clear.emit(this.data.title);\n  }\n}\n","import {\n  ChangeDetectionStrategy,\n  ChangeDetectorRef,\n  Component,\n  EventEmitter,\n  Input,\n  OnChanges,\n  OnDestroy,\n  OnInit,\n  Output,\n  ViewEncapsulation,\n} from '@angular/core';\nimport { DelonLocaleService, LocaleData } from '@delon/theme';\nimport { InputBoolean, InputNumber } from '@delon/util';\nimport { Subscription } from 'rxjs';\nimport { NoticeIconSelect, NoticeItem } from './notice-icon.types';\n\n@Component({\n  selector: 'notice-icon',\n  exportAs: 'noticeIcon',\n  templateUrl: './notice-icon.component.html',\n  host: { '[class.notice-icon__btn]': 'true' },\n  preserveWhitespaces: false,\n  changeDetection: ChangeDetectionStrategy.OnPush,\n  encapsulation: ViewEncapsulation.None,\n})\nexport class NoticeIconComponent implements OnInit, OnChanges, OnDestroy {\n  private i18n$: Subscription;\n  locale: LocaleData = {};\n\n  @Input() data: NoticeItem[] = [];\n  @Input() @InputNumber() count: number;\n  @Input() @InputBoolean() loading = false;\n  @Input() @InputBoolean() popoverVisible = false;\n  @Input() btnClass = '';\n  @Input() btnIconClass = '';\n  // tslint:disable-next-line:no-output-native\n  @Output() readonly select = new EventEmitter<NoticeIconSelect>();\n  @Output() readonly clear = new EventEmitter<string>();\n  @Output() readonly popoverVisibleChange = new EventEmitter<boolean>();\n\n  constructor(private i18n: DelonLocaleService, private cdr: ChangeDetectorRef) {}\n\n  onVisibleChange(result: boolean) {\n    this.popoverVisibleChange.emit(result);\n  }\n\n  onSelect(i: NoticeIconSelect) {\n    this.select.emit(i);\n  }\n\n  onClear(title: string) {\n    this.clear.emit(title);\n  }\n\n  ngOnInit() {\n    this.i18n$ = this.i18n.change.subscribe(() => {\n      this.locale = this.i18n.getData('noticeIcon');\n      this.cdr.markForCheck();\n    });\n  }\n\n  ngOnChanges() {\n    this.cdr.markForCheck();\n  }\n\n  ngOnDestroy() {\n    this.i18n$.unsubscribe();\n  }\n}\n","import { CommonModule } from '@angular/common';\nimport { NgModule } from '@angular/core';\nimport { DelonLocaleModule } from '@delon/theme';\nimport { NzBadgeModule } from 'ng-zorro-antd/badge';\nimport { NzDropDownModule } from 'ng-zorro-antd/dropdown';\nimport { NzIconModule } from 'ng-zorro-antd/icon';\nimport { NzListModule } from 'ng-zorro-antd/list';\nimport { NzSpinModule } from 'ng-zorro-antd/spin';\nimport { NzTabsModule } from 'ng-zorro-antd/tabs';\nimport { NzTagModule } from 'ng-zorro-antd/tag';\nimport { NoticeIconTabComponent } from './notice-icon-tab.component';\nimport { NoticeIconComponent } from './notice-icon.component';\n\nconst COMPONENTS = [NoticeIconComponent];\n\n@NgModule({\n  imports: [\n    CommonModule,\n    DelonLocaleModule,\n    NzBadgeModule,\n    NzDropDownModule,\n    NzIconModule,\n    NzListModule,\n    NzSpinModule,\n    NzTabsModule,\n    NzTagModule,\n  ],\n  declarations: [...COMPONENTS, NoticeIconTabComponent],\n  exports: [...COMPONENTS],\n})\nexport class NoticeIconModule {}\n"],"names":[],"mappings":"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"}