{"version":3,"sources":["../../../../packages/abc/exception/exception.component.ts","../../../../packages/abc/exception/exception.component.html","../../../../packages/abc/exception/exception.module.ts"],"names":["ExceptionComponent","i18n","dom","directionality","this","destroy$","Subject","locale","hasCon","dir","_img","_title","_desc","Object","defineProperty","prototype","value","item","403","img","title","404","500","fixImg","_type","src","bypassSecurityTrustStyle","bypassSecurityTrustHtml","checkContent","isEmpty","conTpl","nativeElement","ngOnInit","_this","_a","change","pipe","takeUntil","subscribe","direction","getData","ngOnDestroy","next","complete","i0","ɵɵdirectiveInject","i1","DelonLocaleService","i2","DomSanitizer","i3","Directionality","selector","inputs","type","desc","host","properties","class.exception","class.exception-rtl","viewQueries","propertyName","first","predicate","emitDistinctChangesOnly","descendants","static","exportAs","ngImport","i0__namespace","template","directives","i4","NgIf","i5","NzButtonComponent","i6","NzWaveDirective","i7","ɵNzTransitionPatchDirective","i8","RouterLink","changeDetection","ChangeDetectionStrategy","OnPush","encapsulation","ViewEncapsulation","None","Component","templateUrl","[class.exception]","[class.exception-rtl]","preserveWhitespaces","Optional","ViewChild","Input","COMPONENTS","ExceptionModule","imports","CommonModule","RouterModule","DelonLocaleModule","NzButtonModule","declarations","exports","NgModule"],"mappings":"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","sourcesContent":["import { Direction, Directionality } from '@angular/cdk/bidi';\nimport {\n  ChangeDetectionStrategy,\n  Component,\n  ElementRef,\n  Input,\n  OnDestroy,\n  OnInit,\n  Optional,\n  ViewChild,\n  ViewEncapsulation,\n} from '@angular/core';\nimport { DomSanitizer, SafeHtml, SafeUrl } from '@angular/platform-browser';\nimport { DelonLocaleService, LocaleData } from '@delon/theme';\nimport { isEmpty } from '@delon/util/browser';\nimport { Subject } from 'rxjs';\nimport { takeUntil } from 'rxjs/operators';\n\nexport type ExceptionType = 403 | 404 | 500;\n\n@Component({\n  selector: 'exception',\n  exportAs: 'exception',\n  templateUrl: './exception.component.html',\n  host: {\n    '[class.exception]': 'true',\n    '[class.exception-rtl]': `dir === 'rtl'`,\n  },\n  preserveWhitespaces: false,\n  changeDetection: ChangeDetectionStrategy.OnPush,\n  encapsulation: ViewEncapsulation.None,\n})\nexport class ExceptionComponent implements OnInit, OnDestroy {\n  static ngAcceptInputType_type: ExceptionType | string;\n\n  private destroy$ = new Subject<void>();\n  @ViewChild('conTpl', { static: true }) private conTpl: ElementRef;\n\n  _type: ExceptionType;\n  locale: LocaleData = {};\n  hasCon = false;\n  dir: Direction = 'ltr';\n\n  _img: SafeUrl = '';\n  _title: SafeHtml = '';\n  _desc: SafeHtml = '';\n\n  @Input()\n  set type(value: ExceptionType) {\n    const item = {\n      403: {\n        img: 'https://gw.alipayobjects.com/zos/rmsportal/wZcnGqRDyhPOEYFcZDnb.svg',\n        title: '403',\n      },\n      404: {\n        img: 'https://gw.alipayobjects.com/zos/rmsportal/KpnpchXsobRgLElEozzI.svg',\n        title: '404',\n      },\n      500: {\n        img: 'https://gw.alipayobjects.com/zos/rmsportal/RVRUAYdCGeYNBWoKiIwB.svg',\n        title: '500',\n      },\n    }[value];\n\n    if (!item) return;\n\n    this.fixImg(item.img);\n    this._type = value;\n    this._title = item.title;\n    this._desc = '';\n  }\n\n  private fixImg(src: string): void {\n    this._img = this.dom.bypassSecurityTrustStyle(`url('${src}')`);\n  }\n\n  @Input()\n  set img(value: string) {\n    this.fixImg(value);\n  }\n\n  @Input()\n  set title(value: string) {\n    this._title = this.dom.bypassSecurityTrustHtml(value);\n  }\n\n  @Input()\n  set desc(value: string) {\n    this._desc = this.dom.bypassSecurityTrustHtml(value);\n  }\n\n  checkContent(): void {\n    this.hasCon = !isEmpty(this.conTpl.nativeElement);\n  }\n\n  constructor(private i18n: DelonLocaleService, private dom: DomSanitizer, @Optional() private directionality: Directionality) {}\n\n  ngOnInit(): void {\n    this.dir = this.directionality.value;\n    this.directionality.change?.pipe(takeUntil(this.destroy$)).subscribe((direction: Direction) => {\n      this.dir = direction;\n    });\n    this.i18n.change.pipe(takeUntil(this.destroy$)).subscribe(() => (this.locale = this.i18n.getData('exception')));\n    this.checkContent();\n  }\n\n  ngOnDestroy(): void {\n    this.destroy$.next();\n    this.destroy$.complete();\n  }\n}\n","<div class=\"exception__img-block\">\n  <div class=\"exception__img\" [style.backgroundImage]=\"_img\"></div>\n</div>\n<div class=\"exception__cont\">\n  <h1 class=\"exception__cont-title\" [innerHTML]=\"_title\"></h1>\n  <div class=\"exception__cont-desc\" [innerHTML]=\"_desc || locale[_type]\"></div>\n  <div class=\"exception__cont-actions\">\n    <div (cdkObserveContent)=\"checkContent()\" #conTpl>\n      <ng-content></ng-content>\n    </div>\n    <button *ngIf=\"!hasCon\" nz-button [routerLink]=\"['/']\" [nzType]=\"'primary'\">{{ locale.backToHome }}</button>\n  </div>\n</div>\n","import { CommonModule } from '@angular/common';\nimport { NgModule } from '@angular/core';\nimport { RouterModule } from '@angular/router';\nimport { DelonLocaleModule } from '@delon/theme';\nimport { NzButtonModule } from 'ng-zorro-antd/button';\n\nimport { ExceptionComponent } from './exception.component';\n\nconst COMPONENTS = [ExceptionComponent];\n\n@NgModule({\n  imports: [CommonModule, RouterModule, DelonLocaleModule, NzButtonModule],\n  declarations: COMPONENTS,\n  exports: COMPONENTS,\n})\nexport class ExceptionModule {}\n"]}