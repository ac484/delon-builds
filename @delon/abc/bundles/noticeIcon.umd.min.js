/**
 * @license ng-alain(cipchk@qq.com) v11.3.1
 * (c) 2020 cipchk https://ng-alain.com/
 * License: MIT
 */
!function(e,n){"object"==typeof exports&&"undefined"!=typeof module?n(exports,require("@angular/core"),require("@angular/common"),require("ng-zorro-antd/list"),require("ng-zorro-antd/tag"),require("@delon/util"),require("@delon/theme"),require("ng-zorro-antd/badge"),require("ng-zorro-antd/icon"),require("ng-zorro-antd/dropdown"),require("ng-zorro-antd/spin"),require("ng-zorro-antd/tabs")):"function"==typeof define&&define.amd?define("@delon/abc/notice-icon",["exports","@angular/core","@angular/common","ng-zorro-antd/list","ng-zorro-antd/tag","@delon/util","@delon/theme","ng-zorro-antd/badge","ng-zorro-antd/icon","ng-zorro-antd/dropdown","ng-zorro-antd/spin","ng-zorro-antd/tabs"],n):n(((e="undefined"!=typeof globalThis?globalThis:e||self).delon=e.delon||{},e.delon.abc=e.delon.abc||{},e.delon.abc["notice-icon"]={}),e.ng.core,e.ng.common,e["ng-zorro-antd/list"],e["ng-zorro-antd/tag"],e.delon.util,e.delon.theme,e["ng-zorro-antd/badge"],e["ng-zorro-antd/icon"],e["ng-zorro-antd/dropdown"],e["ng-zorro-antd/spin"],e["ng-zorro-antd/tabs"])}(this,(function(e,n,t,o,i,a,l,r,c,s,p,d){"use strict";function u(e){if(e&&e.__esModule)return e;var n=Object.create(null);return e&&Object.keys(e).forEach((function(t){if("default"!==t){var o=Object.getOwnPropertyDescriptor(e,t);Object.defineProperty(n,t,o.get?o:{enumerable:!0,get:function(){return e[t]}})}})),n.default=e,Object.freeze(n)}var z=u(n),g=function(){function e(){this.locale={},this.select=new n.EventEmitter,this.clear=new n.EventEmitter}return e.prototype.onClick=function(e){this.select.emit({title:this.data.title,item:e})},e.prototype.onClear=function(){this.clear.emit(this.data.title)},e}();g.ɵfac=function(e){return new(e||g)},g.ɵcmp=n.ɵɵngDeclareComponent({version:"11.1.1",type:g,selector:"notice-icon-tab",inputs:{locale:"locale",data:"data"},outputs:{select:"select",clear:"clear"},exportAs:["noticeIconTab"],ngImport:z,template:'<div *ngIf="data.list?.length === 0; else listTpl" class="notice-icon__notfound">\n  <img class="notice-icon__notfound-img" *ngIf="data.emptyImage" src="{{ data.emptyImage }}" alt="not found" />\n  <p>{{ data.emptyText || locale.emptyText }}</p>\n</div>\n<ng-template #listTpl>\n  <nz-list [nzDataSource]="data.list" [nzRenderItem]="item">\n    <ng-template #item let-item>\n      <nz-list-item (click)="onClick(item)" [ngClass]="{ \'notice-icon__item-read\': item.read }">\n        <nz-list-item-meta [nzTitle]="nzTitle" [nzDescription]="nzDescription" [nzAvatar]="item.avatar">\n          <ng-template #nzTitle>\n            {{ item.title }}\n            <div class="notice-icon__item-extra" *ngIf="item.extra">\n              <nz-tag [nzColor]="item.color">{{ item.extra }}</nz-tag>\n            </div>\n          </ng-template>\n          <ng-template #nzDescription>\n            <div *ngIf="item.description" class="notice-icon__item-desc">{{ item.description }}</div>\n            <div *ngIf="item.datetime" class="notice-icon__item-time">{{ item.datetime }}</div>\n          </ng-template>\n        </nz-list-item-meta>\n      </nz-list-item>\n    </ng-template>\n  </nz-list>\n  <div class="notice-icon__clear" (click)="onClear()">{{ data.clearText || locale.clearText }}</div>\n</ng-template>\n',directives:[{type:t.NgIf,selector:"[ngIf]",inputs:["ngIf","ngIfThen","ngIfElse"]},{type:o.NzListComponent,selector:"nz-list, [nz-list]",inputs:["nzBordered","nzGrid","nzItemLayout","nzRenderItem","nzLoading","nzLoadMore","nzSize","nzSplit","nzDataSource","nzHeader","nzFooter","nzPagination","nzNoResult"],exportAs:["nzList"]},{type:o.NzListItemComponent,selector:"nz-list-item, [nz-list-item]",inputs:["nzActions","nzExtra","nzNoFlex","nzContent"],exportAs:["nzListItem"]},{type:t.NgClass,selector:"[ngClass]",inputs:["class","ngClass"]},{type:o.NzListItemMetaComponent,selector:"nz-list-item-meta, [nz-list-item-meta]",inputs:["nzAvatar","nzTitle","nzDescription"],exportAs:["nzListItemMeta"]},{type:i.NzTagComponent,selector:"nz-tag",inputs:["nzMode","nzChecked","nzColor"],outputs:["nzOnClose","nzCheckedChange"],exportAs:["nzTag"]}],encapsulation:n.ViewEncapsulation.None}),("undefined"==typeof ngDevMode||ngDevMode)&&n.ɵsetClassMetadata(g,[{type:n.Component,args:[{selector:"notice-icon-tab",exportAs:"noticeIconTab",templateUrl:"./notice-icon-tab.component.html",preserveWhitespaces:!1,encapsulation:n.ViewEncapsulation.None}]}],null,{locale:[{type:n.Input}],data:[{type:n.Input}],select:[{type:n.Output}],clear:[{type:n.Output}]});function m(e,n,t,o){var i,a=arguments.length,l=a<3?n:null===o?o=Object.getOwnPropertyDescriptor(n,t):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)l=Reflect.decorate(e,n,t,o);else for(var r=e.length-1;r>=0;r--)(i=e[r])&&(l=(a<3?i(l):a>3?i(n,t,l):i(n,t))||l);return a>3&&l&&Object.defineProperty(n,t,l),l}function f(e,n){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,n)}Object.create;function b(e,n){var t="function"==typeof Symbol&&e[Symbol.iterator];if(!t)return e;var o,i,a=t.call(e),l=[];try{for(;(void 0===n||n-- >0)&&!(o=a.next()).done;)l.push(o.value)}catch(e){i={error:e}}finally{try{o&&!o.done&&(t=a.return)&&t.call(a)}finally{if(i)throw i.error}}return l}function y(){for(var e=[],n=0;n<arguments.length;n++)e=e.concat(b(arguments[n]));return e}Object.create;var C=function(){function e(e,t){this.i18n=e,this.cdr=t,this.locale={},this.data=[],this.loading=!1,this.popoverVisible=!1,this.btnClass="",this.btnIconClass="",this.select=new n.EventEmitter,this.clear=new n.EventEmitter,this.popoverVisibleChange=new n.EventEmitter}return e.prototype.onVisibleChange=function(e){this.popoverVisibleChange.emit(e)},e.prototype.onSelect=function(e){this.select.emit(e)},e.prototype.onClear=function(e){this.clear.emit(e)},e.prototype.ngOnInit=function(){var e=this;this.i18n$=this.i18n.change.subscribe((function(){e.locale=e.i18n.getData("noticeIcon"),e.cdr.markForCheck()}))},e.prototype.ngOnChanges=function(){this.cdr.markForCheck()},e.prototype.ngOnDestroy=function(){this.i18n$.unsubscribe()},e}();C.ɵfac=function(e){return new(e||C)(n.ɵɵdirectiveInject(l.DelonLocaleService),n.ɵɵdirectiveInject(n.ChangeDetectorRef))},C.ɵcmp=n.ɵɵngDeclareComponent({version:"11.1.1",type:C,selector:"notice-icon",inputs:{data:"data",count:"count",loading:"loading",popoverVisible:"popoverVisible",btnClass:"btnClass",btnIconClass:"btnIconClass"},outputs:{select:"select",clear:"clear",popoverVisibleChange:"popoverVisibleChange"},host:{properties:{"class.notice-icon__btn":"true"}},exportAs:["noticeIcon"],usesOnChanges:!0,ngImport:z,template:'<ng-template #badgeTpl>\n  <nz-badge [nzCount]="count" [ngClass]="btnClass" [nzStyle]="{ \'box-shadow\': \'none\' }">\n    <i nz-icon nzType="bell" [ngClass]="btnIconClass"></i>\n  </nz-badge>\n</ng-template>\n<div *ngIf="data?.length === 0">\n  <ng-template [ngTemplateOutlet]="badgeTpl"></ng-template>\n</div>\n<div\n  *ngIf="data?.length > 0"\n  nz-dropdown\n  [nzVisible]="popoverVisible"\n  (nzVisibleChange)="onVisibleChange($event)"\n  nzTrigger="click"\n  nzPlacement="bottomRight"\n  [nzOverlayClassName]="[\'header-dropdown\', \'notice-icon\']"\n  [nzDropdownMenu]="noticeMenu"\n>\n  <ng-template [ngTemplateOutlet]="badgeTpl"></ng-template>\n</div>\n<nz-dropdown-menu #noticeMenu="nzDropdownMenu">\n  <nz-spin [nzSpinning]="loading" [nzDelay]="0">\n    <nz-tabset nzSelectedIndex="0">\n      <nz-tab *ngFor="let i of data" [nzTitle]="i.title">\n        <notice-icon-tab [locale]="locale" [data]="i" (select)="onSelect($event)" (clear)="onClear($event)"></notice-icon-tab>\n      </nz-tab>\n    </nz-tabset>\n  </nz-spin>\n</nz-dropdown-menu>\n',directives:[{type:r.NzBadgeComponent,selector:"nz-badge",inputs:["nzShowZero","nzShowDot","nzStandalone","nzDot","nzOverflowCount","nzColor","nzStyle","nzText","nzTitle","nzStatus","nzCount","nzOffset"],exportAs:["nzBadge"]},{type:t.NgClass,selector:"[ngClass]",inputs:["class","ngClass"]},{type:c.NzIconDirective,selector:"[nz-icon]",inputs:["nzRotate","nzSpin","nzType","nzTheme","nzTwotoneColor","nzIconfont"],exportAs:["nzIcon"]},{type:t.NgIf,selector:"[ngIf]",inputs:["ngIf","ngIfThen","ngIfElse"]},{type:t.NgTemplateOutlet,selector:"[ngTemplateOutlet]",inputs:["ngTemplateOutletContext","ngTemplateOutlet"]},{type:s.NzDropDownDirective,selector:"[nz-dropdown]",inputs:["nzDropdownMenu","nzTrigger","nzMatchWidthElement","nzBackdrop","nzHasBackdrop","nzClickHide","nzDisabled","nzVisible","nzOverlayClassName","nzOverlayStyle","nzPlacement"],outputs:["nzVisibleChange"],exportAs:["nzDropdown"]},{type:s.NzDropdownMenuComponent,selector:"nz-dropdown-menu",exportAs:["nzDropdownMenu"]},{type:p.NzSpinComponent,selector:"nz-spin",inputs:["nzIndicator","nzSize","nzTip","nzDelay","nzSimple","nzSpinning"],exportAs:["nzSpin"]},{type:d.NzTabSetComponent,selector:"nz-tabset",inputs:["nzTabPosition","nzCanDeactivate","nzAddIcon","nzTabBarStyle","nzType","nzSize","nzAnimated","nzTabBarGutter","nzHideAdd","nzCentered","nzHideAll","nzLinkRouter","nzLinkExact","nzSelectedIndex","nzTabBarExtraContent"],outputs:["nzSelectChange","nzSelectedIndexChange","nzTabListScroll","nzClose","nzAdd"],exportAs:["nzTabset"]},{type:t.NgForOf,selector:"[ngFor][ngForOf]",inputs:["ngForOf","ngForTrackBy","ngForTemplate"]},{type:d.NzTabComponent,selector:"nz-tab",inputs:["nzTitle","nzClosable","nzCloseIcon","nzDisabled","nzForceRender"],outputs:["nzSelect","nzDeselect","nzClick","nzContextmenu"],exportAs:["nzTab"]},{type:g,selector:"notice-icon-tab",inputs:["locale","data"],outputs:["select","clear"],exportAs:["noticeIconTab"]}],changeDetection:n.ChangeDetectionStrategy.OnPush,encapsulation:n.ViewEncapsulation.None}),m([a.InputNumber(),f("design:type",Number)],C.prototype,"count",void 0),m([a.InputBoolean(),f("design:type",Object)],C.prototype,"loading",void 0),m([a.InputBoolean(),f("design:type",Object)],C.prototype,"popoverVisible",void 0),("undefined"==typeof ngDevMode||ngDevMode)&&n.ɵsetClassMetadata(C,[{type:n.Component,args:[{selector:"notice-icon",exportAs:"noticeIcon",templateUrl:"./notice-icon.component.html",host:{"[class.notice-icon__btn]":"true"},preserveWhitespaces:!1,changeDetection:n.ChangeDetectionStrategy.OnPush,encapsulation:n.ViewEncapsulation.None}]}],(function(){return[{type:l.DelonLocaleService},{type:n.ChangeDetectorRef}]}),{data:[{type:n.Input}],count:[{type:n.Input}],loading:[{type:n.Input}],popoverVisible:[{type:n.Input}],btnClass:[{type:n.Input}],btnIconClass:[{type:n.Input}],select:[{type:n.Output}],clear:[{type:n.Output}],popoverVisibleChange:[{type:n.Output}]});var h=[C],v=function(){};v.ɵmod=n.ɵɵdefineNgModule({type:v}),v.ɵinj=n.ɵɵdefineInjector({factory:function(e){return new(e||v)},imports:[[t.CommonModule,l.DelonLocaleModule,r.NzBadgeModule,s.NzDropDownModule,c.NzIconModule,o.NzListModule,p.NzSpinModule,d.NzTabsModule,i.NzTagModule]]}),("undefined"==typeof ngJitMode||ngJitMode)&&n.ɵɵsetNgModuleScope(v,{declarations:[C,g],imports:[t.CommonModule,l.DelonLocaleModule,r.NzBadgeModule,s.NzDropDownModule,c.NzIconModule,o.NzListModule,p.NzSpinModule,d.NzTabsModule,i.NzTagModule],exports:[C]}),("undefined"==typeof ngDevMode||ngDevMode)&&n.ɵsetClassMetadata(v,[{type:n.NgModule,args:[{imports:[t.CommonModule,l.DelonLocaleModule,r.NzBadgeModule,s.NzDropDownModule,c.NzIconModule,o.NzListModule,p.NzSpinModule,d.NzTabsModule,i.NzTagModule],declarations:y(h,[g]),exports:y(h)}]}],null,null),e.NoticeIconComponent=C,e.NoticeIconModule=v,e.NoticeIconTabComponent=g,Object.defineProperty(e,"__esModule",{value:!0})}));
//# sourceMappingURL=noticeIcon.umd.min.js.map