/**
 * @license ng-alain(cipchk@qq.com) v11.3.1
 * (c) 2020 cipchk https://ng-alain.com/
 * License: MIT
 */
!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("@angular/core"),require("@angular/router"),require("@delon/abc/reuse-tab"),require("@delon/theme"),require("@delon/util"),require("rxjs"),require("rxjs/operators"),require("@angular/cdk/platform"),require("@angular/cdk/bidi"),require("@angular/common"),require("ng-zorro-antd/affix"),require("ng-zorro-antd/skeleton"),require("ng-zorro-antd/breadcrumb"),require("@angular/cdk/observers")):"function"==typeof define&&define.amd?define("@delon/abc/page-header",["exports","@angular/core","@angular/router","@delon/abc/reuse-tab","@delon/theme","@delon/util","rxjs","rxjs/operators","@angular/cdk/platform","@angular/cdk/bidi","@angular/common","ng-zorro-antd/affix","ng-zorro-antd/skeleton","ng-zorro-antd/breadcrumb","@angular/cdk/observers"],t):t(((e="undefined"!=typeof globalThis?globalThis:e||self).delon=e.delon||{},e.delon.abc=e.delon.abc||{},e.delon.abc["page-header"]={}),e.ng.core,e.ng.router,e.delon.abc["reuse-tab"],e.delon.theme,e.delon.util,e.rxjs,e.rxjs.operators,e.ng.cdk.platform,e.ng.cdk.bidi,e.ng.common,e["ng-zorro-antd/affix"],e["ng-zorro-antd/skeleton"],e["ng-zorro-antd/breadcrumb"],e.ng.cdk.observers)}(this,(function(e,t,n,r,i,o,a,l,s,c,p,u,d,f,g){"use strict";function h(e){if(e&&e.__esModule)return e;var t=Object.create(null);return e&&Object.keys(e).forEach((function(n){if("default"!==n){var r=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(t,n,r.get?r:{enumerable:!0,get:function(){return e[n]}})}})),t.default=e,Object.freeze(t)}var m=h(t);
/*! *****************************************************************************
    Copyright (c) Microsoft Corporation.

    Permission to use, copy, modify, and/or distribute this software for any
    purpose with or without fee is hereby granted.

    THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
    REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
    AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
    INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
    LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
    OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
    PERFORMANCE OF THIS SOFTWARE.
    ***************************************************************************** */function y(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var l=e.length-1;l>=0;l--)(i=e[l])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a}function v(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)}Object.create;function b(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a}function I(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(b(arguments[t]));return e}Object.create;var T=function(){function e(e,t,r,i,o,s,c,p,u,d,f){var g=this;this.renderer=t,this.router=r,this.menuSrv=i,this.i18nSrv=o,this.titleSrv=s,this.reuseSrv=c,this.cdr=p,this.directionality=f,this.destroy$=new a.Subject,this.inited=!1,this.isBrowser=!0,this.dir="ltr",this._titleVal="",this.paths=[],this.loading=!1,this.wide=!1,this.isBrowser=d.isBrowser,u.attach(this,"pageHeader",{home:"首页",homeLink:"/",autoBreadcrumb:!0,recursiveBreadcrumb:!1,autoTitle:!0,syncTitle:!0,fixed:!1,fixedOffsetTop:64}),e.notify.pipe(l.takeUntil(this.destroy$),l.filter((function(e){return g.affix&&"layout"===e.type&&"collapsed"===e.name}))).subscribe((function(){return g.affix.updatePosition({})})),a.merge(i.change.pipe(l.filter((function(){return g.inited}))),r.events.pipe(l.filter((function(e){return e instanceof n.NavigationEnd}))),o.change).pipe(l.takeUntil(this.destroy$)).subscribe((function(){return g.refresh()}))}return Object.defineProperty(e.prototype,"menus",{get:function(){return this.menuSrv.getPathByUrl(this.router.url,this.recursiveBreadcrumb)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"title",{set:function(e){e instanceof t.TemplateRef?(this._title=null,this._titleTpl=e,this._titleVal=""):(this._title=e,this._titleVal=this._title)},enumerable:!1,configurable:!0}),e.prototype.refresh=function(){this.setTitle().genBreadcrumb(),this.cdr.detectChanges()},e.prototype.genBreadcrumb=function(){var e=this;if(this.breadcrumb||!this.autoBreadcrumb||this.menus.length<=0)this.paths=[];else{var t=[];this.menus.forEach((function(n){if(void 0===n.hideInBreadcrumb||!n.hideInBreadcrumb){var r=n.text;n.i18n&&e.i18nSrv&&(r=e.i18nSrv.fanyi(n.i18n)),t.push({title:r,link:n.link&&[n.link]})}})),this.home&&t.splice(0,0,{title:this.homeI18n&&this.i18nSrv&&this.i18nSrv.fanyi(this.homeI18n)||this.home,link:[this.homeLink]}),this.paths=t}},e.prototype.setTitle=function(){if(null==this._title&&null==this._titleTpl&&this.autoTitle&&this.menus.length>0){var e=this.menus[this.menus.length-1],t=e.text;e.i18n&&this.i18nSrv&&(t=this.i18nSrv.fanyi(e.i18n)),this._titleVal=t}return this._titleVal&&this.syncTitle&&(this.titleSrv&&this.titleSrv.setTitle(this._titleVal),!this.inited&&this.reuseSrv&&(this.reuseSrv.title=this._titleVal)),this},e.prototype.checkContent=function(){o.isEmpty(this.conTpl.nativeElement)?this.renderer.setAttribute(this.conTpl.nativeElement,"hidden",""):this.renderer.removeAttribute(this.conTpl.nativeElement,"hidden")},e.prototype.ngOnInit=function(){var e,t=this;this.dir=this.directionality.value,null===(e=this.directionality.change)||void 0===e||e.pipe(l.takeUntil(this.destroy$)).subscribe((function(e){t.dir=e,t.cdr.detectChanges()})),this.refresh(),this.inited=!0},e.prototype.ngAfterViewInit=function(){this.checkContent()},e.prototype.ngOnChanges=function(){this.inited&&this.refresh()},e.prototype.ngOnDestroy=function(){this.destroy$.next(),this.destroy$.complete()},e}();T.ɵfac=function(e){return new(e||T)(t.ɵɵdirectiveInject(i.SettingsService),t.ɵɵdirectiveInject(t.Renderer2),t.ɵɵdirectiveInject(n.Router),t.ɵɵdirectiveInject(i.MenuService),t.ɵɵdirectiveInject(i.ALAIN_I18N_TOKEN,8),t.ɵɵdirectiveInject(i.TitleService,8),t.ɵɵdirectiveInject(r.ReuseTabService,8),t.ɵɵdirectiveInject(t.ChangeDetectorRef),t.ɵɵdirectiveInject(o.AlainConfigService),t.ɵɵdirectiveInject(s.Platform),t.ɵɵdirectiveInject(c.Directionality,8))},T.ɵcmp=t.ɵɵngDeclareComponent({version:"11.1.1",type:T,selector:"page-header",inputs:{title:"title",loading:"loading",wide:"wide",home:"home",homeLink:"homeLink",homeI18n:"homeI18n",autoBreadcrumb:"autoBreadcrumb",autoTitle:"autoTitle",syncTitle:"syncTitle",fixed:"fixed",fixedOffsetTop:"fixedOffsetTop",breadcrumb:"breadcrumb",recursiveBreadcrumb:"recursiveBreadcrumb",logo:"logo",action:"action",content:"content",extra:"extra",tab:"tab"},viewQueries:[{propertyName:"conTpl",first:!0,predicate:["conTpl"],emitDistinctChangesOnly:!1,descendants:!0},{propertyName:"affix",first:!0,predicate:["affix"],emitDistinctChangesOnly:!1,descendants:!0}],exportAs:["pageHeader"],usesOnChanges:!0,ngImport:m,template:'<nz-affix #affix *ngIf="isBrowser && fixed; else phTpl" [nzOffsetTop]="fixedOffsetTop">\n  <ng-template [ngTemplateOutlet]="phTpl"></ng-template>\n</nz-affix>\n<ng-template #phTpl>\n  <div class="page-header" [class.page-header-rtl]="dir === \'rtl\'">\n    <div [ngClass]="{ \'page-header__wide\': wide }">\n      <nz-skeleton [nzLoading]="loading" [nzTitle]="false" [nzActive]="true" [nzParagraph]="{ rows: 3 }" [nzAvatar]="{ size: \'large\', shape: \'circle\' }">\n        <ng-container *ngIf="!breadcrumb; else breadcrumb">\n          <nz-breadcrumb *ngIf="paths && paths.length > 0">\n            <nz-breadcrumb-item *ngFor="let i of paths">\n              <ng-container *ngIf="i.link">\n                <a [routerLink]="i.link">{{ i.title }}</a>\n              </ng-container>\n              <ng-container *ngIf="!i.link">{{ i.title }}</ng-container>\n            </nz-breadcrumb-item>\n          </nz-breadcrumb>\n        </ng-container>\n        <div class="page-header__detail">\n          <div *ngIf="logo" class="page-header__logo">\n            <ng-template [ngTemplateOutlet]="logo"></ng-template>\n          </div>\n          <div class="page-header__main">\n            <div class="page-header__row">\n              <h1 *ngIf="_titleVal || _titleTpl" class="page-header__title">\n                <ng-container *ngIf="_titleVal; else _titleTpl">{{ _titleVal }}</ng-container>\n              </h1>\n              <div *ngIf="action" class="page-header__action">\n                <ng-template [ngTemplateOutlet]="action"></ng-template>\n              </div>\n            </div>\n            <div class="page-header__row">\n              <div class="page-header__desc" (cdkObserveContent)="checkContent()" #conTpl>\n                <ng-content></ng-content>\n                <ng-template [ngTemplateOutlet]="content"></ng-template>\n              </div>\n              <div *ngIf="extra" class="page-header__extra">\n                <ng-template [ngTemplateOutlet]="extra"></ng-template>\n              </div>\n            </div>\n          </div>\n        </div>\n        <ng-template [ngTemplateOutlet]="tab"></ng-template>\n      </nz-skeleton>\n    </div>\n  </div>\n</ng-template>\n',directives:[{type:p.NgIf,selector:"[ngIf]",inputs:["ngIf","ngIfThen","ngIfElse"]},{type:u.NzAffixComponent,selector:"nz-affix",inputs:["nzTarget","nzOffsetTop","nzOffsetBottom"],outputs:["nzChange"],exportAs:["nzAffix"]},{type:p.NgTemplateOutlet,selector:"[ngTemplateOutlet]",inputs:["ngTemplateOutletContext","ngTemplateOutlet"]},{type:p.NgClass,selector:"[ngClass]",inputs:["class","ngClass"]},{type:d.NzSkeletonComponent,selector:"nz-skeleton",inputs:["nzActive","nzLoading","nzRound","nzTitle","nzAvatar","nzParagraph"],exportAs:["nzSkeleton"]},{type:f.NzBreadCrumbComponent,selector:"nz-breadcrumb",inputs:["nzAutoGenerate","nzSeparator","nzRouteLabel","nzRouteLabelFn"],exportAs:["nzBreadcrumb"]},{type:p.NgForOf,selector:"[ngFor][ngForOf]",inputs:["ngForOf","ngForTrackBy","ngForTemplate"]},{type:f.NzBreadCrumbItemComponent,selector:"nz-breadcrumb-item",inputs:["nzOverlay"],exportAs:["nzBreadcrumbItem"]},{type:n.RouterLinkWithHref,selector:"a[routerLink],area[routerLink]",inputs:["routerLink","target","queryParams","fragment","queryParamsHandling","preserveFragment","skipLocationChange","replaceUrl","state","relativeTo"]},{type:g.CdkObserveContent,selector:"[cdkObserveContent]",inputs:["cdkObserveContentDisabled","debounce"],outputs:["cdkObserveContent"],exportAs:["cdkObserveContent"]}],changeDetection:t.ChangeDetectionStrategy.OnPush,encapsulation:t.ViewEncapsulation.None}),y([o.InputBoolean(),v("design:type",Object)],T.prototype,"loading",void 0),y([o.InputBoolean(),v("design:type",Object)],T.prototype,"wide",void 0),y([o.InputBoolean(),v("design:type",Boolean)],T.prototype,"autoBreadcrumb",void 0),y([o.InputBoolean(),v("design:type",Boolean)],T.prototype,"autoTitle",void 0),y([o.InputBoolean(),v("design:type",Boolean)],T.prototype,"syncTitle",void 0),y([o.InputBoolean(),v("design:type",Boolean)],T.prototype,"fixed",void 0),y([o.InputNumber(),v("design:type",Number)],T.prototype,"fixedOffsetTop",void 0),y([o.InputBoolean(),v("design:type",Boolean)],T.prototype,"recursiveBreadcrumb",void 0),("undefined"==typeof ngDevMode||ngDevMode)&&t.ɵsetClassMetadata(T,[{type:t.Component,args:[{selector:"page-header",exportAs:"pageHeader",templateUrl:"./page-header.component.html",preserveWhitespaces:!1,changeDetection:t.ChangeDetectionStrategy.OnPush,encapsulation:t.ViewEncapsulation.None}]}],(function(){return[{type:i.SettingsService},{type:t.Renderer2},{type:n.Router},{type:i.MenuService},{type:void 0,decorators:[{type:t.Optional},{type:t.Inject,args:[i.ALAIN_I18N_TOKEN]}]},{type:i.TitleService,decorators:[{type:t.Optional},{type:t.Inject,args:[i.TitleService]}]},{type:r.ReuseTabService,decorators:[{type:t.Optional},{type:t.Inject,args:[r.ReuseTabService]}]},{type:t.ChangeDetectorRef},{type:o.AlainConfigService},{type:s.Platform},{type:c.Directionality,decorators:[{type:t.Optional}]}]}),{conTpl:[{type:t.ViewChild,args:["conTpl",{static:!1}]}],affix:[{type:t.ViewChild,args:["affix",{static:!1}]}],title:[{type:t.Input}],loading:[{type:t.Input}],wide:[{type:t.Input}],home:[{type:t.Input}],homeLink:[{type:t.Input}],homeI18n:[{type:t.Input}],autoBreadcrumb:[{type:t.Input}],autoTitle:[{type:t.Input}],syncTitle:[{type:t.Input}],fixed:[{type:t.Input}],fixedOffsetTop:[{type:t.Input}],breadcrumb:[{type:t.Input}],recursiveBreadcrumb:[{type:t.Input}],logo:[{type:t.Input}],action:[{type:t.Input}],content:[{type:t.Input}],extra:[{type:t.Input}],tab:[{type:t.Input}]});var O=[T],z=function(){};z.ɵmod=t.ɵɵdefineNgModule({type:z}),z.ɵinj=t.ɵɵdefineInjector({factory:function(e){return new(e||z)},imports:[[p.CommonModule,n.RouterModule,g.ObserversModule,o.DelonUtilModule,u.NzAffixModule,d.NzSkeletonModule,f.NzBreadCrumbModule]]}),("undefined"==typeof ngJitMode||ngJitMode)&&t.ɵɵsetNgModuleScope(z,{declarations:[T],imports:[p.CommonModule,n.RouterModule,g.ObserversModule,o.DelonUtilModule,u.NzAffixModule,d.NzSkeletonModule,f.NzBreadCrumbModule],exports:[T]}),("undefined"==typeof ngDevMode||ngDevMode)&&t.ɵsetClassMetadata(z,[{type:t.NgModule,args:[{imports:[p.CommonModule,n.RouterModule,g.ObserversModule,o.DelonUtilModule,u.NzAffixModule,d.NzSkeletonModule,f.NzBreadCrumbModule],declarations:I(O),exports:I(O)}]}],null,null),e.PageHeaderComponent=T,e.PageHeaderModule=z,Object.defineProperty(e,"__esModule",{value:!0})}));
//# sourceMappingURL=pageHeader.umd.min.js.map