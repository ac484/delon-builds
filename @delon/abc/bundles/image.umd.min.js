/**
 * @license ng-alain(cipchk@qq.com) v7.2.0
 * (c) 2019 cipchk https://ng-alain.com/
 * License: MIT
 */
!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("@angular/common"),require("@angular/core"),require("@delon/util")):"function"==typeof define&&define.amd?define("@delon/abc/image",["exports","@angular/common","@angular/core","@delon/util"],t):t((e.delon=e.delon||{},e.delon.abc=e.delon.abc||{},e.delon.abc.image={}),e.ng.common,e.ng.core,e.delon.util)}(this,function(e,t,n,o){"use strict";var i=function(){return(i=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};function r(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,o,i=r.call(e),c=[];try{for(;(void 0===t||0<t--)&&!(n=i.next()).done;)c.push(n.value)}catch(s){o={error:s}}finally{try{n&&!n.done&&(r=i["return"])&&r.call(i)}finally{if(o)throw o.error}}return c}function c(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(r(arguments[t]));return e}var s=function(){function e(){this.size=64,this.error="./assets/img/logo.svg"}return e.decorators=[{type:n.Injectable,args:[{providedIn:"root"}]}],e.ngInjectableDef=n.defineInjectable({factory:function(){return new e},token:e,providedIn:"root"}),e}(),a=function(){function e(e,t,r){this.el=t,this.render=r,this.size=64,this.error="./assets/img/logo.svg",this.inited=!1,Object.assign(this,i({},new s,e))}return e.prototype.ngOnInit=function(){this.update(),this.updateError(),this.inited=!0},e.prototype.ngOnChanges=function(e){this.inited&&(e.error?this.updateError():this.update())},e.prototype.update=function(){var t=this,e=this.src,r=this,n=r.size,o=r.render,i=r.el;if(e.includes("qlogo.cn")){var c=e.split("/"),s=c[c.length-1];c[c.length-1]="0"===s||+s!==n?n.toString():s,e=c.join("/")}var a=e.startsWith("http:"),u=e.startsWith("https:");(a||u)&&(e=e.substr(a?5:6)),o.setAttribute(i.nativeElement,"src",e),["height","width"].forEach(function(e){return o.setAttribute(t.el.nativeElement,e,n.toString())})},e.prototype.updateError=function(){this.render.setAttribute(this.el.nativeElement,"onerror","this.src='"+this.error+"'")},e.decorators=[{type:n.Directive,args:[{selector:"[_src]",exportAs:"srcDirective"}]}],e.ctorParameters=function(){return[{type:s},{type:n.ElementRef},{type:n.Renderer2}]},e.propDecorators={src:[{type:n.Input,args:["_src"]}],size:[{type:n.Input}],error:[{type:n.Input}]},function a(e,t,r,n){var o,i=arguments.length,c=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;0<=s;s--)(o=e[s])&&(c=(i<3?o(c):3<i?o(t,r,c):o(t,r))||c);return 3<i&&c&&Object.defineProperty(t,r,c),c}([o.InputNumber(),function r(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)}("design:type",Object)],e.prototype,"size",void 0),e}(),u=[a],l=function(){function e(){}return e.decorators=[{type:n.NgModule,args:[{imports:[t.CommonModule,o.DelonUtilModule],declarations:c(u),exports:c(u)}]}],e}();e.ImageDirective=a,e.ImageConfig=s,e.ImageModule=l,Object.defineProperty(e,"__esModule",{value:!0})});
//# sourceMappingURL=image.umd.min.js.map