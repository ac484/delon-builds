/**
 * @license ng-alain(cipchk@qq.com) v2.0.1
 * (c) 2018 Cipchk https://ng-alain.com/
 * License: MIT
 */
!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("@angular/common"),require("@angular/core"),require("@delon/util")):"function"==typeof define&&define.amd?define("@delon/abc/image",["exports","@angular/common","@angular/core","@delon/util"],t):t((e.delon=e.delon||{},e.delon.abc=e.delon.abc||{},e.delon.abc.image={}),e.ng.common,e.ng.core,e.delon.util)}(this,function(e,t,o,n){"use strict";function r(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var o,n,i=r.call(e),s=[];try{for(;(void 0===t||0<t--)&&!(o=i.next()).done;)s.push(o.value)}catch(c){n={error:c}}finally{try{o&&!o.done&&(r=i["return"])&&r.call(i)}finally{if(n)throw n.error}}return s}function i(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(r(arguments[t]));return e}var s=function l(){this.size=64,this.error="./assets/img/logo.svg"},c=function(){function e(e,t,r){this.el=e,this.render=t,this.size=64,this.error="./assets/img/logo.svg",this.inited=!1,Object.assign(this,n.deepCopy(r))}return e.prototype.ngOnInit=function(){this.update(),this.updateError(),this.inited=!0},e.prototype.ngOnChanges=function(e){this.inited&&(e.error?this.updateError():this.update())},e.prototype.update=function(){var e=this.src;if(e.includes("qlogo.cn")){var t=e.split("/"),r=t[t.length-1];t[t.length-1]="0"===r||+r!==this.size?this.size.toString():r,e=t.join("/")}var o=e.startsWith("http:"),n=e.startsWith("https:");(o||n)&&(e=e.substr(o?5:6)),this.render.setAttribute(this.el.nativeElement,"src",e)},e.prototype.updateError=function(){this.render.setAttribute(this.el.nativeElement,"onerror","this.src='"+this.error+"';")},e.decorators=[{type:o.Directive,args:[{selector:"[_src]"}]}],e.ctorParameters=function(){return[{type:o.ElementRef},{type:o.Renderer2},{type:s}]},e.propDecorators={src:[{type:o.Input,args:["_src"]}],size:[{type:o.Input}],error:[{type:o.Input}]},function u(e,t,r,o){var n,i=arguments.length,s=i<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,r):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,r,o);else for(var c=e.length-1;0<=c;c--)(n=e[c])&&(s=(i<3?n(s):3<i?n(t,r,s):n(t,r))||s);return 3<i&&s&&Object.defineProperty(t,r,s),s}([n.InputNumber(),function r(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)}("design:type",Object)],e.prototype,"size",void 0),e}(),u=[c],a=function(){function e(){}return e.forRoot=function(){return{ngModule:e,providers:[s]}},e.decorators=[{type:o.NgModule,args:[{imports:[t.CommonModule,n.DelonUtilModule],declarations:i(u),exports:i(u)}]}],e}();e.ImageDirective=c,e.ImageConfig=s,e.ImageModule=a,Object.defineProperty(e,"__esModule",{value:!0})});
//# sourceMappingURL=image.umd.min.js.map