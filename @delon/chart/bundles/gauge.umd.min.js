/**
 * @license ng-alain(cipchk@qq.com) v2.0.1
 * (c) 2018 Cipchk https://ng-alain.com/
 * License: MIT
 */
!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports,require("@angular/common"),require("@angular/core"),require("@delon/util")):"function"==typeof define&&define.amd?define("@delon/chart/gauge",["exports","@angular/common","@angular/core","@delon/util"],e):e((t.delon=t.delon||{},t.delon.chart=t.delon.chart||{},t.delon.chart.gauge={}),t.ng.common,t.ng.core,t.delon.util)}(this,function(t,e,n,o){"use strict";function r(t,e,n,o){var r,i=arguments.length,a=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var l=t.length-1;0<=l;l--)(r=t[l])&&(a=(i<3?r(a):3<i?r(e,n,a):r(e,n))||a);return 3<i&&a&&Object.defineProperty(e,n,a),a}function i(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)}function a(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var o,r,i=n.call(t),a=[];try{for(;(void 0===e||0<e--)&&!(o=i.next()).done;)a.push(o.value)}catch(l){r={error:l}}finally{try{o&&!o.done&&(n=i["return"])&&n.call(i)}finally{if(r)throw r.error}}return a}function l(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(a(arguments[e]));return t}var c=function(){function t(){this.color="#2F9CFF",this.bgColor="#F0F2F5",this.initFlag=!1}return t.prototype.createData=function(){return[{name:this.title,value:this.percent}]},t.prototype.draw=function(){if(this.chart){this.chart.guide().clear();var t=this.createData();this.chart.guide().arc({zIndex:0,top:!1,start:[0,.95],end:[100,.95],style:{stroke:this.bgColor,lineWidth:12}}),this.chart.guide().arc({zIndex:1,start:[0,.95],end:[t[0].value,.95],style:{stroke:this.color,lineWidth:12}}),this.chart.guide().html({position:["50%","95%"],html:'\n      <div style="width: 300px;text-align: center;font-size: 12px!important;">\n        <p style="font-size: 14px; color: rgba(0,0,0,0.43);margin: 0;">'+this.title+'</p>\n        <p style="font-size: 24px;color: rgba(0,0,0,0.85);margin: 0;">\n          '+t[0].value+"%\n        </p>\n      </div>"}),this.chart.changeData(t)}},t.prototype.install=function(){this.uninstall(),this.node.nativeElement.innerHTML="",G2.Shape.registerShape("point","pointer",{drawShape:function(t,e){var n=t.points[0];n=this.parsePoint(n);var o=this.parsePoint({x:0,y:0});return e.addShape("line",{attrs:{x1:o.x,y1:o.y,x2:n.x,y2:n.y,stroke:t.color,lineWidth:2,lineCap:"round"}}),e.addShape("circle",{attrs:{x:o.x,y:o.y,r:9.75,stroke:t.color,lineWidth:2,fill:"#fff"}})}});var t=this.createData(),e=new G2.Chart({container:this.node.nativeElement,forceFit:!0,height:this.height,padding:[10,10,30,10]});e.source(t),e.coord("polar",{startAngle:-1.2*Math.PI,endAngle:.2*Math.PI}),e.scale("value",{min:0,max:100,nice:!0,tickCount:6}),e.axis("1",!1),e.axis("value",{zIndex:2,line:null,label:{offset:-12,formatter:this.format},tickLine:null,grid:null}),e.legend(!1),e.point({generatePoints:!0}).position("value*1").shape("pointer").color(this.color).active(!1),this.chart=e,this.draw()},t.prototype.uninstall=function(){this.chart&&this.chart.destroy()},t.prototype.ngOnInit=function(){this.initFlag=!0,this.install()},t.prototype.ngOnChanges=function(){this.initFlag&&this.draw()},t.prototype.ngOnDestroy=function(){this.uninstall()},t.decorators=[{type:n.Component,args:[{selector:"g2-gauge",template:"<div #container></div>",changeDetection:n.ChangeDetectionStrategy.OnPush}]}],t.propDecorators={title:[{type:n.Input}],height:[{type:n.Input}],color:[{type:n.Input}],bgColor:[{type:n.Input}],format:[{type:n.Input}],percent:[{type:n.Input}],node:[{type:n.ViewChild,args:["container"]}]},r([o.InputNumber(),i("design:type",Object)],t.prototype,"height",void 0),r([o.InputNumber(),i("design:type",Number)],t.prototype,"percent",void 0),t}(),s=[c],p=function(){function t(){}return t.decorators=[{type:n.NgModule,args:[{imports:[e.CommonModule,o.DelonUtilModule],declarations:l(s),exports:l(s)}]}],t}();t.G2GaugeComponent=c,t.G2GaugeModule=p,Object.defineProperty(t,"__esModule",{value:!0})});
//# sourceMappingURL=gauge.umd.min.js.map