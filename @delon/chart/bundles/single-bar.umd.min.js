/**
 * @license ng-alain(cipchk@qq.com) v9.0.0-rc.3
 * (c) 2020 cipchk https://ng-alain.com/
 * License: MIT
 */
!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("@angular/core"),require("@antv/g2"),require("@delon/theme"),require("@delon/util"),require("@angular/common")):"function"==typeof define&&define.amd?define("@delon/chart/single-bar",["exports","@angular/core","@antv/g2","@delon/theme","@delon/util","@angular/common"],t):t(((e=e||self).delon=e.delon||{},e.delon.chart=e.delon.chart||{},e.delon.chart["single-bar"]={}),e.ng.core,e.g2,e.delon.theme,e.delon.util,e.ng.common)}(this,(function(e,t,n,o,r,i){"use strict";
/*! *****************************************************************************
    Copyright (c) Microsoft Corporation. All rights reserved.
    Licensed under the Apache License, Version 2.0 (the "License"); you may not use
    this file except in compliance with the License. You may obtain a copy of the
    License at http://www.apache.org/licenses/LICENSE-2.0

    THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
    KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
    WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
    MERCHANTABLITY OR NON-INFRINGEMENT.

    See the Apache Version 2.0 License for specific language governing permissions
    and limitations under the License.
    ***************************************************************************** */var a=function(){return(a=Object.assign||function(e){for(var t,n=1,o=arguments.length;n<o;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)};function u(e,t,n,o){var r,i=arguments.length,a=i<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,o);else for(var u=e.length-1;u>=0;u--)(r=e[u])&&(a=(i<3?r(a):i>3?r(t,n,a):r(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a}function l(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)}function p(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var o,r,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(o=i.next()).done;)a.push(o.value)}catch(e){r={error:e}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(r)throw r.error}}return a}function c(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(p(arguments[t]));return e}var s=function(){function e(e,t,n){this.el=e,this.ngZone=t,this.delay=0,this.plusColor="#40a9ff",this.minusColor="#ff4d4f",this.height=60,this.barSize=30,this.min=0,this.max=100,this.value=0,this.line=!1,this.padding=0,this.textStyle={fontSize:12,color:"#595959"},n.attachKey(this,"chart","theme")}return e.prototype.install=function(){var e=this,t=e.el,o=e.height,r=e.padding,i=e.textStyle,u=e.line,l=e.format,p=e.theme,c=this.chart=new n.Chart({container:t.nativeElement,autoFit:!0,height:o,padding:r,theme:p});c.legend(!1),c.axis(!1),c.tooltip(!1),c.coordinate().transpose(),c.interval().position("1*value").label("value",(function(){return{formatter:l,style:a({},i)}})),u&&c.annotation().line({start:["50%","0%"],end:["50%","100%"],style:{stroke:"#e8e8e8",lineDash:[0,0]}}),c.render(),this.attachChart()},e.prototype.attachChart=function(){var e=this,t=e.chart,n=e.height,o=e.padding,r=e.value,i=e.min,a=e.max,u=e.plusColor,l=e.minusColor,p=e.barSize;t&&(t.scale({value:{max:a,min:i}}),t.height=n,t.padding=o,t.geometries[0].color("value",(function(e){return e>0?u:l})).size(p),t.changeData([{value:r}]))},e.prototype.ngOnInit=function(){var e=this;this.ngZone.runOutsideAngular((function(){return setTimeout((function(){return e.install()}),e.delay)}))},e.prototype.ngOnChanges=function(){var e=this;this.ngZone.runOutsideAngular((function(){return e.attachChart()}))},e.prototype.ngOnDestroy=function(){var e=this;this.chart&&this.ngZone.runOutsideAngular((function(){return e.chart.destroy()}))},e.decorators=[{type:t.Component,args:[{selector:"g2-single-bar",exportAs:"g2SingleBar",template:"",host:{"[style.height.px]":"height"},preserveWhitespaces:!1,changeDetection:t.ChangeDetectionStrategy.OnPush,encapsulation:t.ViewEncapsulation.None}]}],e.ctorParameters=function(){return[{type:t.ElementRef},{type:t.NgZone},{type:o.AlainConfigService}]},e.propDecorators={delay:[{type:t.Input}],plusColor:[{type:t.Input}],minusColor:[{type:t.Input}],height:[{type:t.Input}],barSize:[{type:t.Input}],min:[{type:t.Input}],max:[{type:t.Input}],value:[{type:t.Input}],line:[{type:t.Input}],format:[{type:t.Input}],padding:[{type:t.Input}],textStyle:[{type:t.Input}],theme:[{type:t.Input}]},u([r.InputNumber(),l("design:type",Object)],e.prototype,"delay",void 0),u([r.InputNumber(),l("design:type",Object)],e.prototype,"height",void 0),u([r.InputNumber(),l("design:type",Object)],e.prototype,"barSize",void 0),u([r.InputNumber(),l("design:type",Object)],e.prototype,"min",void 0),u([r.InputNumber(),l("design:type",Object)],e.prototype,"max",void 0),u([r.InputNumber(),l("design:type",Object)],e.prototype,"value",void 0),u([r.InputBoolean(),l("design:type",Object)],e.prototype,"line",void 0),e}();var h=[s],d=function(){function e(){}return e.decorators=[{type:t.NgModule,args:[{imports:[i.CommonModule,r.DelonUtilModule],declarations:c(h),exports:c(h)}]}],e}();e.G2SingleBarComponent=s,e.G2SingleBarModule=d,Object.defineProperty(e,"__esModule",{value:!0})}));
//# sourceMappingURL=single-bar.umd.min.js.map