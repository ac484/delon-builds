/**
 * @license ng-alain(cipchk@qq.com) v2.0.1
 * (c) 2018 Cipchk https://ng-alain.com/
 * License: MIT
 */
!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("@angular/common"),require("@angular/core"),require("@delon/util"),require("ng-zorro-antd")):"function"==typeof define&&define.amd?define("@delon/chart/radar",["exports","@angular/common","@angular/core","@delon/util","ng-zorro-antd"],t):t((e.delon=e.delon||{},e.delon.chart=e.delon.chart||{},e.delon.chart.radar={}),e.ng.common,e.ng.core,e.delon.util,e.ngZorro.antd)}(this,function(e,t,n,o,r){"use strict";function a(e,t,n,o){var r,a=arguments.length,i=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,n,o);else for(var l=e.length-1;0<=l;l--)(r=e[l])&&(i=(a<3?r(i):3<a?r(t,n,i):r(t,n))||i);return 3<a&&i&&Object.defineProperty(t,n,i),i}function i(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)}function l(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var o,r,a=n.call(e),i=[];try{for(;(void 0===t||0<t--)&&!(o=a.next()).done;)i.push(o.value)}catch(l){r={error:l}}finally{try{o&&!o.done&&(n=a["return"])&&n.call(a)}finally{if(r)throw r.error}}return i}function c(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(l(arguments[t]));return e}var d=function(){function e(e){this.cdr=e,this.legendData=[],this.delay=0,this.height=0,this.padding=[44,30,16,30],this.hasLegend=!0,this.tickCount=4,this.data=[],this.colors=["#1890FF","#FACC14","#2FC25B","#8543E0","#F04864","#13C2C2","#fa8c16","#a0d911"]}return e.prototype._click=function(e){var t=this.legendData,n=this.chart;t[e].checked=!t[e].checked,n.repaint()},e.prototype.install=function(){var n=this,e=this,t=e.node,o=e.height,r=e.hasLegend,a=e.padding,i=e.colors,l=this.chart=new G2.Chart({container:t.nativeElement,forceFit:!0,height:o-(r?80:22),padding:a});l.coord("polar"),l.legend(!1),l.axis("label",{line:null,labelOffset:8,labels:{label:{fill:"rgba(0, 0, 0, .65)"}},grid:{line:{stroke:"#e9e9e9",lineWidth:1,lineDash:[0,0]}}}),l.axis("value",{grid:{type:"polygon",line:{stroke:"#e9e9e9",lineWidth:1,lineDash:[0,0]}},labels:{label:{fill:"rgba(0, 0, 0, .65)"}}}),l.filter("name",function(t){var e=n.legendData.find(function(e){return e.name===t});return!e||!1!==e.checked}),l.line().position("label*value").color("name",i),l.point().position("label*value").color("name",i).shape("circle").size(3),l.render(),this.attachChart()},e.prototype.attachChart=function(){var e=this,t=e.chart,n=e.height,o=e.hasLegend,r=e.padding,a=e.data,i=e.colors,l=e.tickCount;t&&(t.set("height",n-(o?80:22)),t.set("padding",r),t.source(a,{value:{min:0,tickCount:l}}),t.get("geoms").forEach(function(e){e.color("name",i)}),t.repaint(),this.genLegend())},e.prototype.genLegend=function(){var e=this.hasLegend,t=this.cdr,n=this.chart;e&&(this.legendData=n.get("geoms")[0].get("dataArray").map(function(e){return{name:e[0]._origin.name,color:e[0].color,checked:!0,value:e.reduce(function(e,t){return e+t._origin.value},0)}}),t.detectChanges())},e.prototype.ngOnInit=function(){var e=this;setTimeout(function(){return e.install()},this.delay)},e.prototype.ngOnChanges=function(){this.legendData.forEach(function(e){return e.checked=!0}),this.attachChart()},e.prototype.ngOnDestroy=function(){this.chart&&this.chart.destroy()},e.decorators=[{type:n.Component,args:[{selector:"g2-radar",template:'<ng-container *stringTemplateOutlet="title"><h4>{{title}}</h4></ng-container>\n<div #container></div>\n<div nz-row class="g2-radar__legend" *ngIf="hasLegend">\n  <div nz-col [nzSpan]="24 / legendData.length" *ngFor="let i of legendData; let idx = index"\n    (click)="_click(idx)" class="g2-radar__legend-item">\n    <i class="g2-radar__legend-dot" [ngStyle]="{\'background-color\': !i.checked ? \'#aaa\' : i.color}"></i>\n    {{i.name}}\n    <h6 class="g2-radar__legend-title">{{i.value}}</h6>\n  </div>\n</div>\n',host:{"[class.g2-radar]":"true"},changeDetection:n.ChangeDetectionStrategy.OnPush}]}],e.ctorParameters=function(){return[{type:n.ChangeDetectorRef}]},e.propDecorators={node:[{type:n.ViewChild,args:["container"]}],delay:[{type:n.Input}],title:[{type:n.Input}],height:[{type:n.HostBinding,args:["style.height.px"]},{type:n.Input}],padding:[{type:n.Input}],hasLegend:[{type:n.Input}],tickCount:[{type:n.Input}],data:[{type:n.Input}],colors:[{type:n.Input}]},a([o.InputNumber(),i("design:type",Object)],e.prototype,"delay",void 0),a([o.InputNumber(),i("design:type",Object)],e.prototype,"height",void 0),a([o.InputBoolean(),i("design:type",Object)],e.prototype,"hasLegend",void 0),a([o.InputNumber(),i("design:type",Object)],e.prototype,"tickCount",void 0),e}(),s=[d],u=function(){function e(){}return e.decorators=[{type:n.NgModule,args:[{imports:[t.CommonModule,o.DelonUtilModule,r.NgZorroAntdModule],declarations:c(s),exports:c(s)}]}],e}();e.G2RadarComponent=d,e.G2RadarModule=u,Object.defineProperty(e,"__esModule",{value:!0})});
//# sourceMappingURL=radar.umd.min.js.map